(function(){}).call(this),function(){var e={},t=this,n=t.async;"undefined"!=typeof module&&module.exports?module.exports=e:t.async=e,e.noConflict=function(){return t.async=n,e};var i=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n+=1)t(e[n],n,e)},r=function(e,t){if(e.map)return e.map(t);var n=[];return i(e,function(e,i,r){n.push(t(e,i,r))}),n},o=function(e,t,n){return e.reduce?e.reduce(t,n):(i(e,function(e,i,r){n=t(n,e,i,r)}),n)},s=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},a=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1};e.nextTick="undefined"!=typeof process&&process.nextTick?process.nextTick:function(e){setTimeout(e,0)},e.forEach=function(e,t,n){if(!e.length)return n();var r=0;i(e,function(i){t(i,function(t){t?(n(t),n=function(){}):(r+=1,r===e.length&&n())})})},e.forEachSeries=function(e,t,n){if(!e.length)return n();var i=0,r=function(){t(e[i],function(t){t?(n(t),n=function(){}):(i+=1,i===e.length?n():r())})};r()},e.forEachLimit=function(e,t,n,i){if(!e.length||0>=t)return i();var r=0,o=0,s=0;!function a(){if(r===e.length)return i();for(;t>s&&o<e.length;)n(e[o],function(t){t?(i(t),i=function(){}):(r+=1,s-=1,r===e.length?i():a())}),o+=1,s+=1}()};var l=function(t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[e.forEach].concat(n))}},u=function(t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[e.forEachSeries].concat(n))}},c=function(e,t,n,i){var o=[];t=r(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n,i){o[e.index]=i,t(n)})},function(e){i(e,o)})};e.map=l(c),e.mapSeries=u(c),e.reduce=function(t,n,i,r){e.forEachSeries(t,function(e,t){i(n,e,function(e,i){n=i,t(e)})},function(e){r(e,n)})},e.inject=e.reduce,e.foldl=e.reduce,e.reduceRight=function(t,n,i,o){var s=r(t,function(e){return e}).reverse();e.reduce(s,n,i,o)},e.foldr=e.reduceRight;var d=function(e,t,n,i){var o=[];t=r(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n&&o.push(e),t()})},function(){i(r(o.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};e.filter=l(d),e.filterSeries=u(d),e.select=e.filter,e.selectSeries=e.filterSeries;var h=function(e,t,n,i){var o=[];t=r(t,function(e,t){return{index:t,value:e}}),e(t,function(e,t){n(e.value,function(n){n||o.push(e),t()})},function(){i(r(o.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};e.reject=l(h),e.rejectSeries=u(h);var p=function(e,t,n,i){e(t,function(e,t){n(e,function(n){n?(i(e),i=function(){}):t()})},function(){i()})};e.detect=l(p),e.detectSeries=u(p),e.some=function(t,n,i){e.forEach(t,function(e,t){n(e,function(e){e&&(i(!0),i=function(){}),t()})},function(){i(!1)})},e.any=e.some,e.every=function(t,n,i){e.forEach(t,function(e,t){n(e,function(e){e||(i(!1),i=function(){}),t()})},function(){i(!0)})},e.all=e.every,e.sortBy=function(t,n,i){e.map(t,function(e,t){n(e,function(n,i){n?t(n):t(null,{value:e,criteria:i})})},function(e,t){if(e)return i(e);var n=function(e,t){var n=e.criteria,i=t.criteria;return i>n?-1:n>i?1:0};i(null,r(t.sort(n),function(e){return e.value}))})},e.auto=function(e,t){t=t||function(){};var n=s(e);if(!n.length)return t(null);var r=[],l=[],u=function(e){l.unshift(e)},c=function(e){for(var t=0;t<l.length;t+=1)if(l[t]===e)return l.splice(t,1),void 0},d=function(){i(l,function(e){e()})};u(function(){r.length===n.length&&t(null)}),i(n,function(n){var i=e[n]instanceof Function?[e[n]]:e[n],s=function(e){e?(t(e),t=function(){}):(r.push(n),d())},l=i.slice(0,Math.abs(i.length-1))||[],h=function(){return o(l,function(e,t){return e&&-1!==a(r,t)},!0)};if(h())i[i.length-1](s);else{var p=function(){h()&&(c(p),i[i.length-1](s))};u(p)}})},e.waterfall=function(t,n){if(!t.length)return n();n=n||function(){};var i=function(t){return function(r){if(r)n(r),n=function(){};else{var o=Array.prototype.slice.call(arguments,1),s=t.next();s?o.push(i(s)):o.push(n),e.nextTick(function(){t.apply(null,o)})}}};i(e.iterator(t))()},e.parallel=function(t,n){if(n=n||function(){},t.constructor===Array)e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var i={};e.forEach(s(t),function(e,n){t[e](function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),i[e]=r,n(t)})},function(e){n(e,i)})}},e.series=function(t,n){if(n=n||function(){},t.constructor===Array)e.mapSeries(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var i={};e.forEachSeries(s(t),function(e,n){t[e](function(t){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),i[e]=r,n(t)})},function(e){n(e,i)})}},e.iterator=function(e){var t=function(n){var i=function(){return e.length&&e[n].apply(null,arguments),i.next()};return i.next=function(){return n<e.length-1?t(n+1):null},i};return t(0)},e.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var f=function(e,t,n,i){var r=[];e(t,function(e,t){n(e,function(e,n){r=r.concat(n||[]),t(e)})},function(e){i(e,r)})};e.concat=l(f),e.concatSeries=u(f),e.whilst=function(t,n,i){t()?n(function(r){return r?i(r):(e.whilst(t,n,i),void 0)}):i()},e.until=function(t,n,i){t()?i():n(function(r){return r?i(r):(e.until(t,n,i),void 0)})},e.queue=function(t,n){var i=0,r=[],o={concurrency:n,saturated:null,empty:null,drain:null,push:function(t,i){r.push({data:t,callback:i}),o.saturated&&r.length==n&&o.saturated(),e.nextTick(o.process)},process:function(){if(i<o.concurrency&&r.length){var e=r.shift();o.empty&&0==r.length&&o.empty(),i+=1,t(e.data,function(){i-=1,e.callback&&e.callback.apply(e,arguments),o.drain&&r.length+i==0&&o.drain(),o.process()})}},length:function(){return r.length},running:function(){return i}};return o};var g=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&i(n,function(t){console[e](t)}))}]))}};e.log=g("log"),e.dir=g("dir"),e.memoize=function(e,t){var n={};return t=t||function(e){return e},function(){var i=Array.prototype.slice.call(arguments),r=i.pop(),o=t.apply(null,i);o in n?r.apply(null,n[o]):e.apply(null,i.concat([function(){n[o]=arguments,r.apply(null,arguments)}]))}}}(),/*!
 * jQuery JavaScript Library v1.10.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03T13:48Z
 */
function(e,t){function n(e){var t=e.length,n=ct.type(e);return ct.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=Et[e]={};return ct.each(e.match(ht)||[],function(e,n){t[n]=!0}),t}function r(e,n,i,r){if(ct.acceptData(e)){var o,s,a=ct.expando,l=e.nodeType,u=l?ct.cache:e,c=l?e[a]:e[a]&&a;if(c&&u[c]&&(r||u[c].data)||i!==t||"string"!=typeof n)return c||(c=l?e[a]=tt.pop()||ct.guid++:a),u[c]||(u[c]=l?{}:{toJSON:ct.noop}),("object"==typeof n||"function"==typeof n)&&(r?u[c]=ct.extend(u[c],n):u[c].data=ct.extend(u[c].data,n)),s=u[c],r||(s.data||(s.data={}),s=s.data),i!==t&&(s[ct.camelCase(n)]=i),"string"==typeof n?(o=s[n],null==o&&(o=s[ct.camelCase(n)])):o=s,o}}function o(e,t,n){if(ct.acceptData(e)){var i,r,o=e.nodeType,s=o?ct.cache:e,l=o?e[ct.expando]:ct.expando;if(s[l]){if(t&&(i=n?s[l]:s[l].data)){ct.isArray(t)?t=t.concat(ct.map(t,ct.camelCase)):t in i?t=[t]:(t=ct.camelCase(t),t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!a(i):!ct.isEmptyObject(i))return}(n||(delete s[l].data,a(s[l])))&&(o?ct.cleanData([e],!0):ct.support.deleteExpando||s!=s.window?delete s[l]:s[l]=null)}}}function s(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(St,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:Tt.test(i)?ct.parseJSON(i):i}catch(o){}ct.data(e,n,i)}else i=t}return i}function a(e){var t;for(t in e)if(("data"!==t||!ct.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function u(){return!1}function c(){try{return J.activeElement}catch(e){}}function d(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function h(e,t,n){if(ct.isFunction(t))return ct.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return ct.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(zt.test(t))return ct.filter(t,e,n);t=ct.filter(t,e)}return ct.grep(e,function(e){return ct.inArray(e,t)>=0!==n})}function p(e){var t=Ut.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function f(e,t){return ct.nodeName(e,"table")&&ct.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function g(e){return e.type=(null!==ct.find.attr(e,"type"))+"/"+e.type,e}function m(e){var t=on.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function v(e,t){for(var n,i=0;null!=(n=e[i]);i++)ct._data(n,"globalEval",!t||ct._data(t[i],"globalEval"))}function y(e,t){if(1===t.nodeType&&ct.hasData(e)){var n,i,r,o=ct._data(e),s=ct._data(t,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)ct.event.add(t,n,a[n][i])}s.data&&(s.data=ct.extend({},s.data))}}function b(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ct.support.noCloneEvent&&t[ct.expando]){r=ct._data(t);for(i in r.events)ct.removeEvent(t,i,r.handle);t.removeAttribute(ct.expando)}"script"===n&&t.text!==e.text?(g(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ct.support.html5Clone&&e.innerHTML&&!ct.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function w(e,n){var i,r,o=0,s=typeof e.getElementsByTagName!==X?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==X?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],i=e.childNodes||e;null!=(r=i[o]);o++)!n||ct.nodeName(r,n)?s.push(r):ct.merge(s,w(r,n));return n===t||n&&ct.nodeName(e,n)?ct.merge([e],s):s}function _(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function x(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=En.length;r--;)if(t=En[r]+n,t in e)return t;return i}function C(e,t){return e=t||e,"none"===ct.css(e,"display")||!ct.contains(e.ownerDocument,e)}function k(e,t){for(var n,i,r,o=[],s=0,a=e.length;a>s;s++)i=e[s],i.style&&(o[s]=ct._data(i,"olddisplay"),n=i.style.display,t?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&C(i)&&(o[s]=ct._data(i,"olddisplay",A(i.nodeName)))):o[s]||(r=C(i),(n&&"none"!==n||!r)&&ct._data(i,"olddisplay",r?n:ct.css(i,"display"))));for(s=0;a>s;s++)i=e[s],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[s]||"":"none"));return e}function E(e,t,n){var i=yn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function T(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=ct.css(e,n+kn[o],!0,r)),i?("content"===n&&(s-=ct.css(e,"padding"+kn[o],!0,r)),"margin"!==n&&(s-=ct.css(e,"border"+kn[o]+"Width",!0,r))):(s+=ct.css(e,"padding"+kn[o],!0,r),"padding"!==n&&(s+=ct.css(e,"border"+kn[o]+"Width",!0,r)));return s}function S(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=dn(e),s=ct.support.boxSizing&&"border-box"===ct.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=hn(e,t,o),(0>r||null==r)&&(r=e.style[t]),bn.test(r))return r;i=s&&(ct.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+T(e,t,n||(s?"border":"content"),i,o)+"px"}function A(e){var t=J,n=_n[e];return n||(n=N(e,t),"none"!==n&&n||(cn=(cn||ct("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(cn[0].contentWindow||cn[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=N(e,t),cn.detach()),_n[e]=n),n}function N(e,t){var n=ct(t.createElement(e)).appendTo(t.body),i=ct.css(n[0],"display");return n.remove(),i}function P(e,t,n,i){var r;if(ct.isArray(t))ct.each(t,function(t,r){n||Sn.test(e)?i(e,r):P(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==ct.type(t))i(e,t);else for(r in t)P(e+"["+r+"]",t[r],n,i)}function $(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(ht)||[];if(ct.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function O(e,t,n,i){function r(a){var l;return o[a]=!0,ct.each(e[a]||[],function(e,a){var u=a(t,n,i);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var o={},s=e===Wn;return r(t.dataTypes[0])||!o["*"]&&r("*")}function D(e,n){var i,r,o=ct.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);return i&&ct.extend(!0,e,i),e}function j(e,n,i){for(var r,o,s,a,l=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(a in l)if(l[a]&&l[a].test(o)){u.unshift(a);break}if(u[0]in i)s=u[0];else{for(a in i){if(!u[0]||e.converters[a+" "+u[0]]){s=a;break}r||(r=a)}s=s||r}return s?(s!==u[0]&&u.unshift(s),i[s]):void 0}function I(e,t,n,i){var r,o,s,a,l,u={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)u[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(s=u[l+" "+o]||u["* "+o],!s)for(r in u)if(a=r.split(" "),a[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){s===!0?s=u[r]:u[r]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(d){return{state:"parsererror",error:s?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function M(){try{return new e.XMLHttpRequest}catch(t){}}function R(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function L(){return setTimeout(function(){Zn=t}),Zn=ct.now()}function B(e,t,n){for(var i,r=(oi[t]||[]).concat(oi["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,t,e))return i}function H(e,t,n){var i,r,o=0,s=ri.length,a=ct.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Zn||L(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,o=1-i,s=0,l=u.tweens.length;l>s;s++)u.tweens[s].run(o);return a.notifyWith(e,[u,o,n]),1>o&&l?n:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:ct.extend({},t),opts:ct.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Zn||L(),duration:n.duration,tweens:[],createTween:function(t,n){var i=ct.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return t?a.resolveWith(e,[u,t]):a.rejectWith(e,[u,t]),this}}),c=u.props;for(F(c,u.opts.specialEasing);s>o;o++)if(i=ri[o].call(u,e,c,u.opts))return i;return ct.map(c,B,u),ct.isFunction(u.opts.start)&&u.opts.start.call(e,u),ct.fx.timer(ct.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function F(e,t){var n,i,r,o,s;for(n in e)if(i=ct.camelCase(n),r=t[i],o=e[n],ct.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),s=ct.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function z(e,t,n){var i,r,o,s,a,l,u=this,c={},d=e.style,h=e.nodeType&&C(e),p=ct._data(e,"fxshow");n.queue||(a=ct._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,ct.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===ct.css(e,"display")&&"none"===ct.css(e,"float")&&(ct.support.inlineBlockNeedsLayout&&"inline"!==A(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ct.support.shrinkWrapBlocks||u.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],ti.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(h?"hide":"show"))continue;c[i]=p&&p[i]||ct.style(e,i)}if(!ct.isEmptyObject(c)){p?"hidden"in p&&(h=p.hidden):p=ct._data(e,"fxshow",{}),o&&(p.hidden=!h),h?ct(e).show():u.done(function(){ct(e).hide()}),u.done(function(){var t;ct._removeData(e,"fxshow");for(t in c)ct.style(e,t,c[t])});for(i in c)s=B(h?p[i]:0,i,u),i in p||(p[i]=s.start,h&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function q(e,t,n,i,r){return new q.prototype.init(e,t,n,i,r)}function W(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=kn[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function V(e){return ct.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var U,G,X=typeof t,Q=e.location,J=e.document,Y=J.documentElement,K=e.jQuery,Z=e.$,et={},tt=[],nt="1.10.2",it=tt.concat,rt=tt.push,ot=tt.slice,st=tt.indexOf,at=et.toString,lt=et.hasOwnProperty,ut=nt.trim,ct=function(e,t){return new ct.fn.init(e,t,G)},dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ht=/\S+/g,pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ft=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,mt=/^[\],:{}\s]*$/,vt=/(?:^|:|,)(?:\s*\[)+/g,yt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,bt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,wt=/^-ms-/,_t=/-([\da-z])/gi,xt=function(e,t){return t.toUpperCase()},Ct=function(e){(J.addEventListener||"load"===e.type||"complete"===J.readyState)&&(kt(),ct.ready())},kt=function(){J.addEventListener?(J.removeEventListener("DOMContentLoaded",Ct,!1),e.removeEventListener("load",Ct,!1)):(J.detachEvent("onreadystatechange",Ct),e.detachEvent("onload",Ct))};ct.fn=ct.prototype={jquery:nt,constructor:ct,init:function(e,n,i){var r,o;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ft.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1]){if(n=n instanceof ct?n[0]:n,ct.merge(this,ct.parseHTML(r[1],n&&n.nodeType?n.ownerDocument||n:J,!0)),gt.test(r[1])&&ct.isPlainObject(n))for(r in n)ct.isFunction(this[r])?this[r](n[r]):this.attr(r,n[r]);return this}if(o=J.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ct.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ct.makeArray(e,this))},selector:"",length:0,toArray:function(){return ot.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ct.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ct.each(this,e,t)},ready:function(e){return ct.ready.promise().done(e),this},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(ct.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:rt,sort:[].sort,splice:[].splice},ct.fn.init.prototype=ct.fn,ct.extend=ct.fn.extend=function(){var e,n,i,r,o,s,a=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},l=2),"object"==typeof a||ct.isFunction(a)||(a={}),u===l&&(a=this,--l);u>l;l++)if(null!=(o=arguments[l]))for(r in o)e=a[r],i=o[r],a!==i&&(c&&i&&(ct.isPlainObject(i)||(n=ct.isArray(i)))?(n?(n=!1,s=e&&ct.isArray(e)?e:[]):s=e&&ct.isPlainObject(e)?e:{},a[r]=ct.extend(c,s,i)):i!==t&&(a[r]=i));return a},ct.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ct&&(e.$=Z),t&&e.jQuery===ct&&(e.jQuery=K),ct},isReady:!1,readyWait:1,holdReady:function(e){e?ct.readyWait++:ct.ready(!0)},ready:function(e){if(e===!0?!--ct.readyWait:!ct.isReady){if(!J.body)return setTimeout(ct.ready);ct.isReady=!0,e!==!0&&--ct.readyWait>0||(U.resolveWith(J,[ct]),ct.fn.trigger&&ct(J).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ct.type(e)},isArray:Array.isArray||function(e){return"array"===ct.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?et[at.call(e)]||"object":typeof e},isPlainObject:function(e){var n;if(!e||"object"!==ct.type(e)||e.nodeType||ct.isWindow(e))return!1;try{if(e.constructor&&!lt.call(e,"constructor")&&!lt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}if(ct.support.ownLast)for(n in e)return lt.call(e,n);for(n in e);return n===t||lt.call(e,n)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var i=gt.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=ct.buildFragment([e],t,r),r&&ct(r).remove(),ct.merge([],i.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=ct.trim(t),t&&mt.test(t.replace(yt,"@").replace(bt,"]").replace(vt,"")))?new Function("return "+t)():(ct.error("Invalid JSON: "+t),void 0)},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||ct.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&ct.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(wt,"ms-").replace(_t,xt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,s=e.length,a=n(e);if(i){if(a)for(;s>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(a)for(;s>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:ut&&!ut.call("﻿ ")?function(e){return null==e?"":ut.call(e)}:function(e){return null==e?"":(e+"").replace(pt,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?ct.merge(i,"string"==typeof e?[e]:e):rt.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(st)return st.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,o=0;if("number"==typeof i)for(;i>o;o++)e[r++]=n[o];else for(;n[o]!==t;)e[r++]=n[o++];return e.length=r,e},grep:function(e,t,n){var i,r=[],o=0,s=e.length;for(n=!!n;s>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,s=e.length,a=n(e),l=[];if(a)for(;s>o;o++)r=t(e[o],o,i),null!=r&&(l[l.length]=r);else for(o in e)r=t(e[o],o,i),null!=r&&(l[l.length]=r);return it.apply([],l)},guid:1,proxy:function(e,n){var i,r,o;return"string"==typeof n&&(o=e[n],n=e,e=o),ct.isFunction(e)?(i=ot.call(arguments,2),r=function(){return e.apply(n||this,i.concat(ot.call(arguments)))},r.guid=e.guid=e.guid||ct.guid++,r):t},access:function(e,n,i,r,o,s,a){var l=0,u=e.length,c=null==i;if("object"===ct.type(i)){o=!0;for(l in i)ct.access(e,n,l,i[l],!0,s,a)}else if(r!==t&&(o=!0,ct.isFunction(r)||(a=!0),c&&(a?(n.call(e,r),n=null):(c=n,n=function(e,t,n){return c.call(ct(e),n)})),n))for(;u>l;l++)n(e[l],i,a?r:r.call(e[l],l,n(e[l],i)));return o?e:c?n.call(e):u?n(e[0],i):s},now:function(){return(new Date).getTime()},swap:function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=s[o];return r}}),ct.ready.promise=function(t){if(!U)if(U=ct.Deferred(),"complete"===J.readyState)setTimeout(ct.ready);else if(J.addEventListener)J.addEventListener("DOMContentLoaded",Ct,!1),e.addEventListener("load",Ct,!1);else{J.attachEvent("onreadystatechange",Ct),e.attachEvent("onload",Ct);var n=!1;try{n=null==e.frameElement&&J.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!ct.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}kt(),ct.ready()}}()}return U.promise(t)},ct.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){et["[object "+t+"]"]=t.toLowerCase()}),G=ct(J),/*!
 * Sizzle CSS Selector Engine v1.10.2
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-07-03
 */
function(e,t){function n(e,t,n,i){var r,o,s,a,l,u,c,d,f,g;if((t?t.ownerDocument||t:H)!==O&&$(t),t=t||O,n=n||[],!e||"string"!=typeof e)return n;if(1!==(a=t.nodeType)&&9!==a)return[];if(j&&!i){if(r=bt.exec(e))if(s=r[1]){if(9===a){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&L(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return et.apply(n,t.getElementsByTagName(e)),n;if((s=r[3])&&C.getElementsByClassName&&t.getElementsByClassName)return et.apply(n,t.getElementsByClassName(s)),n}if(C.qsa&&(!I||!I.test(e))){if(d=c=B,f=t,g=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(u=h(e),(c=t.getAttribute("id"))?d=c.replace(xt,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=u.length;l--;)u[l]=d+p(u[l]);f=pt.test(e)&&t.parentNode||t,g=u.join(",")}if(g)try{return et.apply(n,f.querySelectorAll(g)),n}catch(m){}finally{c||t.removeAttribute("id")}}}return _(e.replace(ut,"$1"),t,n,i)}function i(){function e(n,i){return t.push(n+=" ")>E.cacheLength&&delete e[t.shift()],e[n]=i}var t=[];return e}function r(e){return e[B]=!0,e}function o(e){var t=O.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t){for(var n=e.split("|"),i=e.length;i--;)E.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Q)-(~e.sourceIndex||Q);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return r(function(t){return t=+t,r(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function d(){}function h(e,t){var i,r,o,s,a,l,u,c=W[e+" "];if(c)return t?0:c.slice(0);for(a=e,l=[],u=E.preFilter;a;){(!i||(r=dt.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),i=!1,(r=ht.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ut," ")}),a=a.slice(i.length));for(s in E.filter)!(r=vt[s].exec(a))||u[s]&&!(r=u[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return t?a.length:a?n.error(e):W(e,l).slice(0)}function p(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=z++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,s){var a,l,u,c=F+" "+o;if(s){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,s))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(u=t[B]||(t[B]={}),(l=u[i])&&l[0]===c){if((a=l[1])===!0||a===k)return a===!0}else if(l=u[i]=[c],l[1]=e(t,n,s)||k,l[1]===!0)return!0}}function g(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,u=null!=t;l>a;a++)(o=e[a])&&(!n||n(o,i,r))&&(s.push(o),u&&t.push(a));return s}function v(e,t,n,i,o,s){return i&&!i[B]&&(i=v(i)),o&&!o[B]&&(o=v(o,s)),r(function(r,s,a,l){var u,c,d,h=[],p=[],f=s.length,g=r||w(t||"*",a.nodeType?[a]:a,[]),v=!e||!r&&t?g:m(g,h,e,a,l),y=n?o||(r?e:f||i)?[]:s:v;if(n&&n(v,y,a,l),i)for(u=m(y,p),i(u,[],a,l),c=u.length;c--;)(d=u[c])&&(y[p[c]]=!(v[p[c]]=d));if(r){if(o||e){if(o){for(u=[],c=y.length;c--;)(d=y[c])&&u.push(v[c]=d);o(null,y=[],u,l)}for(c=y.length;c--;)(d=y[c])&&(u=o?nt.call(r,d):h[c])>-1&&(r[u]=!(s[u]=d))}}else y=m(y===s?y.splice(f,y.length):y),o?o(null,s,y,l):et.apply(s,y)})}function y(e){for(var t,n,i,r=e.length,o=E.relative[e[0].type],s=o||E.relative[" "],a=o?1:0,l=f(function(e){return e===t},s,!0),u=f(function(e){return nt.call(t,e)>-1},s,!0),c=[function(e,n,i){return!o&&(i||n!==N)||((t=n).nodeType?l(e,n,i):u(e,n,i))}];r>a;a++)if(n=E.relative[e[a].type])c=[f(g(c),n)];else{if(n=E.filter[e[a].type].apply(null,e[a].matches),n[B]){for(i=++a;r>i&&!E.relative[e[i].type];i++);return v(a>1&&g(c),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ut,"$1"),n,i>a&&y(e.slice(a,i)),r>i&&y(e=e.slice(i)),r>i&&p(e))}c.push(n)}return g(c)}function b(e,t){var i=0,o=t.length>0,s=e.length>0,a=function(r,a,l,u,c){var d,h,p,f=[],g=0,v="0",y=r&&[],b=null!=c,w=N,_=r||s&&E.find.TAG("*",c&&a.parentNode||a),x=F+=null==w?1:Math.random()||.1;for(b&&(N=a!==O&&a,k=i);null!=(d=_[v]);v++){if(s&&d){for(h=0;p=e[h++];)if(p(d,a,l)){u.push(d);break}b&&(F=x,k=++i)}o&&((d=!p&&d)&&g--,r&&y.push(d))}if(g+=v,o&&v!==g){for(h=0;p=t[h++];)p(y,f,a,l);if(r){if(g>0)for(;v--;)y[v]||f[v]||(f[v]=K.call(u));f=m(f)}et.apply(u,f),b&&!r&&f.length>0&&g+t.length>1&&n.uniqueSort(u)}return b&&(F=x,N=w),y};return o?r(a):a}function w(e,t,i){for(var r=0,o=t.length;o>r;r++)n(e,t[r],i);return i}function _(e,t,n,i){var r,o,s,a,l,u=h(e);if(!i&&1===u.length){if(o=u[0]=u[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&C.getById&&9===t.nodeType&&j&&E.relative[o[1].type]){if(t=(E.find.ID(s.matches[0].replace(Ct,kt),t)||[])[0],!t)return n;e=e.slice(o.shift().value.length)}for(r=vt.needsContext.test(e)?0:o.length;r--&&(s=o[r],!E.relative[a=s.type]);)if((l=E.find[a])&&(i=l(s.matches[0].replace(Ct,kt),pt.test(o[0].type)&&t.parentNode||t))){if(o.splice(r,1),e=i.length&&p(o),!e)return et.apply(n,i),n;break}}return A(e,u)(i,t,!j,n,pt.test(e)),n}var x,C,k,E,T,S,A,N,P,$,O,D,j,I,M,R,L,B="sizzle"+-new Date,H=e.document,F=0,z=0,q=i(),W=i(),V=i(),U=!1,G=function(e,t){return e===t?(U=!0,0):0},X=typeof t,Q=1<<31,J={}.hasOwnProperty,Y=[],K=Y.pop,Z=Y.push,et=Y.push,tt=Y.slice,nt=Y.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},it="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",ot="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",st=ot.replace("w","w#"),at="\\["+rt+"*("+ot+")"+rt+"*(?:([*^$|!~]?=)"+rt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+st+")|)|)"+rt+"*\\]",lt=":("+ot+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+at.replace(3,8)+")*)|.*)\\)|)",ut=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),dt=new RegExp("^"+rt+"*,"+rt+"*"),ht=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),pt=new RegExp(rt+"*[+~]"),ft=new RegExp("="+rt+"*([^\\]'\"]*)"+rt+"*\\]","g"),gt=new RegExp(lt),mt=new RegExp("^"+st+"$"),vt={ID:new RegExp("^#("+ot+")"),CLASS:new RegExp("^\\.("+ot+")"),TAG:new RegExp("^("+ot.replace("w","w*")+")"),ATTR:new RegExp("^"+at),PSEUDO:new RegExp("^"+lt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+it+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},yt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wt=/^(?:input|select|textarea|button)$/i,_t=/^h\d$/i,xt=/'|\\/g,Ct=new RegExp("\\\\([\\da-f]{1,6}"+rt+"?|("+rt+")|.)","ig"),kt=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{et.apply(Y=tt.call(H.childNodes),H.childNodes),Y[H.childNodes.length].nodeType}catch(Et){et={apply:Y.length?function(e,t){Z.apply(e,tt.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}S=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},C=n.support={},$=n.setDocument=function(e){var t=e?e.ownerDocument||e:H,n=t.defaultView;return t!==O&&9===t.nodeType&&t.documentElement?(O=t,D=t.documentElement,j=!S(t),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){$()}),C.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),C.getElementsByTagName=o(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),C.getElementsByClassName=o(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),C.getById=o(function(e){return D.appendChild(e).id=B,!t.getElementsByName||!t.getElementsByName(B).length}),C.getById?(E.find.ID=function(e,t){if(typeof t.getElementById!==X&&j){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},E.filter.ID=function(e){var t=e.replace(Ct,kt);return function(e){return e.getAttribute("id")===t}}):(delete E.find.ID,E.filter.ID=function(e){var t=e.replace(Ct,kt);return function(e){var n=typeof e.getAttributeNode!==X&&e.getAttributeNode("id");return n&&n.value===t}}),E.find.TAG=C.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==X?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},E.find.CLASS=C.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==X&&j?t.getElementsByClassName(e):void 0},M=[],I=[],(C.qsa=yt.test(t.querySelectorAll))&&(o(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||I.push("\\["+rt+"*(?:value|"+it+")"),e.querySelectorAll(":checked").length||I.push(":checked")}),o(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&I.push("[*^$]="+rt+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(C.matchesSelector=yt.test(R=D.webkitMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector||D.msMatchesSelector))&&o(function(e){C.disconnectedMatch=R.call(e,"div"),R.call(e,"[s!='']:x"),M.push("!=",lt)}),I=I.length&&new RegExp(I.join("|")),M=M.length&&new RegExp(M.join("|")),L=yt.test(D.contains)||D.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=D.compareDocumentPosition?function(e,n){if(e===n)return U=!0,0;var i=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n);return i?1&i||!C.sortDetached&&n.compareDocumentPosition(e)===i?e===t||L(H,e)?-1:n===t||L(H,n)?1:P?nt.call(P,e)-nt.call(P,n):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var i,r=0,o=e.parentNode,s=n.parentNode,l=[e],u=[n];if(e===n)return U=!0,0;if(!o||!s)return e===t?-1:n===t?1:o?-1:s?1:P?nt.call(P,e)-nt.call(P,n):0;if(o===s)return a(e,n);for(i=e;i=i.parentNode;)l.unshift(i);for(i=n;i=i.parentNode;)u.unshift(i);for(;l[r]===u[r];)r++;return r?a(l[r],u[r]):l[r]===H?-1:u[r]===H?1:0},t):O},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==O&&$(e),t=t.replace(ft,"='$1']"),!(!C.matchesSelector||!j||M&&M.test(t)||I&&I.test(t)))try{var i=R.call(e,t);if(i||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return n(t,O,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==O&&$(e),L(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==O&&$(e);var i=E.attrHandle[n.toLowerCase()],r=i&&J.call(E.attrHandle,n.toLowerCase())?i(e,n,!j):t;return r===t?C.attributes||!j?e.getAttribute(n):(r=e.getAttributeNode(n))&&r.specified?r.value:null:r},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],i=0,r=0;if(U=!C.detectDuplicates,P=!C.sortStable&&e.slice(0),e.sort(G),U){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return e},T=n.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=T(t);return n},E=n.selectors={cacheLength:50,createPseudo:r,match:vt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ct,kt),e[3]=(e[4]||e[5]||"").replace(Ct,kt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,i=!e[5]&&e[2];return vt.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:i&&gt.test(i)&&(n=h(i,!0))&&(n=i.indexOf(")",i.length-n)-i.length)&&(e[0]=e[0].slice(0,n),e[2]=i.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ct,kt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+rt+")"+e+"("+rt+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==X&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(r){var o=n.attr(r,e);return null==o?"!="===t:t?(o+="","="===t?o===i:"!="===t?o!==i:"^="===t?i&&0===o.indexOf(i):"*="===t?i&&o.indexOf(i)>-1:"$="===t?i&&o.slice(-i.length)===i:"~="===t?(" "+o+" ").indexOf(i)>-1:"|="===t?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,h,p,f,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a;if(m){if(o){for(;g;){for(d=t;d=d[g];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?m.firstChild:m.lastChild],s&&y){for(c=m[B]||(m[B]={}),u=c[e]||[],p=u[0]===F&&u[1],h=u[0]===F&&u[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){c[e]=[F,p,h];break}}else if(y&&(u=(t[B]||(t[B]={}))[e])&&u[0]===F)h=u[1];else for(;(d=++p&&d&&d[g]||(h=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[B]||(d[B]={}))[e]=[F,h]),d!==t)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,t){var i,o=E.pseudos[e]||E.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return o[B]?o(t):o.length>1?(i=[e,e,"",t],E.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,n){for(var i,r=o(e,t),s=r.length;s--;)i=nt.call(e,r[s]),e[i]=!(n[i]=r[s])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=A(e.replace(ut,"$1"));return i[B]?r(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:r(function(e){return function(t){return n(e,t).length>0}}),contains:r(function(e){return function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:r(function(e){return mt.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(Ct,kt).toLowerCase(),function(t){var n;do if(n=j?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===D},focus:function(e){return e===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!E.pseudos.empty(e)},header:function(e){return _t.test(e.nodeName)},input:function(e){return wt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},E.pseudos.nth=E.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})E.pseudos[x]=u(x);d.prototype=E.filters=E.pseudos,E.setFilters=new d,A=n.compile=function(e,t){var n,i=[],r=[],o=V[e+" "];if(!o){for(t||(t=h(e)),n=t.length;n--;)o=y(t[n]),o[B]?i.push(o):r.push(o);o=V(e,b(r,i))}return o},C.sortStable=B.split("").sort(G).join("")===B,C.detectDuplicates=U,$(),C.sortDetached=o(function(e){return 1&e.compareDocumentPosition(O.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||s("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),C.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||s("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||s(it,function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&i.specified?i.value:e[t]===!0?t.toLowerCase():null}),ct.find=n,ct.expr=n.selectors,ct.expr[":"]=ct.expr.pseudos,ct.unique=n.uniqueSort,ct.text=n.getText,ct.isXMLDoc=n.isXML,ct.contains=n.contains}(e);var Et={};ct.Callbacks=function(e){e="string"==typeof e?Et[e]||i(e):ct.extend({},e);var n,r,o,s,a,l,u=[],c=!e.once&&[],d=function(t){for(r=e.memory&&t,o=!0,a=l||0,l=0,s=u.length,n=!0;u&&s>a;a++)if(u[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,u&&(c?c.length&&d(c.shift()):r?u=[]:h.disable())},h={add:function(){if(u){var t=u.length;!function i(t){ct.each(t,function(t,n){var r=ct.type(n);"function"===r?e.unique&&h.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})}(arguments),n?s=u.length:r&&(l=t,d(r))}return this},remove:function(){return u&&ct.each(arguments,function(e,t){for(var i;(i=ct.inArray(t,u,i))>-1;)u.splice(i,1),n&&(s>=i&&s--,a>=i&&a--)}),this},has:function(e){return e?ct.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=c=r=t,this},disabled:function(){return!u},lock:function(){return c=t,r||h.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!u||o&&!c||(t=t||[],t=[e,t.slice?t.slice():t],n?c.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!o}};return h},ct.extend({Deferred:function(e){var t=[["resolve","done",ct.Callbacks("once memory"),"resolved"],["reject","fail",ct.Callbacks("once memory"),"rejected"],["notify","progress",ct.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ct.Deferred(function(n){ct.each(t,function(t,o){var s=o[0],a=ct.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&ct.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ct.extend(e,i):i}},r={};return i.pipe=i.then,ct.each(t,function(e,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=ot.call(arguments),s=o.length,a=1!==s||e&&ct.isFunction(e.promise)?s:0,l=1===a?e:ct.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?ot.call(arguments):r,i===t?l.notifyWith(n,i):--a||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&ct.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(l.reject).progress(u(r,n,t)):--a;return a||l.resolveWith(i,o),l.promise()}}),ct.support=function(t){var n,i,r,o,s,a,l,u,c,d=J.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*")||[],i=d.getElementsByTagName("a")[0],!i||!i.style||!n.length)return t;o=J.createElement("select"),a=o.appendChild(J.createElement("option")),r=d.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(i.getAttribute("style")),t.hrefNormalized="/a"===i.getAttribute("href"),t.opacity=/^0.5/.test(i.style.opacity),t.cssFloat=!!i.style.cssFloat,t.checkOn=!!r.value,t.optSelected=a.selected,t.enctype=!!J.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==J.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,r.checked=!0,t.noCloneChecked=r.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!a.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}r=J.createElement("input"),r.setAttribute("value",""),t.input=""===r.getAttribute("value"),r.value="t",r.setAttribute("type","radio"),t.radioValue="t"===r.value,r.setAttribute("checked","t"),r.setAttribute("name","t"),s=J.createDocumentFragment(),s.appendChild(r),t.appendChecked=r.checked,t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(c in{submit:!0,change:!0,focusin:!0})d.setAttribute(l="on"+c,"t"),t[c+"Bubbles"]=l in e||d.attributes[l].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(c in ct(t))break;return t.ownLast="0"!==c,ct(function(){var n,i,r,o="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=J.getElementsByTagName("body")[0];s&&(n=J.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=d.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",u=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=u&&0===r[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ct.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,i=d.appendChild(J.createElement("div")),i.style.cssText=d.style.cssText=o,i.style.marginRight=i.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),typeof d.style.zoom!==X&&(d.innerHTML="",d.style.cssText=o+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(s.style.zoom=1)),s.removeChild(n),n=d=r=i=null)}),n=o=s=a=i=r=null,t}({});var Tt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,St=/([A-Z])/g;ct.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ct.cache[e[ct.expando]]:e[ct.expando],!!e&&!a(e)},data:function(e,t,n){return r(e,t,n)},removeData:function(e,t){return o(e,t)},_data:function(e,t,n){return r(e,t,n,!0)},_removeData:function(e,t){return o(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&ct.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),ct.fn.extend({data:function(e,n){var i,r,o=null,a=0,l=this[0];if(e===t){if(this.length&&(o=ct.data(l),1===l.nodeType&&!ct._data(l,"parsedAttrs"))){for(i=l.attributes;a<i.length;a++)r=i[a].name,0===r.indexOf("data-")&&(r=ct.camelCase(r.slice(5)),s(l,r,o[r]));ct._data(l,"parsedAttrs",!0)}return o}return"object"==typeof e?this.each(function(){ct.data(this,e)}):arguments.length>1?this.each(function(){ct.data(this,e,n)}):l?s(l,e,ct.data(l,e)):null},removeData:function(e){return this.each(function(){ct.removeData(this,e)})}}),ct.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ct._data(e,t),n&&(!i||ct.isArray(n)?i=ct._data(e,t,ct.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=ct.queue(e,t),i=n.length,r=n.shift(),o=ct._queueHooks(e,t),s=function(){ct.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ct._data(e,n)||ct._data(e,n,{empty:ct.Callbacks("once memory").add(function(){ct._removeData(e,t+"queue"),ct._removeData(e,n)})})}}),ct.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?ct.queue(this[0],e):n===t?this:this.each(function(){var t=ct.queue(this,e,n);ct._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ct.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ct.dequeue(this,e)})},delay:function(e,t){return e=ct.fx?ct.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,o=ct.Deferred(),s=this,a=this.length,l=function(){--r||o.resolveWith(s,[s])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";a--;)i=ct._data(s[a],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(l));return l(),o.promise(n)}});var At,Nt,Pt=/[\t\r\n\f]/g,$t=/\r/g,Ot=/^(?:input|select|textarea|button|object)$/i,Dt=/^(?:a|area)$/i,jt=/^(?:checked|selected)$/i,It=ct.support.getSetAttribute,Mt=ct.support.input;ct.fn.extend({attr:function(e,t){return ct.access(this,ct.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ct.removeAttr(this,e)})},prop:function(e,t){return ct.access(this,ct.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ct.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,o,s=0,a=this.length,l="string"==typeof e&&e;if(ct.isFunction(e))return this.each(function(t){ct(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ht)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Pt," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");n.className=ct.trim(i)}return this},removeClass:function(e){var t,n,i,r,o,s=0,a=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ct.isFunction(e))return this.each(function(t){ct(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ht)||[];a>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Pt," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");n.className=e?ct.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):ct.isFunction(e)?this.each(function(n){ct(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,i=0,r=ct(this),o=e.match(ht)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===X||"boolean"===n)&&(this.className&&ct._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ct._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Pt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,o=this[0];{if(arguments.length)return r=ct.isFunction(e),this.each(function(n){var o;1===this.nodeType&&(o=r?e.call(this,n,ct(this).val()):e,null==o?o="":"number"==typeof o?o+="":ct.isArray(o)&&(o=ct.map(o,function(e){return null==e?"":e+""})),i=ct.valHooks[this.type]||ct.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,o,"value")!==t||(this.value=o))});if(o)return i=ct.valHooks[o.type]||ct.valHooks[o.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace($t,""):null==n?"":n)}}}),ct.extend({valHooks:{option:{get:function(e){var t=ct.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,s=o?null:[],a=o?r+1:i.length,l=0>r?a:o?r:0;a>l;l++)if(n=i[l],!(!n.selected&&l!==r||(ct.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&ct.nodeName(n.parentNode,"optgroup"))){if(t=ct(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,i,r=e.options,o=ct.makeArray(t),s=r.length;s--;)i=r[s],(i.selected=ct.inArray(ct(i).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,n,i){var r,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===X?ct.prop(e,n,i):(1===s&&ct.isXMLDoc(e)||(n=n.toLowerCase(),r=ct.attrHooks[n]||(ct.expr.match.bool.test(n)?Nt:At)),i===t?r&&"get"in r&&null!==(o=r.get(e,n))?o:(o=ct.find.attr(e,n),null==o?t:o):null!==i?r&&"set"in r&&(o=r.set(e,i,n))!==t?o:(e.setAttribute(n,i+""),i):(ct.removeAttr(e,n),void 0))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(ht);if(o&&1===e.nodeType)for(;n=o[r++];)i=ct.propFix[n]||n,ct.expr.match.bool.test(n)?Mt&&It||!jt.test(n)?e[i]=!1:e[ct.camelCase("default-"+n)]=e[i]=!1:ct.attr(e,n,""),e.removeAttribute(It?n:i)},attrHooks:{type:{set:function(e,t){if(!ct.support.radioValue&&"radio"===t&&ct.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,i){var r,o,s,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return s=1!==a||!ct.isXMLDoc(e),s&&(n=ct.propFix[n]||n,o=ct.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var t=ct.find.attr(e,"tabindex");return t?parseInt(t,10):Ot.test(e.nodeName)||Dt.test(e.nodeName)&&e.href?0:-1}}}}),Nt={set:function(e,t,n){return t===!1?ct.removeAttr(e,n):Mt&&It||!jt.test(n)?e.setAttribute(!It&&ct.propFix[n]||n,n):e[ct.camelCase("default-"+n)]=e[n]=!0,n}},ct.each(ct.expr.match.bool.source.match(/\w+/g),function(e,n){var i=ct.expr.attrHandle[n]||ct.find.attr;ct.expr.attrHandle[n]=Mt&&It||!jt.test(n)?function(e,n,r){var o=ct.expr.attrHandle[n],s=r?t:(ct.expr.attrHandle[n]=t)!=i(e,n,r)?n.toLowerCase():null;return ct.expr.attrHandle[n]=o,s}:function(e,n,i){return i?t:e[ct.camelCase("default-"+n)]?n.toLowerCase():null}}),Mt&&It||(ct.attrHooks.value={set:function(e,t,n){return ct.nodeName(e,"input")?(e.defaultValue=t,void 0):At&&At.set(e,t,n)}}),It||(At={set:function(e,n,i){var r=e.getAttributeNode(i);return r||e.setAttributeNode(r=e.ownerDocument.createAttribute(i)),r.value=n+="","value"===i||n===e.getAttribute(i)?n:t}},ct.expr.attrHandle.id=ct.expr.attrHandle.name=ct.expr.attrHandle.coords=function(e,n,i){var r;return i?t:(r=e.getAttributeNode(n))&&""!==r.value?r.value:null},ct.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&i.specified?i.value:t},set:At.set},ct.attrHooks.contenteditable={set:function(e,t,n){At.set(e,""===t?!1:t,n)}},ct.each(["width","height"],function(e,t){ct.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ct.support.hrefNormalized||ct.each(["href","src"],function(e,t){ct.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ct.support.style||(ct.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""
}}),ct.support.optSelected||(ct.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ct.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ct.propFix[this.toLowerCase()]=this}),ct.support.enctype||(ct.propFix.enctype="encoding"),ct.each(["radio","checkbox"],function(){ct.valHooks[this]={set:function(e,t){return ct.isArray(t)?e.checked=ct.inArray(ct(e).val(),t)>=0:void 0}},ct.support.checkOn||(ct.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Rt=/^(?:input|select|textarea)$/i,Lt=/^key/,Bt=/^(?:mouse|contextmenu)|click/,Ht=/^(?:focusinfocus|focusoutblur)$/,Ft=/^([^.]*)(?:\.(.+)|)$/;ct.event={global:{},add:function(e,n,i,r,o){var s,a,l,u,c,d,h,p,f,g,m,v=ct._data(e);if(v){for(i.handler&&(u=i,i=u.handler,o=u.selector),i.guid||(i.guid=ct.guid++),(a=v.events)||(a=v.events={}),(d=v.handle)||(d=v.handle=function(e){return typeof ct===X||e&&ct.event.triggered===e.type?t:ct.event.dispatch.apply(d.elem,arguments)},d.elem=e),n=(n||"").match(ht)||[""],l=n.length;l--;)s=Ft.exec(n[l])||[],f=m=s[1],g=(s[2]||"").split(".").sort(),f&&(c=ct.event.special[f]||{},f=(o?c.delegateType:c.bindType)||f,c=ct.event.special[f]||{},h=ct.extend({type:f,origType:m,data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&ct.expr.match.needsContext.test(o),namespace:g.join(".")},u),(p=a[f])||(p=a[f]=[],p.delegateCount=0,c.setup&&c.setup.call(e,r,g,d)!==!1||(e.addEventListener?e.addEventListener(f,d,!1):e.attachEvent&&e.attachEvent("on"+f,d))),c.add&&(c.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),o?p.splice(p.delegateCount++,0,h):p.push(h),ct.event.global[f]=!0);e=null}},remove:function(e,t,n,i,r){var o,s,a,l,u,c,d,h,p,f,g,m=ct.hasData(e)&&ct._data(e);if(m&&(c=m.events)){for(t=(t||"").match(ht)||[""],u=t.length;u--;)if(a=Ft.exec(t[u])||[],p=g=a[1],f=(a[2]||"").split(".").sort(),p){for(d=ct.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,h=c[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=h.length;o--;)s=h[o],!r&&g!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(h.splice(o,1),s.selector&&h.delegateCount--,d.remove&&d.remove.call(e,s));l&&!h.length&&(d.teardown&&d.teardown.call(e,f,m.handle)!==!1||ct.removeEvent(e,p,m.handle),delete c[p])}else for(p in c)ct.event.remove(e,p+t[u],n,i,!0);ct.isEmptyObject(c)&&(delete m.handle,ct._removeData(e,"events"))}},trigger:function(n,i,r,o){var s,a,l,u,c,d,h,p=[r||J],f=lt.call(n,"type")?n.type:n,g=lt.call(n,"namespace")?n.namespace.split("."):[];if(l=d=r=r||J,3!==r.nodeType&&8!==r.nodeType&&!Ht.test(f+ct.event.triggered)&&(f.indexOf(".")>=0&&(g=f.split("."),f=g.shift(),g.sort()),a=f.indexOf(":")<0&&"on"+f,n=n[ct.expando]?n:new ct.Event(f,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=r),i=null==i?[n]:ct.makeArray(i,[n]),c=ct.event.special[f]||{},o||!c.trigger||c.trigger.apply(r,i)!==!1)){if(!o&&!c.noBubble&&!ct.isWindow(r)){for(u=c.delegateType||f,Ht.test(u+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),d=l;d===(r.ownerDocument||J)&&p.push(d.defaultView||d.parentWindow||e)}for(h=0;(l=p[h++])&&!n.isPropagationStopped();)n.type=h>1?u:c.bindType||f,s=(ct._data(l,"events")||{})[n.type]&&ct._data(l,"handle"),s&&s.apply(l,i),s=a&&l[a],s&&ct.acceptData(l)&&s.apply&&s.apply(l,i)===!1&&n.preventDefault();if(n.type=f,!o&&!n.isDefaultPrevented()&&(!c._default||c._default.apply(p.pop(),i)===!1)&&ct.acceptData(r)&&a&&r[f]&&!ct.isWindow(r)){d=r[a],d&&(r[a]=null),ct.event.triggered=f;try{r[f]()}catch(m){}ct.event.triggered=t,d&&(r[a]=d)}return n.result}},dispatch:function(e){e=ct.event.fix(e);var n,i,r,o,s,a=[],l=ot.call(arguments),u=(ct._data(this,"events")||{})[e.type]||[],c=ct.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=ct.event.handlers.call(this,e,u),n=0;(o=a[n++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,s=0;(r=o.handlers[s++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(r.namespace))&&(e.handleObj=r,e.data=r.data,i=((ct.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,l),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,r,o,s,a=[],l=n.delegateCount,u=e.target;if(l&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(o=[],s=0;l>s;s++)r=n[s],i=r.selector+" ",o[i]===t&&(o[i]=r.needsContext?ct(i,this).index(u)>=0:ct.find(i,this,null,[u]).length),o[i]&&o.push(r);o.length&&a.push({elem:u,handlers:o})}return l<n.length&&a.push({elem:this,handlers:n.slice(l)}),a},fix:function(e){if(e[ct.expando])return e;var t,n,i,r=e.type,o=e,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Bt.test(r)?this.mouseHooks:Lt.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,e=new ct.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=o.srcElement||J),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,s=n.button,a=n.fromElement;return null==e.pageX&&null!=n.clientX&&(r=e.target.ownerDocument||J,o=r.documentElement,i=r.body,e.pageX=n.clientX+(o&&o.scrollLeft||i&&i.scrollLeft||0)-(o&&o.clientLeft||i&&i.clientLeft||0),e.pageY=n.clientY+(o&&o.scrollTop||i&&i.scrollTop||0)-(o&&o.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==c()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===c()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ct.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return ct.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=ct.extend(new ct.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?ct.event.trigger(r,null,t):ct.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},ct.removeEvent=J.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===X&&(e[i]=null),e.detachEvent(i,n))},ct.Event=function(e,t){return this instanceof ct.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:u):this.type=e,t&&ct.extend(this,t),this.timeStamp=e&&e.timeStamp||ct.now(),this[ct.expando]=!0,void 0):new ct.Event(e,t)},ct.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ct.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ct.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!ct.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ct.support.submitBubbles||(ct.event.special.submit={setup:function(){return ct.nodeName(this,"form")?!1:(ct.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=ct.nodeName(n,"input")||ct.nodeName(n,"button")?n.form:t;i&&!ct._data(i,"submitBubbles")&&(ct.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),ct._data(i,"submitBubbles",!0))}),void 0)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ct.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ct.nodeName(this,"form")?!1:(ct.event.remove(this,"._submit"),void 0)}}),ct.support.changeBubbles||(ct.event.special.change={setup:function(){return Rt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ct.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ct.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ct.event.simulate("change",this,e,!0)})),!1):(ct.event.add(this,"beforeactivate._change",function(e){var t=e.target;Rt.test(t.nodeName)&&!ct._data(t,"changeBubbles")&&(ct.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ct.event.simulate("change",this.parentNode,e,!0)}),ct._data(t,"changeBubbles",!0))}),void 0)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ct.event.remove(this,"._change"),!Rt.test(this.nodeName)}}),ct.support.focusinBubbles||ct.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){ct.event.simulate(t,e.target,ct.event.fix(e),!0)};ct.event.special[t]={setup:function(){0===n++&&J.addEventListener(e,i,!0)},teardown:function(){0===--n&&J.removeEventListener(e,i,!0)}}}),ct.fn.extend({on:function(e,n,i,r,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(s in e)this.on(s,n,i,e[s],o);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=u;else if(!r)return this;return 1===o&&(a=r,r=function(e){return ct().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ct.guid++)),this.each(function(){ct.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,o;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,ct(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=u),this.each(function(){ct.event.remove(this,e,i,n)})},trigger:function(e,t){return this.each(function(){ct.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?ct.event.trigger(e,t,n,!0):void 0}});var zt=/^.[^:#\[\.,]*$/,qt=/^(?:parents|prev(?:Until|All))/,Wt=ct.expr.match.needsContext,Vt={children:!0,contents:!0,next:!0,prev:!0};ct.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(ct(e).filter(function(){for(t=0;r>t;t++)if(ct.contains(i[t],this))return!0}));for(t=0;r>t;t++)ct.find(e,i[t],n);return n=this.pushStack(r>1?ct.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=ct(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(ct.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(h(this,e||[],!0))},filter:function(e){return this.pushStack(h(this,e||[],!1))},is:function(e){return!!h(this,"string"==typeof e&&Wt.test(e)?ct(e):e||[],!1).length},closest:function(e,t){for(var n,i=0,r=this.length,o=[],s=Wt.test(e)||"string"!=typeof e?ct(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ct.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?ct.unique(o):o)},index:function(e){return e?"string"==typeof e?ct.inArray(this[0],ct(e)):ct.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?ct(e,t):ct.makeArray(e&&e.nodeType?[e]:e),i=ct.merge(this.get(),n);return this.pushStack(ct.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ct.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ct.dir(e,"parentNode")},parentsUntil:function(e,t,n){return ct.dir(e,"parentNode",n)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return ct.dir(e,"nextSibling")},prevAll:function(e){return ct.dir(e,"previousSibling")},nextUntil:function(e,t,n){return ct.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return ct.dir(e,"previousSibling",n)},siblings:function(e){return ct.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ct.sibling(e.firstChild)},contents:function(e){return ct.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ct.merge([],e.childNodes)}},function(e,t){ct.fn[e]=function(n,i){var r=ct.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ct.filter(i,r)),this.length>1&&(Vt[e]||(r=ct.unique(r)),qt.test(e)&&(r=r.reverse())),this.pushStack(r)}}),ct.extend({filter:function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?ct.find.matchesSelector(i,e)?[i]:[]:ct.find.matches(e,ct.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!ct(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Ut="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Gt=/ jQuery\d+="(?:null|\d+)"/g,Xt=new RegExp("<(?:"+Ut+")[\\s/>]","i"),Qt=/^\s+/,Jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Yt=/<([\w:]+)/,Kt=/<tbody/i,Zt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,rn=/^$|\/(?:java|ecma)script/i,on=/^true\/(.*)/,sn=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,an={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ct.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=p(J),un=ln.appendChild(J.createElement("div"));an.optgroup=an.option,an.tbody=an.tfoot=an.colgroup=an.caption=an.thead,an.th=an.td,ct.fn.extend({text:function(e){return ct.access(this,function(e){return e===t?ct.text(this):this.empty().append((this[0]&&this[0].ownerDocument||J).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?ct.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||ct.cleanData(w(n)),n.parentNode&&(t&&ct.contains(n.ownerDocument,n)&&v(w(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ct.cleanData(w(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ct.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ct.clone(this,e,t)})},html:function(e){return ct.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Gt,""):t;if(!("string"!=typeof e||en.test(e)||!ct.support.htmlSerialize&&Xt.test(e)||!ct.support.leadingWhitespace&&Qt.test(e)||an[(Yt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Jt,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(ct.cleanData(w(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ct.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var i=e[t++],r=e[t++];r&&(i&&i.parentNode!==r&&(i=this.nextSibling),ct(this).remove(),r.insertBefore(n,i))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=it.apply([],e);var i,r,o,s,a,l,u=0,c=this.length,d=this,h=c-1,p=e[0],f=ct.isFunction(p);if(f||!(1>=c||"string"!=typeof p||ct.support.checkClone)&&nn.test(p))return this.each(function(i){var r=d.eq(i);f&&(e[0]=p.call(this,i,r.html())),r.domManip(e,t,n)});if(c&&(l=ct.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(s=ct.map(w(l,"script"),g),o=s.length;c>u;u++)r=l,u!==h&&(r=ct.clone(r,!0,!0),o&&ct.merge(s,w(r,"script"))),t.call(this[u],r,u);if(o)for(a=s[s.length-1].ownerDocument,ct.map(s,m),u=0;o>u;u++)r=s[u],rn.test(r.type||"")&&!ct._data(r,"globalEval")&&ct.contains(a,r)&&(r.src?ct._evalUrl(r.src):ct.globalEval((r.text||r.textContent||r.innerHTML||"").replace(sn,"")));l=i=null}return this}}),ct.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ct.fn[e]=function(e){for(var n,i=0,r=[],o=ct(e),s=o.length-1;s>=i;i++)n=i===s?this:this.clone(!0),ct(o[i])[t](n),rt.apply(r,n.get());return this.pushStack(r)}}),ct.extend({clone:function(e,t,n){var i,r,o,s,a,l=ct.contains(e.ownerDocument,e);if(ct.support.html5Clone||ct.isXMLDoc(e)||!Xt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(un.innerHTML=e.outerHTML,un.removeChild(o=un.firstChild)),!(ct.support.noCloneEvent&&ct.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ct.isXMLDoc(e)))for(i=w(o),a=w(e),s=0;null!=(r=a[s]);++s)i[s]&&b(r,i[s]);if(t)if(n)for(a=a||w(e),i=i||w(o),s=0;null!=(r=a[s]);s++)y(r,i[s]);else y(e,o);return i=w(o,"script"),i.length>0&&v(i,!l&&w(e,"script")),i=a=r=null,o},buildFragment:function(e,t,n,i){for(var r,o,s,a,l,u,c,d=e.length,h=p(t),f=[],g=0;d>g;g++)if(o=e[g],o||0===o)if("object"===ct.type(o))ct.merge(f,o.nodeType?[o]:o);else if(Zt.test(o)){for(a=a||h.appendChild(t.createElement("div")),l=(Yt.exec(o)||["",""])[1].toLowerCase(),c=an[l]||an._default,a.innerHTML=c[1]+o.replace(Jt,"<$1></$2>")+c[2],r=c[0];r--;)a=a.lastChild;if(!ct.support.leadingWhitespace&&Qt.test(o)&&f.push(t.createTextNode(Qt.exec(o)[0])),!ct.support.tbody)for(o="table"!==l||Kt.test(o)?"<table>"!==c[1]||Kt.test(o)?0:a:a.firstChild,r=o&&o.childNodes.length;r--;)ct.nodeName(u=o.childNodes[r],"tbody")&&!u.childNodes.length&&o.removeChild(u);for(ct.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=h.lastChild}else f.push(t.createTextNode(o));for(a&&h.removeChild(a),ct.support.appendChecked||ct.grep(w(f,"input"),_),g=0;o=f[g++];)if((!i||-1===ct.inArray(o,i))&&(s=ct.contains(o.ownerDocument,o),a=w(h.appendChild(o),"script"),s&&v(a),n))for(r=0;o=a[r++];)rn.test(o.type||"")&&n.push(o);return a=null,h},cleanData:function(e,t){for(var n,i,r,o,s=0,a=ct.expando,l=ct.cache,u=ct.support.deleteExpando,c=ct.event.special;null!=(n=e[s]);s++)if((t||ct.acceptData(n))&&(r=n[a],o=r&&l[r])){if(o.events)for(i in o.events)c[i]?ct.event.remove(n,i):ct.removeEvent(n,i,o.handle);l[r]&&(delete l[r],u?delete n[a]:typeof n.removeAttribute!==X?n.removeAttribute(a):n[a]=null,tt.push(r))}},_evalUrl:function(e){return ct.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ct.fn.extend({wrapAll:function(e){if(ct.isFunction(e))return this.each(function(t){ct(this).wrapAll(e.call(this,t))});if(this[0]){var t=ct(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ct.isFunction(e)?this.each(function(t){ct(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ct(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=ct.isFunction(e);return this.each(function(n){ct(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){ct.nodeName(this,"body")||ct(this).replaceWith(this.childNodes)}).end()}});var cn,dn,hn,pn=/alpha\([^)]*\)/i,fn=/opacity\s*=\s*([^)]*)/,gn=/^(top|right|bottom|left)$/,mn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,yn=new RegExp("^("+dt+")(.*)$","i"),bn=new RegExp("^("+dt+")(?!px)[a-z%]+$","i"),wn=new RegExp("^([+-])=("+dt+")","i"),_n={BODY:"block"},xn={position:"absolute",visibility:"hidden",display:"block"},Cn={letterSpacing:0,fontWeight:400},kn=["Top","Right","Bottom","Left"],En=["Webkit","O","Moz","ms"];ct.fn.extend({css:function(e,n){return ct.access(this,function(e,n,i){var r,o,s={},a=0;if(ct.isArray(n)){for(o=dn(e),r=n.length;r>a;a++)s[n[a]]=ct.css(e,n[a],!1,o);return s}return i!==t?ct.style(e,n,i):ct.css(e,n)},e,n,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){C(this)?ct(this).show():ct(this).hide()})}}),ct.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=hn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ct.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,a,l=ct.camelCase(n),u=e.style;if(n=ct.cssProps[l]||(ct.cssProps[l]=x(u,l)),a=ct.cssHooks[n]||ct.cssHooks[l],i===t)return a&&"get"in a&&(o=a.get(e,!1,r))!==t?o:u[n];if(s=typeof i,"string"===s&&(o=wn.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(ct.css(e,n)),s="number"),!(null==i||"number"===s&&isNaN(i)||("number"!==s||ct.cssNumber[l]||(i+="px"),ct.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(u[n]="inherit"),a&&"set"in a&&(i=a.set(e,i,r))===t)))try{u[n]=i}catch(c){}}},css:function(e,n,i,r){var o,s,a,l=ct.camelCase(n);return n=ct.cssProps[l]||(ct.cssProps[l]=x(e.style,l)),a=ct.cssHooks[n]||ct.cssHooks[l],a&&"get"in a&&(s=a.get(e,!0,i)),s===t&&(s=hn(e,n,r)),"normal"===s&&n in Cn&&(s=Cn[n]),""===i||i?(o=parseFloat(s),i===!0||ct.isNumeric(o)?o||0:s):s}}),e.getComputedStyle?(dn=function(t){return e.getComputedStyle(t,null)},hn=function(e,n,i){var r,o,s,a=i||dn(e),l=a?a.getPropertyValue(n)||a[n]:t,u=e.style;return a&&(""!==l||ct.contains(e.ownerDocument,e)||(l=ct.style(e,n)),bn.test(l)&&vn.test(n)&&(r=u.width,o=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=a.width,u.width=r,u.minWidth=o,u.maxWidth=s)),l}):J.documentElement.currentStyle&&(dn=function(e){return e.currentStyle},hn=function(e,n,i){var r,o,s,a=i||dn(e),l=a?a[n]:t,u=e.style;return null==l&&u&&u[n]&&(l=u[n]),bn.test(l)&&!gn.test(n)&&(r=u.left,o=e.runtimeStyle,s=o&&o.left,s&&(o.left=e.currentStyle.left),u.left="fontSize"===n?"1em":l,l=u.pixelLeft+"px",u.left=r,s&&(o.left=s)),""===l?"auto":l}),ct.each(["height","width"],function(e,t){ct.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&mn.test(ct.css(e,"display"))?ct.swap(e,xn,function(){return S(e,t,i)}):S(e,t,i):void 0},set:function(e,n,i){var r=i&&dn(e);return E(e,n,i?T(e,t,i,ct.support.boxSizing&&"border-box"===ct.css(e,"boxSizing",!1,r),r):0)}}}),ct.support.opacity||(ct.cssHooks.opacity={get:function(e,t){return fn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=ct.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===ct.trim(o.replace(pn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=pn.test(o)?o.replace(pn,r):o+" "+r)}}),ct(function(){ct.support.reliableMarginRight||(ct.cssHooks.marginRight={get:function(e,t){return t?ct.swap(e,{display:"inline-block"},hn,[e,"marginRight"]):void 0}}),!ct.support.pixelPosition&&ct.fn.position&&ct.each(["top","left"],function(e,t){ct.cssHooks[t]={get:function(e,n){return n?(n=hn(e,t),bn.test(n)?ct(e).position()[t]+"px":n):void 0}}})}),ct.expr&&ct.expr.filters&&(ct.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!ct.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ct.css(e,"display"))},ct.expr.filters.visible=function(e){return!ct.expr.filters.hidden(e)}),ct.each({margin:"",padding:"",border:"Width"},function(e,t){ct.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+kn[i]+t]=o[i]||o[i-2]||o[0];return r}},vn.test(e)||(ct.cssHooks[e+t].set=E)});var Tn=/%20/g,Sn=/\[\]$/,An=/\r?\n/g,Nn=/^(?:submit|button|image|reset|file)$/i,Pn=/^(?:input|select|textarea|keygen)/i;ct.fn.extend({serialize:function(){return ct.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ct.prop(this,"elements");return e?ct.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ct(this).is(":disabled")&&Pn.test(this.nodeName)&&!Nn.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=ct(this).val();return null==n?null:ct.isArray(n)?ct.map(n,function(e){return{name:t.name,value:e.replace(An,"\r\n")}}):{name:t.name,value:n.replace(An,"\r\n")}}).get()}}),ct.param=function(e,n){var i,r=[],o=function(e,t){t=ct.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=ct.ajaxSettings&&ct.ajaxSettings.traditional),ct.isArray(e)||e.jquery&&!ct.isPlainObject(e))ct.each(e,function(){o(this.name,this.value)});else for(i in e)P(i,e[i],n,o);return r.join("&").replace(Tn,"+")},ct.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ct.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),ct.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var $n,On,Dn=ct.now(),jn=/\?/,In=/#.*$/,Mn=/([?&])_=[^&]*/,Rn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ln=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Bn=/^(?:GET|HEAD)$/,Hn=/^\/\//,Fn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,zn=ct.fn.load,qn={},Wn={},Vn="*/".concat("*");try{On=Q.href}catch(Un){On=J.createElement("a"),On.href="",On=On.href}$n=Fn.exec(On.toLowerCase())||[],ct.fn.load=function(e,n,i){if("string"!=typeof e&&zn)return zn.apply(this,arguments);var r,o,s,a=this,l=e.indexOf(" ");return l>=0&&(r=e.slice(l,e.length),e=e.slice(0,l)),ct.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(s="POST"),a.length>0&&ct.ajax({url:e,type:s,dataType:"html",data:n}).done(function(e){o=arguments,a.html(r?ct("<div>").append(ct.parseHTML(e)).find(r):e)}).complete(i&&function(e,t){a.each(i,o||[e.responseText,t,e])}),this},ct.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ct.fn[t]=function(e){return this.on(t,e)}}),ct.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:On,type:"GET",isLocal:Ln.test($n[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ct.parseJSON,"text xml":ct.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?D(D(e,ct.ajaxSettings),t):D(ct.ajaxSettings,e)},ajaxPrefilter:$(qn),ajaxTransport:$(Wn),ajax:function(e,n){function i(e,n,i,r){var o,d,y,b,_,C=n;2!==w&&(w=2,l&&clearTimeout(l),c=t,a=r||"",x.readyState=e>0?4:0,o=e>=200&&300>e||304===e,i&&(b=j(h,x,i)),b=I(h,b,x,o),o?(h.ifModified&&(_=x.getResponseHeader("Last-Modified"),_&&(ct.lastModified[s]=_),_=x.getResponseHeader("etag"),_&&(ct.etag[s]=_)),204===e||"HEAD"===h.type?C="nocontent":304===e?C="notmodified":(C=b.state,d=b.data,y=b.error,o=!y)):(y=C,(e||!C)&&(C="error",0>e&&(e=0))),x.status=e,x.statusText=(n||C)+"",o?g.resolveWith(p,[d,C,x]):g.rejectWith(p,[x,C,y]),x.statusCode(v),v=t,u&&f.trigger(o?"ajaxSuccess":"ajaxError",[x,h,o?d:y]),m.fireWith(p,[x,C]),u&&(f.trigger("ajaxComplete",[x,h]),--ct.active||ct.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,s,a,l,u,c,d,h=ct.ajaxSetup({},n),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?ct(p):ct.event,g=ct.Deferred(),m=ct.Callbacks("once memory"),v=h.statusCode||{},y={},b={},w=0,_="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!d)for(d={};t=Rn.exec(a);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return w||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||_;return c&&c.abort(t),i(0,t),this}};if(g.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||On)+"").replace(In,"").replace(Hn,$n[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=ct.trim(h.dataType||"*").toLowerCase().match(ht)||[""],null==h.crossDomain&&(r=Fn.exec(h.url.toLowerCase()),h.crossDomain=!(!r||r[1]===$n[1]&&r[2]===$n[2]&&(r[3]||("http:"===r[1]?"80":"443"))===($n[3]||("http:"===$n[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ct.param(h.data,h.traditional)),O(qn,h,n,x),2===w)return x;u=h.global,u&&0===ct.active++&&ct.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Bn.test(h.type),s=h.url,h.hasContent||(h.data&&(s=h.url+=(jn.test(s)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Mn.test(s)?s.replace(Mn,"$1_="+Dn++):s+(jn.test(s)?"&":"?")+"_="+Dn++)),h.ifModified&&(ct.lastModified[s]&&x.setRequestHeader("If-Modified-Since",ct.lastModified[s]),ct.etag[s]&&x.setRequestHeader("If-None-Match",ct.etag[s])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Vn+"; q=0.01":""):h.accepts["*"]);for(o in h.headers)x.setRequestHeader(o,h.headers[o]);if(h.beforeSend&&(h.beforeSend.call(p,x,h)===!1||2===w))return x.abort();_="abort";for(o in{success:1,error:1,complete:1})x[o](h[o]);if(c=O(Wn,h,n,x)){x.readyState=1,u&&f.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},h.timeout));try{w=1,c.send(y,i)}catch(C){if(!(2>w))throw C;i(-1,C)}}else i(-1,"No Transport");return x},getJSON:function(e,t,n){return ct.get(e,t,n,"json")},getScript:function(e,n){return ct.get(e,t,n,"script")}}),ct.each(["get","post"],function(e,n){ct[n]=function(e,i,r,o){return ct.isFunction(i)&&(o=o||r,r=i,i=t),ct.ajax({url:e,type:n,dataType:o,data:i,success:r})}}),ct.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ct.globalEval(e),e}}}),ct.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)
}),ct.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=J.head||ct("head")[0]||J.documentElement;return{send:function(t,r){n=J.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||r(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Gn=[],Xn=/(=)\?(?=&|$)|\?\?/;ct.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gn.pop()||ct.expando+"_"+Dn++;return this[e]=!0,e}}),ct.ajaxPrefilter("json jsonp",function(n,i,r){var o,s,a,l=n.jsonp!==!1&&(Xn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=ct.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Xn,"$1"+o):n.jsonp!==!1&&(n.url+=(jn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return a||ct.error(o+" was not called"),a[0]},n.dataTypes[0]="json",s=e[o],e[o]=function(){a=arguments},r.always(function(){e[o]=s,n[o]&&(n.jsonpCallback=i.jsonpCallback,Gn.push(o)),a&&ct.isFunction(s)&&s(a[0]),a=s=t}),"script"):void 0});var Qn,Jn,Yn=0,Kn=e.ActiveXObject&&function(){var e;for(e in Qn)Qn[e](t,!0)};ct.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&M()||R()}:M,Jn=ct.ajaxSettings.xhr(),ct.support.cors=!!Jn&&"withCredentials"in Jn,Jn=ct.support.ajax=!!Jn,Jn&&ct.ajaxTransport(function(n){if(!n.crossDomain||ct.support.cors){var i;return{send:function(r,o){var s,a,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(a in n.xhrFields)l[a]=n.xhrFields[a];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(u){}l.send(n.hasContent&&n.data||null),i=function(e,r){var a,u,c,d;try{if(i&&(r||4===l.readyState))if(i=t,s&&(l.onreadystatechange=ct.noop,Kn&&delete Qn[s]),r)4!==l.readyState&&l.abort();else{d={},a=l.status,u=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{c=l.statusText}catch(h){c=""}a||!n.isLocal||n.crossDomain?1223===a&&(a=204):a=d.text?200:404}}catch(p){r||o(-1,p)}d&&o(a,c,d,u)},n.async?4===l.readyState?setTimeout(i):(s=++Yn,Kn&&(Qn||(Qn={},ct(e).unload(Kn)),Qn[s]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Zn,ei,ti=/^(?:toggle|show|hide)$/,ni=new RegExp("^(?:([+-])=|)("+dt+")([a-z%]*)$","i"),ii=/queueHooks$/,ri=[z],oi={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=ni.exec(t),o=r&&r[3]||(ct.cssNumber[e]?"":"px"),s=(ct.cssNumber[e]||"px"!==o&&+i)&&ni.exec(ct.css(n.elem,e)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do a=a||".5",s/=a,ct.style(n.elem,e,s+o);while(a!==(a=n.cur()/i)&&1!==a&&--l)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};ct.Animation=ct.extend(H,{tweener:function(e,t){ct.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],oi[n]=oi[n]||[],oi[n].unshift(t)},prefilter:function(e,t){t?ri.unshift(e):ri.push(e)}}),ct.Tween=q,q.prototype={constructor:q,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ct.cssNumber[n]?"":"px")},cur:function(){var e=q.propHooks[this.prop];return e&&e.get?e.get(this):q.propHooks._default.get(this)},run:function(e){var t,n=q.propHooks[this.prop];return this.pos=t=this.options.duration?ct.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):q.propHooks._default.set(this),this}},q.prototype.init.prototype=q.prototype,q.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ct.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ct.fx.step[e.prop]?ct.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ct.cssProps[e.prop]]||ct.cssHooks[e.prop])?ct.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},q.propHooks.scrollTop=q.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ct.each(["toggle","show","hide"],function(e,t){var n=ct.fn[t];ct.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(W(t,!0),e,i,r)}}),ct.fn.extend({fadeTo:function(e,t,n,i){return this.filter(C).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=ct.isEmptyObject(e),o=ct.speed(t,n,i),s=function(){var t=H(this,ct.extend({},e),o);(r||ct._data(this,"finish"))&&t.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=ct.timers,s=ct._data(this);if(n)s[n]&&s[n].stop&&r(s[n]);else for(n in s)s[n]&&s[n].stop&&ii.test(n)&&r(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&ct.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ct._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=ct.timers,s=i?i.length:0;for(n.finish=!0,ct.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),ct.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ct.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),ct.speed=function(e,t,n){var i=e&&"object"==typeof e?ct.extend({},e):{complete:n||!n&&t||ct.isFunction(e)&&e,duration:e,easing:n&&t||t&&!ct.isFunction(t)&&t};return i.duration=ct.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in ct.fx.speeds?ct.fx.speeds[i.duration]:ct.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){ct.isFunction(i.old)&&i.old.call(this),i.queue&&ct.dequeue(this,i.queue)},i},ct.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ct.timers=[],ct.fx=q.prototype.init,ct.fx.tick=function(){var e,n=ct.timers,i=0;for(Zn=ct.now();i<n.length;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||ct.fx.stop(),Zn=t},ct.fx.timer=function(e){e()&&ct.timers.push(e)&&ct.fx.start()},ct.fx.interval=13,ct.fx.start=function(){ei||(ei=setInterval(ct.fx.tick,ct.fx.interval))},ct.fx.stop=function(){clearInterval(ei),ei=null},ct.fx.speeds={slow:600,fast:200,_default:400},ct.fx.step={},ct.expr&&ct.expr.filters&&(ct.expr.filters.animated=function(e){return ct.grep(ct.timers,function(t){return e===t.elem}).length}),ct.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ct.offset.setOffset(this,e,t)});var n,i,r={top:0,left:0},o=this[0],s=o&&o.ownerDocument;if(s)return n=s.documentElement,ct.contains(n,o)?(typeof o.getBoundingClientRect!==X&&(r=o.getBoundingClientRect()),i=V(s),{top:r.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:r.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):r},ct.offset={setOffset:function(e,t,n){var i=ct.css(e,"position");"static"===i&&(e.style.position="relative");var r,o,s=ct(e),a=s.offset(),l=ct.css(e,"top"),u=ct.css(e,"left"),c=("absolute"===i||"fixed"===i)&&ct.inArray("auto",[l,u])>-1,d={},h={};c?(h=s.position(),r=h.top,o=h.left):(r=parseFloat(l)||0,o=parseFloat(u)||0),ct.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(d.top=t.top-a.top+r),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):s.css(d)}},ct.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===ct.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ct.nodeName(e[0],"html")||(n=e.offset()),n.top+=ct.css(e[0],"borderTopWidth",!0),n.left+=ct.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-ct.css(i,"marginTop",!0),left:t.left-n.left-ct.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Y;e&&!ct.nodeName(e,"html")&&"static"===ct.css(e,"position");)e=e.offsetParent;return e||Y})}}),ct.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);ct.fn[e]=function(r){return ct.access(this,function(e,r,o){var s=V(e);return o===t?s?n in s?s[n]:s.document.documentElement[r]:e[r]:(s?s.scrollTo(i?ct(s).scrollLeft():o,i?o:ct(s).scrollTop()):e[r]=o,void 0)},e,r,arguments.length,null)}}),ct.each({Height:"height",Width:"width"},function(e,n){ct.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){ct.fn[r]=function(r,o){var s=arguments.length&&(i||"boolean"!=typeof r),a=i||(r===!0||o===!0?"margin":"border");return ct.access(this,function(n,i,r){var o;return ct.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):r===t?ct.css(n,i,a):ct.style(n,i,r,a)},n,s?r:t,s,null)}})}),ct.fn.size=function(){return this.length},ct.fn.andSelf=ct.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ct:(e.jQuery=e.$=ct,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ct}))}(window),/*!
 * jQuery Migrate - v1.2.1 - 2013-05-08
 * https://github.com/jquery/jquery-migrate
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors; Licensed MIT
 */
function(e,t,n){function i(n){var i=t.console;o[n]||(o[n]=!0,e.migrateWarnings.push(n),i&&i.warn&&!e.migrateMute&&(i.warn("JQMIGRATE: "+n),e.migrateTrace&&i.trace&&i.trace()))}function r(t,n,r,o){if(Object.defineProperty)try{return Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return i(o),r},set:function(e){i(o),r=e}}),void 0}catch(s){}e._definePropertyBroken=!0,t[n]=r}var o={};e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){o={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&i("jQuery is not compatible with Quirks Mode");var s=e("<input/>",{size:1}).attr("size")&&e.attrFn,a=e.attr,l=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},u=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},c=/^(?:input|button)$/i,d=/^[238]$/,h=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;r(e,"attrFn",s||{},"jQuery.attrFn is deprecated"),e.attr=function(t,r,o,l){var u=r.toLowerCase(),f=t&&t.nodeType;return l&&(a.length<4&&i("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(f)&&(s?r in s:e.isFunction(e.fn[r])))?e(t)[r](o):("type"===r&&o!==n&&c.test(t.nodeName)&&t.parentNode&&i("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[u]&&h.test(u)&&(e.attrHooks[u]={get:function(t,i){var r,o=e.prop(t,i);return o===!0||"boolean"!=typeof o&&(r=t.getAttributeNode(i))&&r.nodeValue!==!1?i.toLowerCase():n},set:function(t,n,i){var r;return n===!1?e.removeAttr(t,i):(r=e.propFix[i]||i,r in t&&(t[r]=!0),t.setAttribute(i,i.toLowerCase())),i}},p.test(u)&&i("jQuery.fn.attr('"+u+"') may use property instead of attribute")),a.call(e,t,r,o))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?l.apply(this,arguments):("input"!==n&&"option"!==n&&i("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?u.apply(this,arguments):("input"!==n&&"option"!==n&&i("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,void 0)}};var f,g,m=e.fn.init,v=e.parseJSON,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,r){var o;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(o=y.exec(e.trim(t)))&&o[0]&&("<"!==t.charAt(0)&&i("$(html) HTML strings must start with '<' character"),o[3]&&i("$(html) HTML text after last tag is ignored"),"#"===o[0].charAt(0)&&(i("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?m.call(this,e.parseHTML(o[2],n,!0),n,r):m.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?v.apply(this,arguments):(i("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(f=e.uaMatch(navigator.userAgent),g={},f.browser&&(g[f.browser]=!0,g.version=f.version),g.chrome?g.webkit=!0:g.webkit&&(g.safari=!0),e.browser=g),r(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,r){return r&&r instanceof e&&!(r instanceof t)&&(r=t(r)),e.fn.init.call(this,i,r,n)},t.fn.init.prototype=t.fn;var n=t(document);return i("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var b=e.fn.data;e.fn.data=function(t){var r,o,s=this[0];return!s||"events"!==t||1!==arguments.length||(r=e.data(s,t),o=e._data(s,t),r!==n&&r!==o||o===n)?b.apply(this,arguments):(i("Use of jQuery.fn.data('events') is deprecated"),o)};var w=/\/(java|ecma)script/i,_=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return i("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),_.apply(this,arguments)},e.clean||(e.clean=function(t,n,r,o){n=n||document,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,i("jQuery.clean() is deprecated");var s,a,l,u,c=[];if(e.merge(c,e.buildFragment(t,n).childNodes),r)for(l=function(e){return!e.type||w.test(e.type)?o?o.push(e.parentNode?e.parentNode.removeChild(e):e):r.appendChild(e):void 0},s=0;null!=(a=c[s]);s++)e.nodeName(a,"script")&&l(a)||(r.appendChild(a),"undefined"!=typeof a.getElementsByTagName&&(u=e.grep(e.merge([],a.getElementsByTagName("script")),l),c.splice.apply(c,[s+1,0].concat(u)),s+=u.length));return c});var x=e.event.add,C=e.event.remove,k=e.event.trigger,E=e.fn.toggle,T=e.fn.live,S=e.fn.die,A="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",N=new RegExp("\\b(?:"+A+")\\b"),P=/(?:^|\s)hover(\.\S+|)\b/,$=function(t){return"string"!=typeof t||e.event.special.hover?t:(P.test(t)&&i("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(P,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&r(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,r,o){e!==document&&N.test(t)&&i("AJAX events should be attached to document: "+t),x.call(this,e,$(t||""),n,r,o)},e.event.remove=function(e,t,n,i,r){C.call(this,e,$(t)||"",n,i,r)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return i("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return E.apply(this,arguments);i("jQuery.fn.toggle(handler, handler...) is deprecated");var r=arguments,o=t.guid||e.guid++,s=0,a=function(n){var i=(e._data(this,"lastToggle"+t.guid)||0)%s;return e._data(this,"lastToggle"+t.guid,i+1),n.preventDefault(),r[i].apply(this,arguments)||!1};for(a.guid=o;s<r.length;)r[s++].guid=o;return this.click(a)},e.fn.live=function(t,n,r){return i("jQuery.fn.live() is deprecated"),T?T.apply(this,arguments):(e(this.context).on(t,this.selector,n,r),this)},e.fn.die=function(t,n){return i("jQuery.fn.die() is deprecated"),S?S.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,r){return n||N.test(e)||i("Global events are undocumented and deprecated"),k.call(this,e,t,n||document,r)},e.each(A.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})}(jQuery,window),Function.prototype.include=function(e){var t=e;"function"==typeof t&&void 0!==t.prototype&&"object"==typeof t.prototype&&(t=t.prototype);var n,i,r,o=["included"],s=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};for(n in t)i=t[n],s.call(o,n)<0&&(this.prototype[n]=i);return null!=(r=t.included)&&r.apply(this),this},function(){if(!this.stitchRequire){var e={},t={},n=function(o,s){var a,l=t[o],u=i(s,o);if(l)return l;if(!(a=e[u]||e[u=i(u,"./index")]))throw'module "'+o+'" not found';l={id:o,exports:{}};try{return t[o]=l.exports,a(l.exports,function(e){return n(e,r(u))},l),t[o]=l.exports}catch(c){throw delete t[o],c}},i=function(e,t){var n,i,r=[];n=/^\.\.?(\/|$)/.test(t)?[e,t].join("/").split("/"):t.split("/");for(var o=0,s=n.length;s>o;o++)i=n[o],".."==i?r.pop():"."!=i&&""!=i&&r.push(i);return r.join("/")},r=function(e){return e.split("/").slice(0,-1).join("/")};this.stitchRequire=function(e){return n(e,"")},this.stitchRequire.define=function(t){for(var n in t)e[n]=t[n]}}}.call(this),function(){var e=this,t=e._,n={},i=Array.prototype,r=Object.prototype,o=Function.prototype,s=i.push,a=i.slice,l=i.concat,u=r.toString,c=r.hasOwnProperty,d=i.forEach,h=i.map,p=i.reduce,f=i.reduceRight,g=i.filter,m=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,w=Array.isArray,_=Object.keys,x=o.bind,C=function(e){return e instanceof C?e:this instanceof C?(this._wrapped=e,void 0):new C(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=C),exports._=C):e._=C,C.VERSION="1.4.3";var k=C.each=C.forEach=function(e,t,i){if(null!=e)if(d&&e.forEach===d)e.forEach(t,i);else if(e.length===+e.length){for(var r=0,o=e.length;o>r;r++)if(t.call(i,e[r],r,e)===n)return}else for(var s in e)if(C.has(e,s)&&t.call(i,e[s],s,e)===n)return};C.map=C.collect=function(e,t,n){var i=[];return null==e?i:h&&e.map===h?e.map(t,n):(k(e,function(e,r,o){i[i.length]=t.call(n,e,r,o)}),i)};var E="Reduce of empty array with no initial value";C.reduce=C.foldl=C.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return i&&(t=C.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(k(e,function(e,o,s){r?n=t.call(i,n,e,o,s):(n=e,r=!0)}),!r)throw new TypeError(E);return n},C.reduceRight=C.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return i&&(t=C.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var o=e.length;if(o!==+o){var s=C.keys(e);o=s.length}if(k(e,function(a,l,u){l=s?s[--o]:--o,r?n=t.call(i,n,e[l],l,u):(n=e[l],r=!0)}),!r)throw new TypeError(E);return n},C.find=C.detect=function(e,t,n){var i;return T(e,function(e,r,o){return t.call(n,e,r,o)?(i=e,!0):void 0}),i},C.filter=C.select=function(e,t,n){var i=[];return null==e?i:g&&e.filter===g?e.filter(t,n):(k(e,function(e,r,o){t.call(n,e,r,o)&&(i[i.length]=e)}),i)},C.reject=function(e,t,n){return C.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)},C.every=C.all=function(e,t,i){t||(t=C.identity);var r=!0;return null==e?r:m&&e.every===m?e.every(t,i):(k(e,function(e,o,s){return(r=r&&t.call(i,e,o,s))?void 0:n}),!!r)};var T=C.some=C.any=function(e,t,i){t||(t=C.identity);var r=!1;return null==e?r:v&&e.some===v?e.some(t,i):(k(e,function(e,o,s){return r||(r=t.call(i,e,o,s))?n:void 0}),!!r)};C.contains=C.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):T(e,function(e){return e===t})},C.invoke=function(e,t){var n=a.call(arguments,2);return C.map(e,function(e){return(C.isFunction(t)?t:e[t]).apply(e,n)})},C.pluck=function(e,t){return C.map(e,function(e){return e[t]})},C.where=function(e,t){return C.isEmpty(t)?[]:C.filter(e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},C.max=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&C.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return k(e,function(e,r,o){var s=t?t.call(n,e,r,o):e;s>=i.computed&&(i={value:e,computed:s})}),i.value},C.min=function(e,t,n){if(!t&&C.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&C.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return k(e,function(e,r,o){var s=t?t.call(n,e,r,o):e;s<i.computed&&(i={value:e,computed:s})}),i.value},C.shuffle=function(e){var t,n=0,i=[];return k(e,function(e){t=C.random(n++),i[n-1]=i[t],i[t]=e}),i};var S=function(e){return C.isFunction(e)?e:function(t){return t[e]}};C.sortBy=function(e,t,n){var i=S(t);return C.pluck(C.map(e,function(e,t,r){return{value:e,index:t,criteria:i.call(n,e,t,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index<t.index?-1:1}),"value")};var A=function(e,t,n,i){var r={},o=S(t||C.identity);return k(e,function(t,s){var a=o.call(n,t,s,e);i(r,a,t)}),r};C.groupBy=function(e,t,n){return A(e,t,n,function(e,t,n){(C.has(e,t)?e[t]:e[t]=[]).push(n)})},C.countBy=function(e,t,n){return A(e,t,n,function(e,t){C.has(e,t)||(e[t]=0),e[t]++})},C.sortedIndex=function(e,t,n,i){n=null==n?C.identity:S(n);for(var r=n.call(i,t),o=0,s=e.length;s>o;){var a=o+s>>>1;n.call(i,e[a])<r?o=a+1:s=a}return o},C.toArray=function(e){return e?C.isArray(e)?a.call(e):e.length===+e.length?C.map(e,C.identity):C.values(e):[]},C.size=function(e){return null==e?0:e.length===+e.length?e.length:C.keys(e).length},C.first=C.head=C.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:a.call(e,0,t)},C.initial=function(e,t,n){return a.call(e,0,e.length-(null==t||n?1:t))},C.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},C.rest=C.tail=C.drop=function(e,t,n){return a.call(e,null==t||n?1:t)},C.compact=function(e){return C.filter(e,C.identity)};var N=function(e,t,n){return k(e,function(e){C.isArray(e)?t?s.apply(n,e):N(e,t,n):n.push(e)}),n};C.flatten=function(e,t){return N(e,t,[])},C.without=function(e){return C.difference(e,a.call(arguments,1))},C.uniq=C.unique=function(e,t,n,i){C.isFunction(t)&&(i=n,n=t,t=!1);var r=n?C.map(e,n,i):e,o=[],s=[];return k(r,function(n,i){(t?i&&s[s.length-1]===n:C.contains(s,n))||(s.push(n),o.push(e[i]))}),o},C.union=function(){return C.uniq(l.apply(i,arguments))},C.intersection=function(e){var t=a.call(arguments,1);return C.filter(C.uniq(e),function(e){return C.every(t,function(t){return C.indexOf(t,e)>=0})})},C.difference=function(e){var t=l.apply(i,a.call(arguments,1));return C.filter(e,function(e){return!C.contains(t,e)})},C.zip=function(){for(var e=a.call(arguments),t=C.max(C.pluck(e,"length")),n=new Array(t),i=0;t>i;i++)n[i]=C.pluck(e,""+i);return n},C.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},C.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=C.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r>i;i++)if(e[i]===t)return i;return-1},C.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(b&&e.lastIndexOf===b)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var r=i?n:e.length;r--;)if(e[r]===t)return r;return-1},C.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,o=new Array(i);i>r;)o[r++]=e,e+=n;return o};var P=function(){};C.bind=function(e,t){var n,i;if(e.bind===x&&x)return x.apply(e,a.call(arguments,1));if(!C.isFunction(e))throw new TypeError;return n=a.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(a.call(arguments)));P.prototype=e.prototype;var r=new P;P.prototype=null;var o=e.apply(r,n.concat(a.call(arguments)));return Object(o)===o?o:r}},C.bindAll=function(e){var t=a.call(arguments,1);return 0==t.length&&(t=C.functions(e)),k(t,function(t){e[t]=C.bind(e[t],e)}),e},C.memoize=function(e,t){var n={};return t||(t=C.identity),function(){var i=t.apply(this,arguments);return C.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},C.delay=function(e,t){var n=a.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},C.defer=function(e){return C.delay.apply(C,[e,1].concat(a.call(arguments,1)))},C.throttle=function(e,t){var n,i,r,o,s=0,a=function(){s=new Date,r=null,o=e.apply(n,i)};return function(){var l=new Date,u=t-(l-s);return n=this,i=arguments,0>=u?(clearTimeout(r),r=null,s=l,o=e.apply(n,i)):r||(r=setTimeout(a,u)),o}},C.debounce=function(e,t,n){var i,r;return function(){var o=this,s=arguments,a=function(){i=null,n||(r=e.apply(o,s))},l=n&&!i;return clearTimeout(i),i=setTimeout(a,t),l&&(r=e.apply(o,s)),r}},C.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},C.wrap=function(e,t){return function(){var n=[e];return s.apply(n,arguments),t.apply(this,n)}},C.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},C.after=function(e,t){return 0>=e?t():function(){return--e<1?t.apply(this,arguments):void 0}},C.keys=_||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)C.has(e,n)&&(t[t.length]=n);return t},C.values=function(e){var t=[];for(var n in e)C.has(e,n)&&t.push(e[n]);return t},C.pairs=function(e){var t=[];for(var n in e)C.has(e,n)&&t.push([n,e[n]]);return t},C.invert=function(e){var t={};for(var n in e)C.has(e,n)&&(t[e[n]]=n);return t},C.functions=C.methods=function(e){var t=[];for(var n in e)C.isFunction(e[n])&&t.push(n);return t.sort()},C.extend=function(e){return k(a.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},C.pick=function(e){var t={},n=l.apply(i,a.call(arguments,1));return k(n,function(n){n in e&&(t[n]=e[n])}),t},C.omit=function(e){var t={},n=l.apply(i,a.call(arguments,1));for(var r in e)C.contains(n,r)||(t[r]=e[r]);return t},C.defaults=function(e){return k(a.call(arguments,1),function(t){if(t)for(var n in t)null==e[n]&&(e[n]=t[n])}),e},C.clone=function(e){return C.isObject(e)?C.isArray(e)?e.slice():C.extend({},e):e},C.tap=function(e,t){return t(e),e};var $=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof C&&(e=e._wrapped),t instanceof C&&(t=t._wrapped);var r=u.call(e);if(r!=u.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return i[o]==t;n.push(e),i.push(t);var s=0,a=!0;if("[object Array]"==r){if(s=e.length,a=s==t.length)for(;s--&&(a=$(e[s],t[s],n,i)););}else{var l=e.constructor,c=t.constructor;if(l!==c&&!(C.isFunction(l)&&l instanceof l&&C.isFunction(c)&&c instanceof c))return!1;for(var d in e)if(C.has(e,d)&&(s++,!(a=C.has(t,d)&&$(e[d],t[d],n,i))))break;if(a){for(d in t)if(C.has(t,d)&&!s--)break;a=!s}}return n.pop(),i.pop(),a};C.isEqual=function(e,t){return $(e,t,[],[])},C.isEmpty=function(e){if(null==e)return!0;if(C.isArray(e)||C.isString(e))return 0===e.length;for(var t in e)if(C.has(e,t))return!1;return!0},C.isElement=function(e){return!(!e||1!==e.nodeType)},C.isArray=w||function(e){return"[object Array]"==u.call(e)},C.isObject=function(e){return e===Object(e)},k(["Arguments","Function","String","Number","Date","RegExp"],function(e){C["is"+e]=function(t){return u.call(t)=="[object "+e+"]"}}),C.isArguments(arguments)||(C.isArguments=function(e){return!(!e||!C.has(e,"callee"))}),"function"!=typeof/./&&(C.isFunction=function(e){return"function"==typeof e}),C.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},C.isNaN=function(e){return C.isNumber(e)&&e!=+e},C.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==u.call(e)},C.isNull=function(e){return null===e},C.isUndefined=function(e){return void 0===e},C.has=function(e,t){return c.call(e,t)},C.noConflict=function(){return e._=t,this},C.identity=function(e){return e},C.times=function(e,t,n){for(var i=Array(e),r=0;e>r;r++)i[r]=t.call(n,r);return i},C.random=function(e,t){return null==t&&(t=e,e=0),e+(0|Math.random()*(t-e+1))};var O={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};O.unescape=C.invert(O.escape);var D={escape:new RegExp("["+C.keys(O.escape).join("")+"]","g"),unescape:new RegExp("("+C.keys(O.unescape).join("|")+")","g")};C.each(["escape","unescape"],function(e){C[e]=function(t){return null==t?"":(""+t).replace(D[e],function(t){return O[e][t]})}}),C.result=function(e,t){if(null==e)return null;var n=e[t];return C.isFunction(n)?n.call(e):n},C.mixin=function(e){k(C.functions(e),function(t){var n=C[t]=e[t];C.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),L.call(this,n.apply(C,e))}})};var j=0;C.uniqueId=function(e){var t=""+ ++j;return e?e+t:t},C.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\t|\u2028|\u2029/g;C.template=function(e,t,n){n=C.defaults({},n,C.templateSettings);var i=new RegExp([(n.escape||I).source,(n.interpolate||I).source,(n.evaluate||I).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(t,n,i,s,a){return o+=e.slice(r,a).replace(R,function(e){return"\\"+M[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(o+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),s&&(o+="';\n"+s+"\n__p+='"),r=a+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(n.variable||"obj","_",o)}catch(a){throw a.source=o,a}if(t)return s(t,C);var l=function(e){return s.call(this,e,C)};return l.source="function("+(n.variable||"obj")+"){\n"+o+"}",l},C.chain=function(e){return C(e).chain()};var L=function(e){return this._chain?C(e).chain():e};C.mixin(C),k(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];C.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],L.call(this,n)}}),k(["concat","join","slice"],function(e){var t=i[e];C.prototype[e]=function(){return L.call(this,t.apply(this._wrapped,arguments))}}),C.extend(C.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){window._.populr={stringToType:function(e){var t,n;if(n=e,"string"==typeof e)try{n="true"===e?!0:"false"===e?!1:"null"===e?null:!isNaN(parseFloat(e))&&isFinite(e)?+e:/^(?:\{.*\}|\[.*\])$/.test(e)?JSON.parse(e):e}catch(i){t=i}return n},cssify:function(e){return e.replace(/[^A-Za-z0-9]/g,function(e){var t;return t=e.charCodeAt(0),32===t?"-":t>=65&&90>=t?"_"+e.toLowerCase():"__"+("000"+t.toString(16)).slice(-4)}).toLowerCase()},parseUri:function(e,t){var n,i,r,o;for(null==t&&(t={}),r=_.defaults({},{strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},t),i=r.parser[r.strictMode?"strict":"loose"].exec(e),o={},n=14;n--;)o[r.key[n]]=i[n]||"";return o[r.q.name]={},o[r.key[12]].replace(r.q.parser,function(e,t,n){return t?o[r.q.name][t]=n:void 0}),o},escapeForRegex:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}}}.call(this),function(e){"use strict";var t=String.prototype.trim,n=function(e){return 1*e||0},i=function(e,t){for(var n=[];t>0;n[--t]=e);return n.join("")},r=function(e){return Array.prototype.slice.call(e)},o=function(e){return e?l.escapeRegExp(e):"\\s"},s=function(e){return function(){for(var t=r(arguments),n=0;n<t.length;n++)t[n]=null==t[n]?"":""+t[n];return e.apply(null,t)}},a=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}var t=i,n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,i){var r,o,s,l,u,c,d,h=1,p=n.length,f="",g=[];for(o=0;p>o;o++)if(f=e(n[o]),"string"===f)g.push(n[o]);else if("array"===f){if(l=n[o],l[2])for(r=i[h],s=0;s<l[2].length;s++){if(!r.hasOwnProperty(l[2][s]))throw a('[_.sprintf] property "%s" does not exist',l[2][s]);r=r[l[2][s]]}else r=l[1]?i[l[1]]:i[h++];if(/[^s]/.test(l[8])&&"number"!=e(r))throw a("[_.sprintf] expecting number but found %s",e(r));switch(l[8]){case"b":r=r.toString(2);break;case"c":r=String.fromCharCode(r);break;case"d":r=parseInt(r,10);break;case"e":r=l[7]?r.toExponential(l[7]):r.toExponential();break;case"f":r=l[7]?parseFloat(r).toFixed(l[7]):parseFloat(r);break;case"o":r=r.toString(8);break;case"s":r=(r=String(r))&&l[7]?r.substring(0,l[7]):r;break;case"u":r=Math.abs(r);break;case"x":r=r.toString(16);break;case"X":r=r.toString(16).toUpperCase()}r=/[def]/.test(l[8])&&l[3]&&r>=0?"+"+r:r,c=l[4]?"0"==l[4]?"0":l[4].charAt(1):" ",d=l[6]-String(r).length,u=l[6]?t(c,d):"",g.push(l[5]?r+u:u+r)}return g.join("")},n.cache={},n.parse=function(e){for(var t=e,n=[],i=[],r=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))i.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))i.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw"[_.sprintf] huh?";if(n[2]){r|=1;var o=[],s=n[2],a=[];if(null===(a=/^([a-z_][a-z_\d]*)/i.exec(s)))throw"[_.sprintf] huh?";for(o.push(a[1]);""!==(s=s.substring(a[0].length));)if(null!==(a=/^\.([a-z_][a-z_\d]*)/i.exec(s)))o.push(a[1]);else{if(null===(a=/^\[(\d+)\]/.exec(s)))throw"[_.sprintf] huh?";o.push(a[1])}n[2]=o}else r|=2;if(3===r)throw"[_.sprintf] mixing positional and named placeholders is not (yet) supported";i.push(n)}t=t.substring(n[0].length)}return i},n}(),l={VERSION:"2.0.0",isBlank:s(function(e){return/^\s*$/.test(e)}),stripTags:s(function(e){return e.replace(/<\/?[^>]+>/gi,"")}),capitalize:s(function(e){return e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()}),chop:s(function(e,t){t=n(t)||e.length;for(var i=[],r=0;r<e.length;)i.push(e.slice(r,r+t)),r+=t;return i}),clean:s(function(e){return l.strip(e.replace(/\s+/g," "))}),count:s(function(e,t){for(var n,i=0,r=0;r<e.length;)n=e.indexOf(t,r),n>=0&&i++,r=r+(n>=0?n:0)+t.length;return i}),chars:s(function(e){return e.split("")}),escapeHTML:s(function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}),unescapeHTML:s(function(e){return e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&amp;/g,"&")}),escapeRegExp:s(function(e){return e.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")}),insert:s(function(e,t,i){var r=e.split("");return r.splice(n(t),0,i),r.join("")}),include:s(function(e,t){return-1!==e.indexOf(t)}),join:s(function(){var e=r(arguments);return e.join(e.shift())}),lines:s(function(e){return e.split("\n")}),reverse:s(function(e){return Array.prototype.reverse.apply(String(e).split("")).join("")}),splice:s(function(e,t,i,r){var o=e.split("");return o.splice(n(t),n(i),r),o.join("")}),startsWith:s(function(e,t){return e.length>=t.length&&e.substring(0,t.length)===t}),endsWith:s(function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t}),succ:s(function(e){var t=e.split("");return t.splice(e.length-1,1,String.fromCharCode(e.charCodeAt(e.length-1)+1)),t.join("")}),titleize:s(function(e){for(var t,n=e.split(" "),i=0;i<n.length;i++)t=n[i].split(""),"undefined"!=typeof t[0]&&(t[0]=t[0].toUpperCase()),n[i]=i+1===n.length?t.join(""):t.join("")+" ";return n.join("")}),camelize:s(function(e){return l.trim(e).replace(/(\-|_|\s)+(.)?/g,function(e,t,n){return n?n.toUpperCase():""})}),underscored:function(e){return l.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/\-|\s+/g,"_").toLowerCase()},dasherize:function(e){return l.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1-$2").replace(/^([A-Z]+)/,"-$1").replace(/\_|\s+/g,"-").toLowerCase()},humanize:function(e){return l.capitalize(this.underscored(e).replace(/_id$/,"").replace(/_/g," "))},trim:s(function(e,n){return!n&&t?t.call(e):(n=o(n),e.replace(new RegExp("^["+n+"]+|["+n+"]+$","g"),""))}),ltrim:s(function(e,t){return t=o(t),e.replace(new RegExp("^["+t+"]+","g"),"")}),rtrim:s(function(e,t){return t=o(t),e.replace(new RegExp("["+t+"]+$","g"),"")}),truncate:s(function(e,t,i){return i=i||"...",t=n(t),e.length>t?e.slice(0,t)+i:e}),prune:s(function(e,t,i){var r=function(e){return e.toUpperCase()!=e.toLowerCase()||/[-_\d]/.test(e)},o="",s="",a=0;i=i||"...",t=n(t);for(a in e)o+=r(e[a])?"A":" ";return s=0===o.substring(t-1,t+1).search(/^\w\w$/)?l.rtrim(o.slice(0,t).replace(/([\W][\w]*)$/,"")):l.rtrim(o.slice(0,t)),s=s.replace(/\W+$/,""),s.length+i.length>e.length?e:e.substring(0,s.length)+i}),words:function(e,t){return String(e).split(t||" ")},pad:s(function(e,t,r,o){var s="",a=0;switch(t=n(t),r?r.length>1&&(r=r.charAt(0)):r=" ",o){case"right":a=t-e.length,s=i(r,a),e+=s;break;case"both":a=t-e.length,s={left:i(r,Math.ceil(a/2)),right:i(r,Math.floor(a/2))},e=s.left+e+s.right;break;default:a=t-e.length,s=i(r,a),e=s+e}return e}),lpad:function(e,t,n){return l.pad(e,t,n)},rpad:function(e,t,n){return l.pad(e,t,n,"right")},lrpad:function(e,t,n){return l.pad(e,t,n,"both")},sprintf:a,vsprintf:function(e,t){return t.unshift(e),a.apply(null,t)},toNumber:function(e,t){var i=n(n(e).toFixed(n(t)));return 0!==i||"0"===e||0===e?i:Number.NaN},strRight:s(function(e,t){var n=t?e.indexOf(t):-1;return-1!=n?e.slice(n+t.length,e.length):e}),strRightBack:s(function(e,t){var n=t?e.lastIndexOf(t):-1;return-1!=n?e.slice(n+t.length,e.length):e}),strLeft:s(function(e,t){var n=t?e.indexOf(t):-1;return-1!=n?e.slice(0,n):e}),strLeftBack:s(function(e,t){var n=e.lastIndexOf(t);return-1!=n?e.slice(0,n):e}),exports:function(){var e={};for(var t in this)this.hasOwnProperty(t)&&"include"!=t&&"contains"!=t&&"reverse"!=t&&(e[t]=this[t]);return e}};l.strip=l.trim,l.lstrip=l.ltrim,l.rstrip=l.rtrim,l.center=l.lrpad,l.ljust=l.lpad,l.rjust=l.rpad,l.contains=l.include,"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(module.exports=l),exports._s=l):"undefined"!=typeof e._?(e._.string=l,e._.str=e._.string):e._={string:l,str:l}}(this||window),// Copyright (c) 2009-2013, Alexis Sellier
function(e){function t(t){return e.less[t.split("/")[1]]}function n(){"development"===g.env?(g.optimization=0,g.watchTimer=setInterval(function(){g.watchMode&&r(function(e,t,n,i,r){t&&u(t.toCSS(),i,r.lastModified)})},g.poll)):g.optimization=3}function i(){for(var e=document.getElementsByTagName("style"),t=0;t<e.length;t++)e[t].type.match(C)&&new g.Parser({filename:document.location.href.replace(/#.*$/,""),dumpLineNumbers:g.dumpLineNumbers}).parse(e[t].innerHTML||"",function(n,i){var r=i.toCSS(),o=e[t];o.type="text/css",o.styleSheet?o.styleSheet.cssText=r:o.innerHTML=r})}function r(e,t){for(var n=0;n<g.sheets.length;n++)a(g.sheets[n],e,t,g.sheets.length-(n+1))}function o(e,t){var n,i,r,o,a=s(e),l=s(t),u="";if(a.hostPart!==l.hostPart)return"";for(i=Math.max(l.directories.length,a.directories.length),n=0;i>n&&l.directories[n]===a.directories[n];n++);for(o=l.directories.slice(n),r=a.directories.slice(n),n=0;n<o.length-1;n++)u+="../";for(n=0;n<r.length-1;n++)u+=r[n]+"/";return u}function s(e,t){var n,i,r=/^((?:[a-z-]+:)?\/\/(?:[^\/\?#]*\/)|([\/\\]))?((?:[^\/\\\?#]*[\/\\])*)([^\/\\\?#]*)([#\?].*)?$/,o=e.match(r),s={},a=[];if(!o)throw new Error("Could not parse sheet href - '"+e+"'");if(!o[1]||o[2]){if(i=t.match(r),!i)throw new Error("Could not parse page url - '"+t+"'");o[1]=i[1],o[2]||(o[3]=i[3]+o[3])}if(o[3])for(a=o[3].replace("\\","/").split("/"),n=0;n<a.length;n++)".."===a[n]&&n>0&&(a.splice(n-1,2),n-=2);return s.hostPart=o[1],s.directories=a,s.path=o[1]+a.join("/"),s.fileUrl=s.path+(o[4]||""),s.url=s.fileUrl+(o[5]||""),s}function a(t,n,i,r){var a,d=t.contents||{},p=t.files||{},m=s(t.href,e.location.href),v=m.url,y=w&&w.getItem(v),b=w&&w.getItem(v+":timestamp"),_={css:y,timestamp:b};a=g.relativeUrls?g.rootpath?t.entryPath?s(g.rootpath+o(m.path,t.entryPath)).path:g.rootpath:m.path:g.rootpath?g.rootpath:t.entryPath?t.entryPath:m.path,c(v,t.type,function(e,o){if(E+=e.replace(/@import .+?;/gi,""),!i&&_&&o&&new Date(o).valueOf()===new Date(_.timestamp).valueOf())u(_.css,t),n(null,null,e,t,{local:!0,remaining:r},v);else try{d[v]=e,new g.Parser({optimization:g.optimization,paths:[m.path],entryPath:t.entryPath||m.path,mime:t.type,filename:v,rootpath:a,relativeUrls:t.relativeUrls,contents:d,files:p,dumpLineNumbers:g.dumpLineNumbers}).parse(e,function(i,s){if(i)return f(i,v);try{n(i,s,e,t,{local:!1,lastModified:o,remaining:r},v),h(document.getElementById("less-error-message:"+l(v)))}catch(i){f(i,v)}})}catch(s){f(s,v)}},function(e,t){throw new Error("Couldn't load "+t+" ("+e+")")})}function l(e){return e.replace(/^[a-z]+:\/\/?[^\/]+/,"").replace(/^\//,"").replace(/\.[a-zA-Z]+$/,"").replace(/[^\.\w-]+/g,"-").replace(/\./g,":")}function u(e,t,n){var i,r=t.href||"",o="less:"+(t.title||l(r));if(null===(i=document.getElementById(o))){i=document.createElement("style"),i.type="text/css",t.media&&(i.media=t.media),i.id=o;var s=t&&t.nextSibling||null;(s||document.getElementsByTagName("head")[0]).parentNode.insertBefore(i,s)}if(i.styleSheet)try{i.styleSheet.cssText=e}catch(a){throw new Error("Couldn't reassign styleSheet.cssText.")}else(function(e){i.childNodes.length>0?i.firstChild.nodeValue!==e.nodeValue&&i.replaceChild(e,i.firstChild):i.appendChild(e)})(document.createTextNode(e));if(n&&w){p("saving "+r+" to cache.");try{w.setItem(r,e),w.setItem(r+":timestamp",n)}catch(a){p("failed to save")}}}function c(e,t,n,i){function r(t,n,i){t.status>=200&&t.status<300?n(t.responseText,t.getResponseHeader("Last-Modified")):"function"==typeof i&&i(t.status,e)}var o=d(),s=v?g.fileAsync:g.async;"function"==typeof o.overrideMimeType&&o.overrideMimeType("text/css"),o.open("GET",e,s),o.setRequestHeader("Accept",t||"text/x-less, text/css; q=0.9, */*; q=0.5"),o.send(null),v&&!g.fileAsync?0===o.status||o.status>=200&&o.status<300?n(o.responseText):i(o.status,e):s?o.onreadystatechange=function(){4==o.readyState&&r(o,n,i)}:r(o,n,i)}function d(){if(e.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(t){return p("browser doesn't support AJAX."),null}}function h(e){return e&&e.parentNode.removeChild(e)}function p(e){"development"==g.env&&"undefined"!=typeof console&&console.log("less: "+e)}function f(e,t){var n,i,r="less-error-message:"+l(t),o='<li><label>{line}</label><pre class="{class}">{content}</pre></li>',s=document.createElement("div"),a=[],c=e.filename||t,d=c.match(/([^\/]+(\?.*)?)$/)[1];s.id=r,s.className="less-error-message",i="<h3>"+(e.message||"There is an error in your .less file")+'</h3><p>in <a href="'+c+'">'+d+"</a> ";var h=function(e,t,n){e.extract[t]&&a.push(o.replace(/\{line\}/,parseInt(e.line)+(t-1)).replace(/\{class\}/,n).replace(/\{content\}/,e.extract[t]))};e.stack?i+="<br/>"+e.stack.split("\n").slice(1).join("<br/>"):e.extract&&(h(e,0,""),h(e,1,"line"),h(e,2,""),i+="on line "+e.line+", column "+(e.column+1)+":</p><ul>"+a.join("")+"</ul>"),s.innerHTML=i,u([".less-error-message ul, .less-error-message li {","list-style-type: none;","margin-right: 15px;","padding: 4px 0;","margin: 0;","}",".less-error-message label {","font-size: 12px;","margin-right: 15px;","padding: 4px 0;","color: #cc7777;","}",".less-error-message pre {","color: #dd6666;","padding: 4px 0;","margin: 0;","display: inline-block;","}",".less-error-message pre.line {","color: #ff0000;","}",".less-error-message h3 {","font-size: 20px;","font-weight: bold;","padding: 15px 0 5px 0;","margin: 0;","}",".less-error-message a {","color: #10a","}",".less-error-message .error {","color: red;","font-weight: bold;","padding-bottom: 2px;","border-bottom: 1px dashed red;","}"].join("\n"),{title:"error-message"}),s.style.cssText=["font-family: Arial, sans-serif","border: 1px solid #e00","background-color: #eee","border-radius: 5px","-webkit-border-radius: 5px","-moz-border-radius: 5px","color: #e00","padding: 15px","margin-bottom: 15px"].join(";"),"development"==g.env&&(n=setInterval(function(){document.body&&(document.getElementById(r)?document.body.replaceChild(s,document.getElementById(r)):document.body.insertBefore(s,document.body.firstChild),clearInterval(n))},10))}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)||e instanceof Array}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){for(var n=this.length>>>0,i=0;n>i;i++)i in this&&e.call(t,this[i],i,this)}),Array.prototype.map||(Array.prototype.map=function(e){for(var t=this.length>>>0,n=new Array(t),i=arguments[1],r=0;t>r;r++)r in this&&(n[r]=e.call(i,this[r],r,this));return n}),Array.prototype.filter||(Array.prototype.filter=function(e){for(var t=[],n=arguments[1],i=0;i<this.length;i++)e.call(n,this[i])&&t.push(this[i]);return t}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=this.length>>>0,n=0;if(0===t&&1===arguments.length)throw new TypeError;if(arguments.length>=2)var i=arguments[1];else for(;;){if(n in this){i=this[n++];break}if(++n>=t)throw new TypeError}for(;t>n;n++)n in this&&(i=e.call(null,i,this[n],n,this));return i}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,n=arguments[1]||0;if(!t)return-1;if(n>=t)return-1;for(0>n&&(n+=t);t>n;n++)if(Object.prototype.hasOwnProperty.call(this,n)&&e===this[n])return n;return-1}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}),String.prototype.trim||(String.prototype.trim=function(){return String(this).replace(/^\s\s*/,"").replace(/\s\s*$/,"")});var g,m;"object"==typeof environment&&"[object Environment]"==={}.toString.call(environment)?(g="undefined"==typeof e?{}:e.less={},m=g.tree={},g.mode="rhino"):"undefined"==typeof e?(g=exports,m=t("./tree"),g.mode="node"):("undefined"==typeof e.less&&(e.less={}),g=e.less,m=e.less.tree={},g.mode="browser"),g.Parser=function(e){function n(){_=k[w],x=b,E=b}function i(){k[w]=_,b=x,E=b}function r(){b>E&&(k[w]=k[w].slice(b-E),E=b)}function o(e){var t=e.charCodeAt(0);return 32===t||10===t||9===t}function s(e){var t,n;if(e instanceof Function)return e.call(T.parsers);if("string"==typeof e)t=y.charAt(b)===e?e:null,n=1,r();else{if(r(),!(t=e.exec(k[w])))return null;n=t[0].length}return t?(a(n),"string"==typeof t?t:1===t.length?t[0]:t):void 0}function a(e){for(var t=b,n=w,i=b+k[w].length,r=b+=e;i>b&&o(y.charAt(b));)b++;return k[w]=k[w].slice(e+(b-r)),E=b,0===k[w].length&&w<k.length-1&&w++,t!==b||n!==w}function l(e,t){var n=s(e);return n?n:(u(t||("string"==typeof e?"expected '"+e+"' got '"+y.charAt(b)+"'":"unexpected token")),void 0)}function u(e,t){var n=new Error(e);throw n.index=b,n.type=t||"Syntax",n}function c(e){return"string"==typeof e?y.charAt(b)===e:e.test(k[w])?!0:!1}function d(e,t){return e.filename&&t.filename&&e.filename!==t.filename?T.imports.contents[e.filename]:y}function h(e,t){for(var n=e,i=-1;n>=0&&"\n"!==t.charAt(n);n--)i++;return{line:"number"==typeof e?(t.slice(0,e).match(/\n/g)||"").length:null,column:i}}function p(e){return"browser"===g.mode||"rhino"===g.mode?e.filename:t("path").resolve(e.filename)}function f(e,t,n){return{lineNumber:h(e,t).line+1,fileName:p(n)}}function v(e,t){var n=d(e,t),i=h(e.index,n),r=i.line,o=i.column,s=n.split("\n");this.type=e.type||"Syntax",this.message=e.message,this.filename=e.filename||t.filename,this.index=e.index,this.line="number"==typeof r?r+1:null,this.callLine=e.call&&h(e.call,n).line+1,this.callExtract=s[h(e.call,n).line],this.stack=e.stack,this.column=o,this.extract=[s[r-1],s[r],s[r+1]]}var y,b,w,_,x,C,k,E,T,e=e||{};e.contents||(e.contents={}),e.rootpath=e.rootpath||"",e.files||(e.files={});var S=function(){},A=this.imports={paths:e.paths||[],queue:[],files:e.files,contents:e.contents,mime:e.mime,error:null,push:function(t,n){var i=this;this.queue.push(t),g.Parser.importer(t,this.paths,function(e,r,o){i.queue.splice(i.queue.indexOf(t),1);var s=o in i.files;i.files[o]=r,e&&!i.error&&(i.error=e),n(e,r,s),0===i.queue.length&&S(i.error)},e)}};return this.env=e=e||{},this.optimization="optimization"in this.env?this.env.optimization:1,this.env.filename=this.env.filename||null,T={imports:A,parse:function(n,i){var r,o,a,l=null;if(b=w=E=C=0,y=n.replace(/\r\n/g,"\n"),y=y.replace(/^\uFEFF/,""),k=function(t){for(var n,i,r,o,s=0,a=/(?:@\{[\w-]+\}|[^"'`\{\}\/\(\)\\])+/g,u=/\/\*(?:[^*]|\*+[^\/*])*\*+\/|\/\/.*/g,c=/"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'|`((?:[^`]|\\.)*)`/g,d=0,h=t[0],p=0;p<y.length;)if(a.lastIndex=p,(n=a.exec(y))&&n.index===p&&(p+=n[0].length,h.push(n[0])),r=y.charAt(p),u.lastIndex=c.lastIndex=p,(n=c.exec(y))&&n.index===p)p+=n[0].length,h.push(n[0]);else if(i||"/"!==r||(o=y.charAt(p+1),"/"!==o&&"*"!==o||!(n=u.exec(y))||n.index!==p)){switch(r){case"{":if(!i){d++,h.push(r);break}case"}":if(!i){d--,h.push(r),t[++s]=h=[];break}case"(":if(!i){i=!0,h.push(r);break}case")":if(i){i=!1,h.push(r);break}default:h.push(r)}p++}else p+=n[0].length,h.push(n[0]);return 0!=d&&(l=new v({index:p-1,type:"Parse",message:d>0?"missing closing `}`":"missing opening `{`",filename:e.filename},e)),t.map(function(e){return e.join("")})}([[]]),l)return i(l,e);try{r=new m.Ruleset([],s(this.parsers.primary)),r.root=!0}catch(u){return i(new v(u,e))}if(r.toCSS=function(n){return function(i,r){var o,s=[];i=i||{},"object"==typeof r&&!Array.isArray(r)&&(r=Object.keys(r).map(function(e){var t=r[e];return t instanceof m.Value||(t instanceof m.Expression||(t=new m.Expression([t])),t=new m.Value([t])),new m.Rule("@"+e,t,!1,0)}),s=[new m.Ruleset(null,r)]);try{var a=n.call(this,{frames:s}).toCSS([],{compress:i.compress||!1,dumpLineNumbers:e.dumpLineNumbers})}catch(l){throw new v(l,e)}if(o=T.imports.error)throw o instanceof v?o:new v(o,e);return i.yuicompress&&"node"===g.mode?t("ycssmin").cssmin(a):i.compress?a.replace(/(\s)+/g,"$1"):a}}(r.eval),b<y.length-1){b=C,a=y.split("\n"),o=(y.slice(0,b).match(/\n/g)||"").length+1;for(var c=b,d=-1;c>=0&&"\n"!==y.charAt(c);c--)d++;l={type:"Parse",message:"Syntax Error on line "+o,index:b,filename:e.filename,line:o,column:d,extract:[a[o-2],a[o-1],a[o]]}}this.imports.queue.length>0?S=function(e){e=l||e,e?i(e):i(null,r)}:i(l,r)},parsers:{primary:function(){for(var e,t=[];(e=s(this.mixin.definition)||s(this.rule)||s(this.ruleset)||s(this.mixin.call)||s(this.comment)||s(this.directive))||s(/^[\s\n]+/)||s(/^;+/);)e&&t.push(e);return t},comment:function(){var e;if("/"===y.charAt(b))return"/"===y.charAt(b+1)?new m.Comment(s(/^\/\/.*/),!0):(e=s(/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/))?new m.Comment(e):void 0},entities:{quoted:function(){var e,t,n=b;return"~"===y.charAt(n)&&(n++,t=!0),'"'===y.charAt(n)||"'"===y.charAt(n)?(t&&s("~"),(e=s(/^"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'/))?new m.Quoted(e[0],e[1]||e[2],t):void 0):void 0},keyword:function(){var e;return(e=s(/^[_A-Za-z-][_A-Za-z0-9-]*/))?m.colors.hasOwnProperty(e)?new m.Color(m.colors[e].slice(1)):new m.Keyword(e):void 0},call:function(){var t,n,i,r,o=b;if(t=/^([\w-]+|%|progid:[\w\.]+)\(/.exec(k[w])){if(t=t[1],n=t.toLowerCase(),"url"===n)return null;if(b+=t.length,"alpha"===n&&(r=s(this.alpha),"undefined"!=typeof r))return r;if(s("("),i=s(this.entities.arguments),s(")"))return t?new m.Call(t,i,o,e.filename):void 0}},arguments:function(){for(var e,t=[];(e=s(this.entities.assignment)||s(this.expression))&&(t.push(e),s(",")););return t},literal:function(){return s(this.entities.ratio)||s(this.entities.dimension)||s(this.entities.color)||s(this.entities.quoted)||s(this.entities.unicodeDescriptor)},assignment:function(){var e,t;return(e=s(/^\w+(?=\s?=)/i))&&s("=")&&(t=s(this.entity))?new m.Assignment(e,t):void 0},url:function(){var t;if("u"===y.charAt(b)&&s(/^url\(/))return t=s(this.entities.quoted)||s(this.entities.variable)||s(/^(?:(?:\\[\(\)'"])|[^\(\)'"])+/)||"",l(")"),new m.URL(null!=t.value||t instanceof m.Variable?t:new m.Anonymous(t),e.rootpath)},variable:function(){var t,n=b;return"@"===y.charAt(b)&&(t=s(/^@@?[\w-]+/))?new m.Variable(t,n,e.filename):void 0},variableCurly:function(){var t,n=b;return"@"===y.charAt(b)&&(t=s(/^@\{([\w-]+)\}/))?new m.Variable("@"+t[1],n,e.filename):void 0},color:function(){var e;return"#"===y.charAt(b)&&(e=s(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/))?new m.Color(e[1]):void 0},dimension:function(){var e,t=y.charCodeAt(b);if(!(t>57||43>t||47===t||44==t))return(e=s(/^([+-]?\d*\.?\d+)(px|%|em|pc|ex|in|deg|s|ms|pt|cm|mm|rad|grad|turn|dpi|dpcm|dppx|rem|vw|vh|vmin|vm|ch)?/))?new m.Dimension(e[1],e[2]):void 0},ratio:function(){var e,t=y.charCodeAt(b);if(!(t>57||48>t))return(e=s(/^(\d+\/\d+)/))?new m.Ratio(e[1]):void 0},unicodeDescriptor:function(){var e;return(e=s(/^U\+[0-9a-fA-F?]+(\-[0-9a-fA-F?]+)?/))?new m.UnicodeDescriptor(e[0]):void 0},javascript:function(){var e,t,n=b;return"~"===y.charAt(n)&&(n++,t=!0),"`"===y.charAt(n)?(t&&s("~"),(e=s(/^`([^`]*)`/))?new m.JavaScript(e[1],b,t):void 0):void 0}},variable:function(){var e;return"@"===y.charAt(b)&&(e=s(/^(@[\w-]+)\s*:/))?e[1]:void 0},shorthand:function(){var e,t;if(c(/^[@\w.%-]+\/[@\w.-]+/))return n(),(e=s(this.entity))&&s("/")&&(t=s(this.entity))?new m.Shorthand(e,t):(i(),void 0)},mixin:{call:function(){var t,r,o,a,d,h,p,f,g,v,w=[],_=[],x=[],C=b,k=y.charAt(b),E=!1;if("."===k||"#"===k){for(n();t=s(/^[#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/);)w.push(new m.Element(r,t,b)),r=s(">");if(s("(")){for(h=[];a=s(this.expression);){if(d=null,v=a,1==a.value.length){var T=a.value[0];T instanceof m.Variable&&s(":")&&(h.length>0&&(p&&u("Cannot mix ; and , as delimiter types"),f=!0),v=l(this.expression),d=g=T.name)}h.push(v),x.push({name:d,value:v}),s(",")||(s(";")||p)&&(f&&u("Cannot mix ; and , as delimiter types"),p=!0,h.length>1&&(v=new m.Value(h)),_.push({name:g,value:v}),g=null,h=[],f=!1)}l(")")}return o=p?_:x,s(this.important)&&(E=!0),w.length>0&&(s(";")||c("}"))?new m.mixin.Call(w,o,C,e.filename,E):(i(),void 0)}},definition:function(){var e,t,r,o,a,u,d=[],h=!1;if(!("."!==y.charAt(b)&&"#"!==y.charAt(b)||c(/^[^{]*\}/))&&(n(),t=s(/^([#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\s*\(/))){e=t[1];do{if(s(this.comment),"."===y.charAt(b)&&s(/^\.{3}/)){h=!0,d.push({variadic:!0});break}if(!(o=s(this.entities.variable)||s(this.entities.literal)||s(this.entities.keyword)))break;if(o instanceof m.Variable)if(s(":"))a=l(this.expression,"expected expression"),d.push({name:o.name,value:a});else{if(s(/^\.{3}/)){d.push({name:o.name,variadic:!0}),h=!0;break}d.push({name:o.name})}else d.push({value:o})}while(s(",")||s(";"));if(s(")")||(C=b,i()),s(this.comment),s(/^when/)&&(u=l(this.conditions,"expected condition")),r=s(this.block),r)return new m.mixin.Definition(e,d,r,u,h);i()}}},entity:function(){return s(this.entities.literal)||s(this.entities.variable)||s(this.entities.url)||s(this.entities.call)||s(this.entities.keyword)||s(this.entities.javascript)||s(this.comment)},end:function(){return s(";")||c("}")},alpha:function(){var e;if(s(/^\(opacity=/i))return(e=s(/^\d+/)||s(this.entities.variable))?(l(")"),new m.Alpha(e)):void 0},element:function(){var e,t,n;return t=s(this.combinator),e=s(/^(?:\d+\.\d+|\d+)%/)||s(/^(?:[.#]?|:*)(?:[\w-]|[^\x00-\x9f]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/)||s("*")||s("&")||s(this.attribute)||s(/^\([^()@]+\)/)||s(/^[\.#](?=@)/)||s(this.entities.variableCurly),e||s("(")&&(n=s(this.entities.variableCurly)||s(this.entities.variable)||s(this.selector))&&s(")")&&(e=new m.Paren(n)),e?new m.Element(t,e,b):void 0},combinator:function(){var e=y.charAt(b);if(">"===e||"+"===e||"~"===e||"|"===e){for(b++;y.charAt(b).match(/\s/);)b++;return new m.Combinator(e)}return y.charAt(b-1).match(/\s/)?new m.Combinator(" "):new m.Combinator(null)},selector:function(){var e,t,n,i=[];if(s("("))return e=s(this.entity),s(")")?new m.Selector([new m.Element("",e,b)]):null;for(;(t=s(this.element))&&(n=y.charAt(b),i.push(t),"{"!==n&&"}"!==n&&";"!==n&&","!==n&&")"!==n););return i.length>0?new m.Selector(i):void 0},attribute:function(){var e,t,n,i="";if(s("[")&&((e=s(/^(?:[_A-Za-z0-9-]|\\.)+/)||s(this.entities.quoted))&&(i=(n=s(/^[|~*$^]?=/))&&(t=s(this.entities.quoted)||s(/^[\w-]+/))?[e,n,t.toCSS?t.toCSS():t].join(""):e),s("]")))return i?"["+i+"]":void 0},block:function(){var e;return s("{")&&(e=s(this.primary))&&s("}")?e:void 0},ruleset:function(){var t,r,o,a=[];for(n(),e.dumpLineNumbers&&(o=f(b,y,e));(t=s(this.selector))&&(a.push(t),s(this.comment),s(","));)s(this.comment);if(a.length>0&&(r=s(this.block))){var l=new m.Ruleset(a,r,e.strictImports);return e.dumpLineNumbers&&(l.debugInfo=o),l}C=b,i()},rule:function(){var e,t,r,o,a=y.charAt(b);if(n(),"."!==a&&"#"!==a&&"&"!==a&&(e=s(this.variable)||s(this.property))){if("@"!=e.charAt(0)&&(o=/^([^@+\/'"*`(;{}-]*);/.exec(k[w]))?(b+=o[0].length-1,t=new m.Anonymous(o[1])):t="font"===e?s(this.font):s(this.value),r=s(this.important),t&&s(this.end))return new m.Rule(e,t,r,x);C=b,i()}},"import":function(){var t,r,o=b;n();var a=s(/^@import(?:-(once))?\s+/);return a&&(t=s(this.entities.quoted)||s(this.entities.url))&&(r=s(this.mediaFeatures),s(";"))?new m.Import(t,A,r,"once"===a[1],o,e.rootpath):(i(),void 0)},mediaFeature:function(){var e,t,n=[];do if(e=s(this.entities.keyword))n.push(e);else if(s("(")){if(t=s(this.property),e=s(this.entity),!s(")"))return null;if(t&&e)n.push(new m.Paren(new m.Rule(t,e,null,b,!0)));else{if(!e)return null;n.push(new m.Paren(e))}}while(e);return n.length>0?new m.Expression(n):void 0},mediaFeatures:function(){var e,t=[];do if(e=s(this.mediaFeature)){if(t.push(e),!s(","))break}else if((e=s(this.entities.variable))&&(t.push(e),!s(",")))break;while(e);return t.length>0?t:null},media:function(){var t,n,i,r;return e.dumpLineNumbers&&(r=f(b,y,e)),s(/^@media/)&&(t=s(this.mediaFeatures),n=s(this.block))?(i=new m.Media(n,t),e.dumpLineNumbers&&(i.debugInfo=r),i):void 0},directive:function(){var t,r,o,a,l,u,c;if("@"===y.charAt(b)){if(r=s(this["import"])||s(this.media))return r;if(n(),t=s(/^@[a-z-]+/)){switch(a=t,"-"==t.charAt(1)&&t.indexOf("-",2)>0&&(a="@"+t.slice(t.indexOf("-",2)+1)),a){case"@font-face":l=!0;break;case"@viewport":case"@top-left":case"@top-left-corner":case"@top-center":case"@top-right":case"@top-right-corner":case"@bottom-left":case"@bottom-left-corner":case"@bottom-center":case"@bottom-right":case"@bottom-right-corner":case"@left-top":case"@left-middle":case"@left-bottom":case"@right-top":case"@right-middle":case"@right-bottom":l=!0;break;case"@page":case"@document":case"@supports":case"@keyframes":l=!0,u=!0;break;case"@namespace":c=!0}if(u&&(t+=" "+(s(/^[^{]+/)||"").trim()),l){if(o=s(this.block))return new m.Directive(t,o)}else if((r=c?s(this.expression):s(this.entity))&&s(";")){var d=new m.Directive(t,r);return e.dumpLineNumbers&&(d.debugInfo=f(b,y,e)),d}i()}}},font:function(){for(var e,t=[],n=[];e=s(this.shorthand)||s(this.entity);)n.push(e);if(t.push(new m.Expression(n)),s(","))for(;(e=s(this.expression))&&(t.push(e),s(",")););return new m.Value(t)},value:function(){for(var e,t=[];(e=s(this.expression))&&(t.push(e),s(",")););return t.length>0?new m.Value(t):void 0},important:function(){return"!"===y.charAt(b)?s(/^! *important/):void 0},sub:function(){var e;return s("(")&&(e=s(this.expression))&&s(")")?e:void 0},multiplication:function(){var e,t,n,i;if(e=s(this.operand)){for(;!c(/^\/[*\/]/)&&(n=s("/")||s("*"))&&(t=s(this.operand));)i=new m.Operation(n,[i||e,t]);return i||e}},addition:function(){var e,t,n,i;if(e=s(this.multiplication)){for(;(n=s(/^[-+]\s+/)||!o(y.charAt(b-1))&&(s("+")||s("-")))&&(t=s(this.multiplication));)i=new m.Operation(n,[i||e,t]);return i||e}},conditions:function(){var e,t,n,i=b;if(e=s(this.condition)){for(;s(",")&&(t=s(this.condition));)n=new m.Condition("or",n||e,t,i);return n||e}},condition:function(){var e,t,n,i,r=b,o=!1;return s(/^not/)&&(o=!0),l("("),(e=s(this.addition)||s(this.entities.keyword)||s(this.entities.quoted))?((i=s(/^(?:>=|=<|[<=>])/))?(t=s(this.addition)||s(this.entities.keyword)||s(this.entities.quoted))?n=new m.Condition(i,e,t,r,o):u("expected expression"):n=new m.Condition("=",e,new m.Keyword("true"),r,o),l(")"),s(/^and/)?new m.Condition("and",n,s(this.condition)):n):void 0},operand:function(){var e,t=y.charAt(b+1);"-"===y.charAt(b)&&("@"===t||"("===t)&&(e=s("-"));var n=s(this.sub)||s(this.entities.dimension)||s(this.entities.color)||s(this.entities.variable)||s(this.entities.call);return e?new m.Operation("*",[new m.Dimension(-1),n]):n},expression:function(){for(var e,t=[];e=s(this.addition)||s(this.entity);)t.push(e);return t.length>0?new m.Expression(t):void 0},property:function(){var e;return(e=s(/^(\*?-?[_a-z0-9-]+)\s*:/))?e[1]:void 0}}}},("browser"===g.mode||"rhino"===g.mode)&&(g.Parser.importer=function(e,t,n,i){!/^([a-z-]+:)?\//.test(e)&&t.length>0&&(e=t[0]+e),a({href:e,title:e,type:i.mime,contents:i.contents,files:i.files,rootpath:i.rootpath,entryPath:i.entryPath,relativeUrls:i.relativeUrls},function(e,r,o,s,a,l){e&&"function"==typeof i.errback?i.errback.call(null,l,t,n,i):n.call(null,e,r,l)},!0)}),function(e){function t(t){return e.functions.hsla(t.h,t.s,t.l,t.a)}function n(t,n){return t instanceof e.Dimension&&"%"==t.unit?parseFloat(t.value*n/100):i(t)}function i(t){if(t instanceof e.Dimension)return parseFloat("%"==t.unit?t.value/100:t.value);if("number"==typeof t)return t;throw{error:"RuntimeError",message:"color functions take numbers as parameters"}}function r(e){return Math.min(1,Math.max(0,e))}e.functions={rgb:function(e,t,n){return this.rgba(e,t,n,1)},rgba:function(t,r,o,s){var a=[t,r,o].map(function(e){return n(e,256)});return s=i(s),new e.Color(a,s)},hsl:function(e,t,n){return this.hsla(e,t,n,1)},hsla:function(e,t,n,r){function o(e){return e=0>e?e+1:e>1?e-1:e,1>6*e?a+(s-a)*e*6:1>2*e?s:2>3*e?a+(s-a)*(2/3-e)*6:a}e=i(e)%360/360,t=i(t),n=i(n),r=i(r);var s=.5>=n?n*(t+1):n+t-n*t,a=2*n-s;return this.rgba(255*o(e+1/3),255*o(e),255*o(e-1/3),r)},hsv:function(e,t,n){return this.hsva(e,t,n,1)},hsva:function(e,t,n,r){e=i(e)%360/360*360,t=i(t),n=i(n),r=i(r);var o,s;o=Math.floor(e/60%6),s=e/60-o;var a=[n,n*(1-t),n*(1-s*t),n*(1-(1-s)*t)],l=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]];return this.rgba(255*a[l[o][0]],255*a[l[o][1]],255*a[l[o][2]],r)},hue:function(t){return new e.Dimension(Math.round(t.toHSL().h))},saturation:function(t){return new e.Dimension(Math.round(100*t.toHSL().s),"%")},lightness:function(t){return new e.Dimension(Math.round(100*t.toHSL().l),"%")},red:function(t){return new e.Dimension(t.rgb[0])},green:function(t){return new e.Dimension(t.rgb[1])},blue:function(t){return new e.Dimension(t.rgb[2])},alpha:function(t){return new e.Dimension(t.toHSL().a)},luma:function(t){return new e.Dimension(Math.round((.2126*(t.rgb[0]/255)+.7152*(t.rgb[1]/255)+.0722*(t.rgb[2]/255))*t.alpha*100),"%")},saturate:function(e,n){var i=e.toHSL();return i.s+=n.value/100,i.s=r(i.s),t(i)},desaturate:function(e,n){var i=e.toHSL();return i.s-=n.value/100,i.s=r(i.s),t(i)},lighten:function(e,n){var i=e.toHSL();return i.l+=n.value/100,i.l=r(i.l),t(i)},darken:function(e,n){var i=e.toHSL();return i.l-=n.value/100,i.l=r(i.l),t(i)},fadein:function(e,n){var i=e.toHSL();return i.a+=n.value/100,i.a=r(i.a),t(i)},fadeout:function(e,n){var i=e.toHSL();return i.a-=n.value/100,i.a=r(i.a),t(i)},fade:function(e,n){var i=e.toHSL();return i.a=n.value/100,i.a=r(i.a),t(i)},spin:function(e,n){var i=e.toHSL(),r=(i.h+n.value)%360;return i.h=0>r?360+r:r,t(i)},mix:function(t,n,i){i||(i=new e.Dimension(50));var r=i.value/100,o=2*r-1,s=t.toHSL().a-n.toHSL().a,a=((o*s==-1?o:(o+s)/(1+o*s))+1)/2,l=1-a,u=[t.rgb[0]*a+n.rgb[0]*l,t.rgb[1]*a+n.rgb[1]*l,t.rgb[2]*a+n.rgb[2]*l],c=t.alpha*r+n.alpha*(1-r);return new e.Color(u,c)},greyscale:function(t){return this.desaturate(t,new e.Dimension(100))},contrast:function(e,t,n,i){return e.rgb?("undefined"==typeof n&&(n=this.rgba(255,255,255,1)),"undefined"==typeof t&&(t=this.rgba(0,0,0,1)),i="undefined"==typeof i?.43:i.value,(.2126*(e.rgb[0]/255)+.7152*(e.rgb[1]/255)+.0722*(e.rgb[2]/255))*e.alpha<i?n:t):null},e:function(t){return new e.Anonymous(t instanceof e.JavaScript?t.evaluated:t)},escape:function(t){return new e.Anonymous(encodeURI(t.value).replace(/=/g,"%3D").replace(/:/g,"%3A").replace(/#/g,"%23").replace(/;/g,"%3B").replace(/\(/g,"%28").replace(/\)/g,"%29"))},"%":function(t){for(var n=Array.prototype.slice.call(arguments,1),i=t.value,r=0;r<n.length;r++)i=i.replace(/%[sda]/i,function(e){var t=e.match(/s/i)?n[r].value:n[r].toCSS();return e.match(/[A-Z]$/)?encodeURIComponent(t):t});return i=i.replace(/%%/g,"%"),new e.Quoted('"'+i+'"',i)},unit:function(t,n){return new e.Dimension(t.value,n?n.toCSS():"")},round:function(e,t){var n="undefined"==typeof t?0:t.value;return this._math(function(e){return e.toFixed(n)},e)},ceil:function(e){return this._math(Math.ceil,e)},floor:function(e){return this._math(Math.floor,e)},_math:function(t,n){if(n instanceof e.Dimension)return new e.Dimension(t(parseFloat(n.value)),n.unit);if("number"==typeof n)return t(n);throw{type:"Argument",message:"argument must be a number"}},argb:function(t){return new e.Anonymous(t.toARGB())},percentage:function(t){return new e.Dimension(100*t.value,"%")},color:function(t){if(t instanceof e.Quoted)return new e.Color(t.value.slice(1));throw{type:"Argument",message:"argument must be a string"}},iscolor:function(t){return this._isa(t,e.Color)},isnumber:function(t){return this._isa(t,e.Dimension)},isstring:function(t){return this._isa(t,e.Quoted)},iskeyword:function(t){return this._isa(t,e.Keyword)},isurl:function(t){return this._isa(t,e.URL)},ispixel:function(t){return t instanceof e.Dimension&&"px"===t.unit?e.True:e.False},ispercentage:function(t){return t instanceof e.Dimension&&"%"===t.unit?e.True:e.False},isem:function(t){return t instanceof e.Dimension&&"em"===t.unit?e.True:e.False},_isa:function(t,n){return t instanceof n?e.True:e.False},multiply:function(e,t){var n=e.rgb[0]*t.rgb[0]/255,i=e.rgb[1]*t.rgb[1]/255,r=e.rgb[2]*t.rgb[2]/255;return this.rgb(n,i,r)},screen:function(e,t){var n=255-(255-e.rgb[0])*(255-t.rgb[0])/255,i=255-(255-e.rgb[1])*(255-t.rgb[1])/255,r=255-(255-e.rgb[2])*(255-t.rgb[2])/255;return this.rgb(n,i,r)},overlay:function(e,t){var n=e.rgb[0]<128?2*e.rgb[0]*t.rgb[0]/255:255-2*(255-e.rgb[0])*(255-t.rgb[0])/255,i=e.rgb[1]<128?2*e.rgb[1]*t.rgb[1]/255:255-2*(255-e.rgb[1])*(255-t.rgb[1])/255,r=e.rgb[2]<128?2*e.rgb[2]*t.rgb[2]/255:255-2*(255-e.rgb[2])*(255-t.rgb[2])/255;return this.rgb(n,i,r)},softlight:function(e,t){var n=t.rgb[0]*e.rgb[0]/255,i=n+e.rgb[0]*(255-(255-e.rgb[0])*(255-t.rgb[0])/255-n)/255;n=t.rgb[1]*e.rgb[1]/255;var r=n+e.rgb[1]*(255-(255-e.rgb[1])*(255-t.rgb[1])/255-n)/255;n=t.rgb[2]*e.rgb[2]/255;var o=n+e.rgb[2]*(255-(255-e.rgb[2])*(255-t.rgb[2])/255-n)/255;return this.rgb(i,r,o)},hardlight:function(e,t){var n=t.rgb[0]<128?2*t.rgb[0]*e.rgb[0]/255:255-2*(255-t.rgb[0])*(255-e.rgb[0])/255,i=t.rgb[1]<128?2*t.rgb[1]*e.rgb[1]/255:255-2*(255-t.rgb[1])*(255-e.rgb[1])/255,r=t.rgb[2]<128?2*t.rgb[2]*e.rgb[2]/255:255-2*(255-t.rgb[2])*(255-e.rgb[2])/255;return this.rgb(n,i,r)},difference:function(e,t){var n=Math.abs(e.rgb[0]-t.rgb[0]),i=Math.abs(e.rgb[1]-t.rgb[1]),r=Math.abs(e.rgb[2]-t.rgb[2]);return this.rgb(n,i,r)},exclusion:function(e,t){var n=e.rgb[0]+t.rgb[0]*(255-e.rgb[0]-e.rgb[0])/255,i=e.rgb[1]+t.rgb[1]*(255-e.rgb[1]-e.rgb[1])/255,r=e.rgb[2]+t.rgb[2]*(255-e.rgb[2]-e.rgb[2])/255;return this.rgb(n,i,r)},average:function(e,t){var n=(e.rgb[0]+t.rgb[0])/2,i=(e.rgb[1]+t.rgb[1])/2,r=(e.rgb[2]+t.rgb[2])/2;return this.rgb(n,i,r)},negation:function(e,t){var n=255-Math.abs(255-t.rgb[0]-e.rgb[0]),i=255-Math.abs(255-t.rgb[1]-e.rgb[1]),r=255-Math.abs(255-t.rgb[2]-e.rgb[2]);return this.rgb(n,i,r)},tint:function(e,t){return this.mix(this.rgb(255,255,255),e,t)},shade:function(e,t){return this.mix(this.rgb(0,0,0),e,t)}}}(t("./tree")),function(e){e.colors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}}(t("./tree")),function(e){e.Alpha=function(e){this.value=e},e.Alpha.prototype={toCSS:function(){return"alpha(opacity="+(this.value.toCSS?this.value.toCSS():this.value)+")"},eval:function(e){return this.value.eval&&(this.value=this.value.eval(e)),this}}}(t("../tree")),function(e){e.Anonymous=function(e){this.value=e.value||e
},e.Anonymous.prototype={toCSS:function(){return this.value},eval:function(){return this},compare:function(e){if(!e.toCSS)return-1;var t=this.toCSS(),n=e.toCSS();return t===n?0:n>t?-1:1}}}(t("../tree")),function(e){e.Assignment=function(e,t){this.key=e,this.value=t},e.Assignment.prototype={toCSS:function(){return this.key+"="+(this.value.toCSS?this.value.toCSS():this.value)},eval:function(t){return this.value.eval?new e.Assignment(this.key,this.value.eval(t)):this}}}(t("../tree")),function(e){e.Call=function(e,t,n,i){this.name=e,this.args=t,this.index=n,this.filename=i},e.Call.prototype={eval:function(t){var n,i=this.args.map(function(e){return e.eval(t)});if(this.name in e.functions)try{if(n=e.functions[this.name].apply(e.functions,i),null!=n)return n}catch(r){throw{type:r.type||"Runtime",message:"error evaluating function `"+this.name+"`"+(r.message?": "+r.message:""),index:this.index,filename:this.filename}}return new e.Anonymous(this.name+"("+i.map(function(e){return e.toCSS(t)}).join(", ")+")")},toCSS:function(e){return this.eval(e).toCSS()}}}(t("../tree")),function(e){e.Color=function(e,t){this.rgb=Array.isArray(e)?e:6==e.length?e.match(/.{2}/g).map(function(e){return parseInt(e,16)}):e.split("").map(function(e){return parseInt(e+e,16)}),this.alpha="number"==typeof t?t:1},e.Color.prototype={eval:function(){return this},toCSS:function(){return this.alpha<1?"rgba("+this.rgb.map(function(e){return Math.round(e)}).concat(this.alpha).join(", ")+")":"#"+this.rgb.map(function(e){return e=Math.round(e),e=(e>255?255:0>e?0:e).toString(16),1===e.length?"0"+e:e}).join("")},operate:function(t,n){var i=[];n instanceof e.Color||(n=n.toColor());for(var r=0;3>r;r++)i[r]=e.operate(t,this.rgb[r],n.rgb[r]);return new e.Color(i,this.alpha+n.alpha)},toHSL:function(){var e,t,n=this.rgb[0]/255,i=this.rgb[1]/255,r=this.rgb[2]/255,o=this.alpha,s=Math.max(n,i,r),a=Math.min(n,i,r),l=(s+a)/2,u=s-a;if(s===a)e=t=0;else{switch(t=l>.5?u/(2-s-a):u/(s+a),s){case n:e=(i-r)/u+(r>i?6:0);break;case i:e=(r-n)/u+2;break;case r:e=(n-i)/u+4}e/=6}return{h:360*e,s:t,l:l,a:o}},toARGB:function(){var e=[Math.round(255*this.alpha)].concat(this.rgb);return"#"+e.map(function(e){return e=Math.round(e),e=(e>255?255:0>e?0:e).toString(16),1===e.length?"0"+e:e}).join("")},compare:function(e){return e.rgb?e.rgb[0]===this.rgb[0]&&e.rgb[1]===this.rgb[1]&&e.rgb[2]===this.rgb[2]&&e.alpha===this.alpha?0:-1:-1}}}(t("../tree")),function(e){e.Comment=function(e,t){this.value=e,this.silent=!!t},e.Comment.prototype={toCSS:function(e){return e.compress?"":this.value},eval:function(){return this}}}(t("../tree")),function(e){e.Condition=function(e,t,n,i,r){this.op=e.trim(),this.lvalue=t,this.rvalue=n,this.index=i,this.negate=r},e.Condition.prototype.eval=function(e){var t,n=this.lvalue.eval(e),i=this.rvalue.eval(e),r=this.index,t=function(e){switch(e){case"and":return n&&i;case"or":return n||i;default:if(n.compare)t=n.compare(i);else{if(!i.compare)throw{type:"Type",message:"Unable to perform comparison",index:r};t=i.compare(n)}switch(t){case-1:return"<"===e||"=<"===e;case 0:return"="===e||">="===e||"=<"===e;case 1:return">"===e||">="===e}}}(this.op);return this.negate?!t:t}}(t("../tree")),function(e){e.Dimension=function(e,t){this.value=parseFloat(e),this.unit=t||null},e.Dimension.prototype={eval:function(){return this},toColor:function(){return new e.Color([this.value,this.value,this.value])},toCSS:function(){var e=this.value+this.unit;return e},operate:function(t,n){return new e.Dimension(e.operate(t,this.value,n.value),this.unit||n.unit)},compare:function(t){return t instanceof e.Dimension?t.value>this.value?-1:t.value<this.value?1:t.unit&&this.unit!==t.unit?-1:0:-1}}}(t("../tree")),function(e){e.Directive=function(t,n){this.name=t,Array.isArray(n)?(this.ruleset=new e.Ruleset([],n),this.ruleset.allowImports=!0):this.value=n},e.Directive.prototype={toCSS:function(e,t){return this.ruleset?(this.ruleset.root=!0,this.name+(t.compress?"{":" {\n  ")+this.ruleset.toCSS(e,t).trim().replace(/\n/g,"\n  ")+(t.compress?"}":"\n}\n")):this.name+" "+this.value.toCSS()+";\n"},eval:function(t){var n=this;return this.ruleset&&(t.frames.unshift(this),n=new e.Directive(this.name),n.ruleset=this.ruleset.eval(t),t.frames.shift()),n},variable:function(t){return e.Ruleset.prototype.variable.call(this.ruleset,t)},find:function(){return e.Ruleset.prototype.find.apply(this.ruleset,arguments)},rulesets:function(){return e.Ruleset.prototype.rulesets.apply(this.ruleset)}}}(t("../tree")),function(e){e.Element=function(t,n,i){this.combinator=t instanceof e.Combinator?t:new e.Combinator(t),this.value="string"==typeof n?n.trim():n?n:"",this.index=i},e.Element.prototype.eval=function(t){return new e.Element(this.combinator,this.value.eval?this.value.eval(t):this.value,this.index)},e.Element.prototype.toCSS=function(e){var t=this.value.toCSS?this.value.toCSS(e):this.value;return""==t&&"&"==this.combinator.value.charAt(0)?"":this.combinator.toCSS(e||{})+t},e.Combinator=function(e){this.value=" "===e?" ":e?e.trim():""},e.Combinator.prototype.toCSS=function(e){return{"":""," ":" ",":":" :","+":e.compress?"+":" + ","~":e.compress?"~":" ~ ",">":e.compress?">":" > ","|":e.compress?"|":" | "}[this.value]}}(t("../tree")),function(e){e.Expression=function(e){this.value=e},e.Expression.prototype={eval:function(t){return this.value.length>1?new e.Expression(this.value.map(function(e){return e.eval(t)})):1===this.value.length?this.value[0].eval(t):this},toCSS:function(e){return this.value.map(function(t){return t.toCSS?t.toCSS(e):""}).join(" ")}}}(t("../tree")),function(e){e.Import=function(t,n,i,r,o,s){var a=this;this.once=r,this.index=o,this._path=t,this.features=i&&new e.Value(i),this.rootpath=s,this.path=t instanceof e.Quoted?/(\.[a-z]*$)|([\?;].*)$/.test(t.value)?t.value:t.value+".less":t.value.value||t.value,this.css=/css([\?;].*)?$/.test(this.path),this.css||n.push(this.path,function(t,n,i){t&&(t.index=o),i&&a.once&&(a.skip=i),a.root=n||new e.Ruleset([],[])})},e.Import.prototype={toCSS:function(e){var t=this.features?" "+this.features.toCSS(e):"";return this.css?("string"==typeof this._path.value&&!/^(?:[a-z-]+:|\/)/.test(this._path.value)&&(this._path.value=this.rootpath+this._path.value),"@import "+this._path.toCSS()+t+";\n"):""},eval:function(t){{var n;this.features&&this.features.eval(t)}return this.skip?[]:this.css?this:(n=new e.Ruleset([],this.root.rules.slice(0)),n.evalImports(t),this.features?new e.Media(n.rules,this.features.value):n.rules)}}}(t("../tree")),function(e){e.JavaScript=function(e,t,n){this.escaped=n,this.expression=e,this.index=t},e.JavaScript.prototype={eval:function(t){var n,i=this,r={},o=this.expression.replace(/@\{([\w-]+)\}/g,function(n,r){return e.jsify(new e.Variable("@"+r,i.index).eval(t))});try{o=new Function("return ("+o+")")}catch(s){throw{message:"JavaScript evaluation error: `"+o+"`",index:this.index}}for(var a in t.frames[0].variables())r[a.slice(1)]={value:t.frames[0].variables()[a].value,toJS:function(){return this.value.eval(t).toCSS()}};try{n=o.call(r)}catch(s){throw{message:"JavaScript evaluation error: '"+s.name+": "+s.message+"'",index:this.index}}return"string"==typeof n?new e.Quoted('"'+n+'"',n,this.escaped,this.index):Array.isArray(n)?new e.Anonymous(n.join(", ")):new e.Anonymous(n)}}}(t("../tree")),function(e){e.Keyword=function(e){this.value=e},e.Keyword.prototype={eval:function(){return this},toCSS:function(){return this.value},compare:function(t){return t instanceof e.Keyword?t.value===this.value?0:1:-1}},e.True=new e.Keyword("true"),e.False=new e.Keyword("false")}(t("../tree")),function(e){e.Media=function(t,n){var i=this.emptySelectors();this.features=new e.Value(n),this.ruleset=new e.Ruleset(i,t),this.ruleset.allowImports=!0},e.Media.prototype={toCSS:function(e,t){var n=this.features.toCSS(t);return this.ruleset.root=0===e.length||e[0].multiMedia,"@media "+n+(t.compress?"{":" {\n  ")+this.ruleset.toCSS(e,t).trim().replace(/\n/g,"\n  ")+(t.compress?"}":"\n}\n")},eval:function(t){t.mediaBlocks||(t.mediaBlocks=[],t.mediaPath=[]);var n=new e.Media([],[]);return this.debugInfo&&(this.ruleset.debugInfo=this.debugInfo,n.debugInfo=this.debugInfo),n.features=this.features.eval(t),t.mediaPath.push(n),t.mediaBlocks.push(n),t.frames.unshift(this.ruleset),n.ruleset=this.ruleset.eval(t),t.frames.shift(),t.mediaPath.pop(),0===t.mediaPath.length?n.evalTop(t):n.evalNested(t)},variable:function(t){return e.Ruleset.prototype.variable.call(this.ruleset,t)},find:function(){return e.Ruleset.prototype.find.apply(this.ruleset,arguments)},rulesets:function(){return e.Ruleset.prototype.rulesets.apply(this.ruleset)},emptySelectors:function(){var t=new e.Element("","&",0);return[new e.Selector([t])]},evalTop:function(t){var n=this;if(t.mediaBlocks.length>1){var i=this.emptySelectors();n=new e.Ruleset(i,t.mediaBlocks),n.multiMedia=!0}return delete t.mediaBlocks,delete t.mediaPath,n},evalNested:function(t){var n,i,r=t.mediaPath.concat([this]);for(n=0;n<r.length;n++)i=r[n].features instanceof e.Value?r[n].features.value:r[n].features,r[n]=Array.isArray(i)?i:[i];return this.features=new e.Value(this.permute(r).map(function(t){for(t=t.map(function(t){return t.toCSS?t:new e.Anonymous(t)}),n=t.length-1;n>0;n--)t.splice(n,0,new e.Anonymous("and"));return new e.Expression(t)})),new e.Ruleset([],[])},permute:function(e){if(0===e.length)return[];if(1===e.length)return e[0];for(var t=[],n=this.permute(e.slice(1)),i=0;i<n.length;i++)for(var r=0;r<e[0].length;r++)t.push([e[0][r]].concat(n[i]));return t},bubbleSelectors:function(t){this.ruleset=new e.Ruleset(t.slice(0),[this.ruleset])}}}(t("../tree")),function(e){e.mixin={},e.mixin.Call=function(t,n,i,r,o){this.selector=new e.Selector(t),this.arguments=n,this.index=i,this.filename=r,this.important=o},e.mixin.Call.prototype={eval:function(t){var n,i,r,o,s,a,l,u,c=[],d=!1;for(r=this.arguments&&this.arguments.map(function(e){return{name:e.name,value:e.value.eval(t)}}),o=0;o<t.frames.length;o++)if((n=t.frames[o].find(this.selector)).length>0){for(u=!0,s=0;s<n.length;s++){for(i=n[s],l=!1,a=0;a<t.frames.length;a++)if(!(i instanceof e.mixin.Definition)&&i===(t.frames[a].originalRuleset||t.frames[a])){l=!0;break}if(!l&&i.matchArgs(r,t)){if(!i.matchCondition||i.matchCondition(r,t))try{Array.prototype.push.apply(c,i.eval(t,r,this.important).rules)}catch(h){throw{message:h.message,index:this.index,filename:this.filename,stack:h.stack}}d=!0}}if(d)return c}throw u?{type:"Runtime",message:"No matching definition was found for `"+this.selector.toCSS().trim()+"("+(r?r.map(function(e){var t="";return e.name&&(t+=e.name+":"),t+=e.value.toCSS?e.value.toCSS():"???"}).join(", "):"")+")`",index:this.index,filename:this.filename}:{type:"Name",message:this.selector.toCSS().trim()+" is undefined",index:this.index,filename:this.filename}}},e.mixin.Definition=function(t,n,i,r,o){this.name=t,this.selectors=[new e.Selector([new e.Element(null,t)])],this.params=n,this.condition=r,this.variadic=o,this.arity=n.length,this.rules=i,this._lookups={},this.required=n.reduce(function(e,t){return!t.name||t.name&&!t.value?e+1:e},0),this.parent=e.Ruleset.prototype,this.frames=[]},e.mixin.Definition.prototype={toCSS:function(){return""},variable:function(e){return this.parent.variable.call(this,e)},variables:function(){return this.parent.variables.call(this)},find:function(){return this.parent.find.apply(this,arguments)},rulesets:function(){return this.parent.rulesets.apply(this)},evalParams:function(t,n,i,r){var o,s,a,l,u,c,d,h,p=new e.Ruleset(null,[]),f=this.params.slice(0);if(i)for(i=i.slice(0),a=0;a<i.length;a++)if(s=i[a],c=s&&s.name){for(d=!1,l=0;l<f.length;l++)if(!r[l]&&c===f[l].name){r[l]=s.value.eval(t),p.rules.unshift(new e.Rule(c,s.value.eval(t))),d=!0;break}if(d){i.splice(a,1),a--;continue}throw{type:"Runtime",message:"Named argument for "+this.name+" "+i[a].name+" not found"}}for(h=0,a=0;a<f.length;a++)if(!r[a]){if(s=i&&i[h],c=f[a].name)if(f[a].variadic&&i){for(o=[],l=h;l<i.length;l++)o.push(i[l].value.eval(t));p.rules.unshift(new e.Rule(c,new e.Expression(o).eval(t)))}else{if(u=s&&s.value)u=u.eval(t);else{if(!f[a].value)throw{type:"Runtime",message:"wrong number of arguments for "+this.name+" ("+i.length+" for "+this.arity+")"};u=f[a].value.eval(n)}p.rules.unshift(new e.Rule(c,u)),r[a]=u}if(f[a].variadic&&i)for(l=h;l<i.length;l++)r[l]=i[l].value.eval(t);h++}return p},eval:function(t,n,i){var r,o,s=[],a=this.frames.concat(t.frames),l=this.evalParams(t,{frames:a},n,s);return l.rules.unshift(new e.Rule("@arguments",new e.Expression(s).eval(t))),r=i?this.parent.makeImportant.apply(this).rules:this.rules.slice(0),o=new e.Ruleset(null,r).eval({frames:[this,l].concat(a)}),o.originalRuleset=this,o},matchCondition:function(e,t){return this.condition&&!this.condition.eval({frames:[this.evalParams(t,{frames:this.frames.concat(t.frames)},e,[])].concat(t.frames)})?!1:!0},matchArgs:function(e,t){var n,i=e&&e.length||0;if(!this.variadic){if(i<this.required)return!1;if(i>this.params.length)return!1;if(this.required>0&&i>this.params.length)return!1}n=Math.min(i,this.arity);for(var r=0;n>r;r++)if(!this.params[r].name&&!this.params[r].variadic&&e[r].value.eval(t).toCSS()!=this.params[r].value.eval(t).toCSS())return!1;return!0}}}(t("../tree")),function(e){e.Operation=function(e,t){this.op=e.trim(),this.operands=t},e.Operation.prototype.eval=function(t){var n,i=this.operands[0].eval(t),r=this.operands[1].eval(t);if(i instanceof e.Dimension&&r instanceof e.Color){if("*"!==this.op&&"+"!==this.op)throw{name:"OperationError",message:"Can't substract or divide a color from a number"};n=r,r=i,i=n}if(!i.operate)throw{name:"OperationError",message:"Operation on an invalid type"};return i.operate(this.op,r)},e.operate=function(e,t,n){switch(e){case"+":return t+n;case"-":return t-n;case"*":return t*n;case"/":return t/n}}}(t("../tree")),function(e){e.Paren=function(e){this.value=e},e.Paren.prototype={toCSS:function(e){return"("+this.value.toCSS(e)+")"},eval:function(t){return new e.Paren(this.value.eval(t))}}}(t("../tree")),function(e){e.Quoted=function(e,t,n,i){this.escaped=n,this.value=t||"",this.quote=e.charAt(0),this.index=i},e.Quoted.prototype={toCSS:function(){return this.escaped?this.value:this.quote+this.value+this.quote},eval:function(t){var n=this,i=this.value.replace(/`([^`]+)`/g,function(i,r){return new e.JavaScript(r,n.index,!0).eval(t).value}).replace(/@\{([\w-]+)\}/g,function(i,r){var o=new e.Variable("@"+r,n.index).eval(t);return o instanceof e.Quoted?o.value:o.toCSS()});return new e.Quoted(this.quote+i+this.quote,i,this.escaped,this.index)},compare:function(e){if(!e.toCSS)return-1;var t=this.toCSS(),n=e.toCSS();return t===n?0:n>t?-1:1}}}(t("../tree")),function(e){e.Ratio=function(e){this.value=e},e.Ratio.prototype={toCSS:function(){return this.value},eval:function(){return this}}}(t("../tree")),function(e){e.Rule=function(t,n,i,r,o){this.name=t,this.value=n instanceof e.Value?n:new e.Value([n]),this.important=i?" "+i.trim():"",this.index=r,this.inline=o||!1,this.variable="@"===t.charAt(0)?!0:!1},e.Rule.prototype.toCSS=function(e){return this.variable?"":this.name+(e.compress?":":": ")+this.value.toCSS(e)+this.important+(this.inline?"":";")},e.Rule.prototype.eval=function(t){return new e.Rule(this.name,this.value.eval(t),this.important,this.index,this.inline)},e.Rule.prototype.makeImportant=function(){return new e.Rule(this.name,this.value,"!important",this.index,this.inline)},e.Shorthand=function(e,t){this.a=e,this.b=t},e.Shorthand.prototype={toCSS:function(e){return this.a.toCSS(e)+"/"+this.b.toCSS(e)},eval:function(){return this}}}(t("../tree")),function(e){e.Ruleset=function(e,t,n){this.selectors=e,this.rules=t,this._lookups={},this.strictImports=n},e.Ruleset.prototype={eval:function(t){var n,i=this.selectors&&this.selectors.map(function(e){return e.eval(t)}),r=new e.Ruleset(i,this.rules.slice(0),this.strictImports);r.originalRuleset=this,r.root=this.root,r.allowImports=this.allowImports,this.debugInfo&&(r.debugInfo=this.debugInfo),t.frames.unshift(r),(r.root||r.allowImports||!r.strictImports)&&r.evalImports(t);for(var o=0;o<r.rules.length;o++)r.rules[o]instanceof e.mixin.Definition&&(r.rules[o].frames=t.frames.slice(0));for(var s=t.mediaBlocks&&t.mediaBlocks.length||0,o=0;o<r.rules.length;o++)r.rules[o]instanceof e.mixin.Call&&(n=r.rules[o].eval(t),r.rules.splice.apply(r.rules,[o,1].concat(n)),o+=n.length-1,r.resetCache());for(var a,o=0;o<r.rules.length;o++)a=r.rules[o],a instanceof e.mixin.Definition||(r.rules[o]=a.eval?a.eval(t):a);if(t.frames.shift(),t.mediaBlocks)for(var o=s;o<t.mediaBlocks.length;o++)t.mediaBlocks[o].bubbleSelectors(i);return r},evalImports:function(t){var n,i;for(n=0;n<this.rules.length;n++)this.rules[n]instanceof e.Import&&(i=this.rules[n].eval(t),"number"==typeof i.length?(this.rules.splice.apply(this.rules,[n,1].concat(i)),n+=i.length-1):this.rules.splice(n,1,i),this.resetCache())},makeImportant:function(){return new e.Ruleset(this.selectors,this.rules.map(function(e){return e.makeImportant?e.makeImportant():e}),this.strictImports)},matchArgs:function(e){return!e||0===e.length},resetCache:function(){this._rulesets=null,this._variables=null,this._lookups={}},variables:function(){return this._variables?this._variables:this._variables=this.rules.reduce(function(t,n){return n instanceof e.Rule&&n.variable===!0&&(t[n.name]=n),t},{})},variable:function(e){return this.variables()[e]},rulesets:function(){return this._rulesets?this._rulesets:this._rulesets=this.rules.filter(function(t){return t instanceof e.Ruleset||t instanceof e.mixin.Definition})},find:function(t,n){n=n||this;var i,r=[],o=t.toCSS();return o in this._lookups?this._lookups[o]:(this.rulesets().forEach(function(o){if(o!==n)for(var s=0;s<o.selectors.length;s++)if(i=t.match(o.selectors[s])){t.elements.length>o.selectors[s].elements.length?Array.prototype.push.apply(r,o.find(new e.Selector(t.elements.slice(1)),n)):r.push(o);break}}),this._lookups[o]=r)},toCSS:function(t,n){var i,r,o,s=[],a=[],l=[],u=[],c=[];this.root||this.joinSelectors(c,t,this.selectors);for(var d=0;d<this.rules.length;d++)if(o=this.rules[d],o.rules||o instanceof e.Media)u.push(o.toCSS(c,n));else if(o instanceof e.Directive){var h=o.toCSS(c,n);if("@charset"===o.name){if(n.charset){o.debugInfo&&(u.push(e.debugInfo(n,o)),u.push(new e.Comment("/* "+h.replace(/\n/g,"")+" */\n").toCSS(n)));continue}n.charset=!0}u.push(h)}else o instanceof e.Comment?o.silent||(this.root?u.push(o.toCSS(n)):a.push(o.toCSS(n))):o.toCSS&&!o.variable?a.push(o.toCSS(n)):o.value&&!o.variable&&a.push(o.value.toString());if(u=u.join(""),this.root)s.push(a.join(n.compress?"":"\n"));else if(a.length>0){r=e.debugInfo(n,this),i=c.map(function(e){return e.map(function(e){return e.toCSS(n)}).join("").trim()}).join(n.compress?",":",\n");for(var d=a.length-1;d>=0;d--)-1===l.indexOf(a[d])&&l.unshift(a[d]);a=l,s.push(r+i+(n.compress?"{":" {\n  ")+a.join(n.compress?"":"\n  ")+(n.compress?"}":"\n}\n"))}return s.push(u),s.join("")+(n.compress?"\n":"")},joinSelectors:function(e,t,n){for(var i=0;i<n.length;i++)this.joinSelector(e,t,n[i])},joinSelector:function(t,n,i){var r,o,s,a,l,u,c,d,h,p,f,g,m,v,y;for(r=0;r<i.elements.length;r++)u=i.elements[r],"&"===u.value&&(a=!0);if(a){for(v=[],l=[[]],r=0;r<i.elements.length;r++)if(u=i.elements[r],"&"!==u.value)v.push(u);else{for(y=[],v.length>0&&this.mergeElementsOnToSelectors(v,l),o=0;o<l.length;o++)if(c=l[o],0==n.length)c.length>0&&(c[0].elements=c[0].elements.slice(0),c[0].elements.push(new e.Element(u.combinator,"",0))),y.push(c);else for(s=0;s<n.length;s++)d=n[s],h=[],p=[],g=!0,c.length>0?(h=c.slice(0),m=h.pop(),f=new e.Selector(m.elements.slice(0)),g=!1):f=new e.Selector([]),d.length>1&&(p=p.concat(d.slice(1))),d.length>0&&(g=!1,f.elements.push(new e.Element(u.combinator,d[0].elements[0].value,0)),f.elements=f.elements.concat(d[0].elements.slice(1))),g||h.push(f),h=h.concat(p),y.push(h);l=y,v=[]}for(v.length>0&&this.mergeElementsOnToSelectors(v,l),r=0;r<l.length;r++)t.push(l[r])}else if(n.length>0)for(r=0;r<n.length;r++)t.push(n[r].concat(i));else t.push([i])},mergeElementsOnToSelectors:function(t,n){var i,r;if(0==n.length)return n.push([new e.Selector(t)]),void 0;for(i=0;i<n.length;i++)r=n[i],r.length>0?r[r.length-1]=new e.Selector(r[r.length-1].elements.concat(t)):r.push(new e.Selector(t))}}}(t("../tree")),function(e){e.Selector=function(e){this.elements=e},e.Selector.prototype.match=function(e){var t,n,i,r,o=this.elements,s=o.length;if(t=e.elements.slice(e.elements.length&&"&"===e.elements[0].value?1:0),n=t.length,i=Math.min(s,n),0===n||n>s)return!1;for(r=0;i>r;r++)if(o[r].value!==t[r].value)return!1;return!0},e.Selector.prototype.eval=function(t){return new e.Selector(this.elements.map(function(e){return e.eval(t)}))},e.Selector.prototype.toCSS=function(e){return this._css?this._css:(this._css=""===this.elements[0].combinator.value?" ":"",this._css+=this.elements.map(function(t){return"string"==typeof t?" "+t.trim():t.toCSS(e)}).join(""),this._css)}}(t("../tree")),function(e){e.UnicodeDescriptor=function(e){this.value=e},e.UnicodeDescriptor.prototype={toCSS:function(){return this.value},eval:function(){return this}}}(t("../tree")),function(e){e.URL=function(e,t){this.value=e,this.rootpath=t},e.URL.prototype={toCSS:function(){return"url("+this.value.toCSS()+")"},eval:function(t){var n,i=this.value.eval(t);return"string"==typeof i.value&&!/^(?:[a-z-]+:|\/)/.test(i.value)&&(n=this.rootpath,i.quote||(n=n.replace(/[\(\)'"\s]/g,function(e){return"\\"+e})),i.value=n+i.value),new e.URL(i,this.rootpath)}}}(t("../tree")),function(e){e.Value=function(e){this.value=e,this.is="value"},e.Value.prototype={eval:function(t){return 1===this.value.length?this.value[0].eval(t):new e.Value(this.value.map(function(e){return e.eval(t)}))},toCSS:function(e){return this.value.map(function(t){return t.toCSS(e)}).join(e.compress?",":", ")}}}(t("../tree")),function(e){e.Variable=function(e,t,n){this.name=e,this.index=t,this.file=n},e.Variable.prototype={eval:function(t){var n,i,r=this.name;if(0==r.indexOf("@@")&&(r="@"+new e.Variable(r.slice(1)).eval(t).value),this.evaluating)throw{type:"Name",message:"Recursive variable definition for "+r,filename:this.file,index:this.index};if(this.evaluating=!0,n=e.find(t.frames,function(e){return(i=e.variable(r))?i.value.eval(t):void 0}))return this.evaluating=!1,n;throw{type:"Name",message:"variable "+r+" is undefined",filename:this.file,index:this.index}}}}(t("../tree")),function(e){e.debugInfo=function(t,n){var i="";if(t.dumpLineNumbers&&!t.compress)switch(t.dumpLineNumbers){case"comments":i=e.debugInfo.asComment(n);break;case"mediaquery":i=e.debugInfo.asMediaQuery(n);break;case"all":i=e.debugInfo.asComment(n)+e.debugInfo.asMediaQuery(n)}return i},e.debugInfo.asComment=function(e){return"/* line "+e.debugInfo.lineNumber+", "+e.debugInfo.fileName+" */\n"},e.debugInfo.asMediaQuery=function(e){return"@media -sass-debug-info{filename{font-family:"+("file://"+e.debugInfo.fileName).replace(/[\/:.]/g,"\\$&")+"}line{font-family:\\00003"+e.debugInfo.lineNumber+"}}\n"},e.find=function(e,t){for(var n,i=0;i<e.length;i++)if(n=t.call(e,e[i]))return n;return null},e.jsify=function(e){return Array.isArray(e.value)&&e.value.length>1?"["+e.value.map(function(e){return e.toCSS(!1)}).join(", ")+"]":e.toCSS(!1)}}(t("./tree"));var v=/^(file|chrome(-extension)?|resource|qrc|app):/.test(location.protocol);if(g.env=g.env||("127.0.0.1"==location.hostname||"0.0.0.0"==location.hostname||"localhost"==location.hostname||location.port.length>0||v?"development":"production"),g.async=g.async||!1,g.fileAsync=g.fileAsync||!1,g.poll=g.poll||(v?1e3:1500),g.functions)for(var y in g.functions)g.tree.functions[y]=g.functions[y];var b=/!dumpLineNumbers:(comments|mediaquery|all)/.exec(location.hash);b&&(g.dumpLineNumbers=b[1]),g.watch=function(){return g.watchMode||(g.env="development",n()),this.watchMode=!0},g.unwatch=function(){return clearInterval(g.watchTimer),this.watchMode=!1},/!watch/.test(location.hash)&&g.watch();var w=null;if("development"!=g.env)try{w="undefined"==typeof e.localStorage?null:e.localStorage}catch(_){}var x=document.getElementsByTagName("link"),C=/^text\/(x-)?less$/;g.sheets=[];for(var k=0;k<x.length;k++)("stylesheet/less"===x[k].rel||x[k].rel.match(/stylesheet/)&&x[k].type.match(C))&&g.sheets.push(x[k]);var E="";g.modifyVars=function(e){var t=E;for(name in e)t+=("@"===name.slice(0,1)?"":"@")+name+": "+(";"===e[name].slice(-1)?e[name]:e[name]+";");(new g.Parser).parse(t,function(e,t){u(t.toCSS(),g.sheets[g.sheets.length-1])})},g.refresh=function(e){var t,n;t=n=new Date,r(function(e,i,r,o,s){s.local?p("loading "+o.href+" from cache."):(p("parsed "+o.href+" successfully."),u(i.toCSS(),o,s.lastModified)),p("css for "+o.href+" generated in "+(new Date-n)+"ms"),0===s.remaining&&p("css generated in "+(new Date-t)+"ms"),n=new Date},e),i()},g.refreshStyles=i,g.refresh("development"===g.env),"function"==typeof define&&define.amd&&define("less",[],function(){return g})}(window),function(){var e,t=this,n=t.Backbone,i=[],r=i.push,o=i.slice,s=i.splice;e="undefined"!=typeof exports?exports:t.Backbone={},e.VERSION="1.0.0";var a=t._;a||"undefined"==typeof require||(a=require("underscore")),e.$=t.jQuery||t.Zepto||t.ender||t.$,e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var l=e.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!c(this,"once",e,[t,n])||!t)return this;var i=this,r=a.once(function(){i.off(e,r),t.apply(this,arguments)});return r._callback=t,this.on(e,r,n)},off:function(e,t,n){var i,r,o,s,l,u,d,h;if(!this._events||!c(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(s=e?[e]:a.keys(this._events),l=0,u=s.length;u>l;l++)if(e=s[l],o=this._events[e]){if(this._events[e]=i=[],t||n)for(d=0,h=o.length;h>d;d++)r=o[d],(t&&t!==r.callback&&t!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=o.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&d(n,t),i&&d(i,arguments),this},stopListening:function(e,t,n){var i=this._listeners;if(!i)return this;var r=!t&&!n;"object"==typeof t&&(n=this),e&&((i={})[e._listenerId]=e);for(var o in i)i[o].off(t,n,this),r&&delete this._listeners[o];return this}},u=/\s+/,c=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(u.test(n)){for(var o=n.split(u),s=0,a=o.length;a>s;s++)e[t].apply(e,[o[s]].concat(i));return!1}return!0},d=function(e,t){var n,i=-1,r=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t)}},h={listenTo:"on",listenToOnce:"once"};a.each(h,function(e,t){l[t]=function(t,n,i){var r=this._listeners||(this._listeners={}),o=t._listenerId||(t._listenerId=a.uniqueId("l"));return r[o]=t,"object"==typeof n&&(i=this),t[e](n,i,this),this}}),l.bind=l.on,l.unbind=l.off,a.extend(e,l);var p=e.Model=function(e,t){var n,i=e||{};t||(t={}),this.cid=a.uniqueId("c"),this.attributes={},a.extend(this,a.pick(t,f)),t.parse&&(i=this.parse(i,t)||{}),(n=a.result(this,"defaults"))&&(i=a.defaults({},i,n)),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)},f=["url","urlRoot","collection"];a.extend(p.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return a.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var i,r,o,s,l,u,c,d;if(null==e)return this;if("object"==typeof e?(r=e,n=t):(r={})[e]=t,n||(n={}),!this._validate(r,n))return!1;o=n.unset,l=n.silent,s=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=a.clone(this.attributes),this.changed={}),d=this.attributes,c=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(i in r)t=r[i],a.isEqual(d[i],t)||s.push(i),a.isEqual(c[i],t)?delete this.changed[i]:this.changed[i]=t,o?delete d[i]:d[i]=t;if(!l){s.length&&(this._pending=!0);for(var h=0,p=s.length;p>h;h++)this.trigger("change:"+s[h],this,d[s[h]],n)}if(u)return this;if(!l)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,a.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,a.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!a.isEmpty(this.changed):a.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?a.clone(this.changed):!1;var t,n=!1,i=this._changing?this._previousAttributes:this.attributes;for(var r in e)a.isEqual(i[r],t=e[r])||((n||(n={}))[r]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(e){e=e?a.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(i){return t.set(t.parse(i,e),e)?(n&&n(t,i,e),t.trigger("sync",t,i,e),void 0):!1},R(this,e),this.sync("read",this,e)},save:function(e,t,n){var i,r,o,s=this.attributes;if(null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t,!(!i||n&&n.wait||this.set(i,n)))return!1;if(n=a.extend({validate:!0},n),!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=a.extend({},s,i)),void 0===n.parse&&(n.parse=!0);var l=this,u=n.success;return n.success=function(e){l.attributes=s;var t=l.parse(e,n);return n.wait&&(t=a.extend(i||{},t)),a.isObject(t)&&!l.set(t,n)?!1:(u&&u(l,e,n),l.trigger("sync",l,e,n),void 0)},R(this,n),r=this.isNew()?"create":n.patch?"patch":"update","patch"===r&&(n.attrs=i),o=this.sync(r,this,n),i&&n.wait&&(this.attributes=s),o},destroy:function(e){e=e?a.clone(e):{};var t=this,n=e.success,i=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(r){(e.wait||t.isNew())&&i(),n&&n(t,r,e),t.isNew()||t.trigger("sync",t,r,e)},this.isNew())return e.success(),!1;R(this,e);var r=this.sync("delete",this,e);return e.wait||i(),r},url:function(){var e=a.result(this,"urlRoot")||a.result(this.collection,"url")||M();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},a.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=a.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,a.extend(t||{},{validationError:n})),!1):!0}});var g=["keys","values","pairs","invert","pick","omit"];a.each(g,function(e){p.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.attributes),a[e].apply(a,t)}});var m=e.Collection=function(e,t){t||(t={}),t.url&&(this.url=t.url),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,a.extend({silent:!0},t))},v={add:!0,remove:!0,merge:!0},y={add:!0,merge:!1,remove:!1};a.extend(m.prototype,l,{model:p,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return e.sync.apply(this,arguments)},add:function(e,t){return this.set(e,a.defaults(t||{},y))},remove:function(e,t){e=a.isArray(e)?e.slice():[e],t||(t={});var n,i,r,o;for(n=0,i=e.length;i>n;n++)o=this.get(e[n]),o&&(delete this._byId[o.id],delete this._byId[o.cid],r=this.indexOf(o),this.models.splice(r,1),this.length--,t.silent||(t.index=r,o.trigger("remove",o,this,t)),this._removeReference(o));return this},set:function(e,t){t=a.defaults(t||{},v),t.parse&&(e=this.parse(e,t)),a.isArray(e)||(e=e?[e]:[]);var n,i,o,l,u,c=t.at,d=this.comparator&&null==c&&t.sort!==!1,h=a.isString(this.comparator)?this.comparator:null,p=[],f=[],g={};for(n=0,i=e.length;i>n;n++)(o=this._prepareModel(e[n],t))&&((l=this.get(o))?(t.remove&&(g[l.cid]=!0),t.merge&&(l.set(o.attributes,t),d&&!u&&l.hasChanged(h)&&(u=!0))):t.add&&(p.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,null!=o.id&&(this._byId[o.id]=o)));if(t.remove){for(n=0,i=this.length;i>n;++n)g[(o=this.models[n]).cid]||f.push(o);
f.length&&this.remove(f,t)}if(p.length&&(d&&(u=!0),this.length+=p.length,null!=c?s.apply(this.models,[c,0].concat(p)):r.apply(this.models,p)),u&&this.sort({silent:!0}),t.silent)return this;for(n=0,i=p.length;i>n;n++)(o=p[n]).trigger("add",o,this,t);return u&&this.trigger("sort",this,t),this},reset:function(e,t){t||(t={});for(var n=0,i=this.models.length;i>n;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),this.add(e,a.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,a.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,a.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return null==e?void 0:this._byId[e.id]||this._byId[e.cid]||this._byId[e]},at:function(e){return this.models[e]},where:function(e,t){return a.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),a.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(a.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},sortedIndex:function(e,t,n){t||(t=this.comparator);var i=a.isFunction(t)?t:function(e){return e.get(t)};return a.sortedIndex(this.models,e,i,n)},pluck:function(e){return a.invoke(this.models,"get",e)},fetch:function(e){e=e?a.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(i){var r=e.reset?"reset":"set";n[r](i,e),t&&t(n,i,e),n.trigger("sync",n,i,e)},R(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?a.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,i=t.success;return t.success=function(r){t.wait&&n.add(e,t),i&&i(e,r,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof p)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:(this.trigger("invalid",this,e,t),!1)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var b=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];a.each(b,function(e){m.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.models),a[e].apply(a,t)}});var w=["groupBy","countBy","sortBy"];a.each(w,function(e){m.prototype[e]=function(t,n){var i=a.isFunction(t)?t:function(e){return e.get(t)};return a[e](this.models,i,n)}});var _=e.View=function(e){this.cid=a.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];a.extend(_.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=a.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(a.isFunction(n)||(n=this[e[t]]),n){var i=t.match(x),r=i[1],o=i[2];n=a.bind(n,this),r+=".delegateEvents"+this.cid,""===o?this.$el.on(r,n):this.$el.on(r,o,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(e){this.options&&(e=a.extend({},a.result(this,"options"),e)),a.extend(this,a.pick(e,C)),this.options=e},_ensureElement:function(){if(this.el)this.setElement(a.result(this,"el"),!1);else{var t=a.extend({},a.result(this,"attributes"));this.id&&(t.id=a.result(this,"id")),this.className&&(t["class"]=a.result(this,"className"));var n=e.$("<"+a.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}}),e.sync=function(t,n,i){var r=k[t];a.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:r,dataType:"json"};if(i.url||(o.url=a.result(n,"url")||M()),null!=i.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(i.attrs||n.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),i.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){o.type="POST",i.emulateJSON&&(o.data._method=r);var s=i.beforeSend;i.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",r),s?s.apply(this,arguments):void 0}}"GET"===o.type||i.emulateJSON||(o.processData=!1),"PATCH"!==o.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=i.xhr=e.ajax(a.extend(o,i));return n.trigger("request",n,l,i),l};var k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var E=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,A=/\*\w+/g,N=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(E.prototype,l,{initialize:function(){},route:function(t,n,i){a.isRegExp(t)||(t=this._routeToRegExp(t)),a.isFunction(n)&&(i=n,n=""),i||(i=this[n]);var r=this;return e.history.route(t,function(o){var s=r._extractParameters(t,o);i&&i.apply(r,s),r.trigger.apply(r,["route:"+n].concat(s)),r.trigger("route",n,s),e.history.trigger("route",r,n,s)}),this},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=a.result(this,"routes");for(var e,t=a.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(N,"\\$&").replace(T,"(?:$1)?").replace(S,function(e,t){return t?e:"([^/]+)"}).replace(A,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return a.map(n,function(e){return e?decodeURIComponent(e):null})}});var P=e.History=function(){this.handlers=[],a.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},$=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,D=/msie [\w.]+/,j=/\/$/;P.started=!1,a.extend(P.prototype,l,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(j,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace($,"")},start:function(t){if(P.started)throw new Error("Backbone.history has already been started");P.started=!0,this.options=a.extend({},{root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),i=document.documentMode,r=D.exec(navigator.userAgent.toLowerCase())&&(!i||7>=i);this.root=("/"+this.root+"/").replace(O,"/"),r&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var o=this.location,s=o.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&s&&o.hash&&(this.fragment=this.getHash().replace($,""),this.history.replaceState({},document.title,this.root+this.fragment+o.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),P.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=a.any(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0});return n},navigate:function(e,t){if(!P.started)return!1;if(t&&t!==!0||(t={trigger:t}),e=this.getFragment(e||""),this.fragment!==e){this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),e.history=new P;var I=function(e,t){var n,i=this;n=e&&a.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},a.extend(n,i,t);var r=function(){this.constructor=n};return r.prototype=i.prototype,n.prototype=new r,e&&a.extend(n.prototype,e),n.__super__=i.prototype,n};p.extend=m.extend=E.extend=_.extend=P.extend=I;var M=function(){throw new Error('A "url" property or function must be specified')},R=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}}}.call(this),/**
 *
 * Backbone.DeepModel v0.10.4
 *
 * Copyright (c) 2013 Charles Davison, Pow Media Ltd
 *
 * https://github.com/powmedia/backbone-deep-model
 * Licensed under the MIT License
 */
function(){var e,t,n,i,r,o,s=[].slice;n=function(e){var t,i;return!_.isObject(e)||_.isFunction(e)?e:e instanceof Backbone.Collection||e instanceof Backbone.Model?e:_.isDate(e)?new Date(e.getTime()):_.isRegExp(e)?new RegExp(e.source,e.toString().replace(/.*\//,"")):(i=_.isArray(e||_.isArguments(e)),t=function(e,t,r){return i?e.push(n(t)):e[r]=n(t),e},_.reduce(e,t,i?[]:{}))},o=function(e){return null==e?!1:!(e.prototype!=={}.prototype&&e.prototype!==Object.prototype||!_.isObject(e)||_.isArray(e)||_.isFunction(e)||_.isDate(e)||_.isRegExp(e)||_.isArguments(e))},t=function(e){return _.filter(_.keys(e),function(t){return o(e[t])})},e=function(e){return _.filter(_.keys(e),function(t){return _.isArray(e[t])})},r=function(n,i,o){var s,a,l,u,c,d,h,p,f,g;if(null==o&&(o=20),0>=o)return console.warn("_.deepExtend(): Maximum depth of recursion hit."),_.extend(n,i);for(d=_.intersection(t(n),t(i)),a=function(e){return i[e]=r(n[e],i[e],o-1)},h=0,f=d.length;f>h;h++)c=d[h],a(c);for(u=_.intersection(e(n),e(i)),s=function(e){return i[e]=_.union(n[e],i[e])},p=0,g=u.length;g>p;p++)l=u[p],s(l);return _.extend(n,i)},i=function(){var e,t,i,o;if(i=2<=arguments.length?s.call(arguments,0,o=arguments.length-1):(o=0,[]),t=arguments[o++],_.isNumber(t)||(i.push(t),t=20),i.length<=1)return i[0];if(0>=t)return _.extend.apply(this,i);for(e=i.shift();i.length>0;)e=r(e,n(i.shift()),t);return e},_.mixin({deepClone:n,isBasicObject:o,basicObjects:t,arrays:e,deepExtend:i})}.call(this),function(e){"function"==typeof define&&define.amd?define(["underscore","backbone"],e):e(_,Backbone)}(function(e,t){function n(t){var i={},r=s.keyPathSeparator;for(var o in t){var a=t[o];if(a&&a.constructor===Object&&!e.isEmpty(a)){var l=n(a);for(var u in l){var c=l[u];i[o+r+u]=c}}else i[o]=a}return i}function i(t,n,i){for(var r=s.keyPathSeparator,o=n.split(r),a=t,l=0,u=o.length;u>l;l++){if(i&&!e.has(a,o[l]))return!1;if(a=a[o[l]],null==a&&u-1>l&&(a={}),"undefined"==typeof a)return i?!0:a}return i?!0:a}function r(t,n,i,r){r=r||{};for(var o=s.keyPathSeparator,a=n.split(o),l=t,u=0,c=a.length;c>u&&void 0!==l;u++){var d=a[u];u===c-1?r.unset?delete l[d]:l[d]=i:("undefined"!=typeof l[d]&&e.isObject(l[d])||(l[d]={}),l=l[d])}}function o(e,t){r(e,t,null,{unset:!0})}var s=t.Model.extend({constructor:function(t,n){var i,r=t||{};this.cid=e.uniqueId("c"),this.attributes={},n&&n.collection&&(this.collection=n.collection),n&&n.parse&&(r=this.parse(r,n)||{}),(i=e.result(this,"defaults"))&&(r=e.deepExtend({},i,r)),this.set(r,n),this.changed={},this.initialize.apply(this,arguments)},toJSON:function(){return e.deepClone(this.attributes)},get:function(e){return i(this.attributes,e)},set:function(t,a,l){var u,c,d,h,p,f,g,m;if(null==t)return this;if("object"==typeof t?(c=t,l=a||{}):(c={})[t]=a,l||(l={}),!this._validate(c,l))return!1;d=l.unset,p=l.silent,h=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=e.deepClone(this.attributes),this.changed={}),m=this.attributes,g=this._previousAttributes,this.idAttribute in c&&(this.id=c[this.idAttribute]),c=n(c);for(u in c)a=c[u],e.isEqual(i(m,u),a)||h.push(u),e.isEqual(i(g,u),a)?o(this.changed,u):r(this.changed,u,a),d?o(m,u):r(m,u,a);if(!p){h.length&&(this._pending=!0);for(var v=s.keyPathSeparator,y=0,b=h.length;b>y;y++){var t=h[y];this.trigger("change:"+t,this,i(m,t),l);for(var w=t.split(v),_=w.length-1;_>0;_--){var x=e.first(w,_).join(v),C=x+v+"*";this.trigger("change:"+C,this,i(m,x),l)}}}if(f)return this;if(!p)for(;this._pending;)this._pending=!1,this.trigger("change",this,l);return this._pending=!1,this._changing=!1,this},clear:function(t){var i={},r=n(this.attributes);for(var o in r)i[o]=void 0;return this.set(i,e.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!e.isEmpty(this.changed):void 0!==i(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n(this.changed):!1;var i=this._changing?this._previousAttributes:this.attributes;t=n(t),i=n(i);var r,o=!1;for(var s in t)e.isEqual(i[s],r=t[s])||((o||(o={}))[s]=r);return o},previous:function(e){return null!=e&&this._previousAttributes?i(this._previousAttributes,e):null},previousAttributes:function(){return e.deepClone(this._previousAttributes)}});return s.keyPathSeparator=".",t.DeepModel=s,"undefined"!=typeof module&&(module.exports=s),t});var Handlebars={};Handlebars.VERSION="1.0.beta.6",Handlebars.helpers={},Handlebars.partials={},Handlebars.registerHelper=function(e,t,n){n&&(t.not=n),this.helpers[e]=t},Handlebars.registerPartial=function(e,t){this.partials[e]=t},Handlebars.registerHelper("helperMissing",function(e){if(2===arguments.length)return void 0;throw new Error("Could not find property '"+e+"'")});var toString=Object.prototype.toString,functionType="[object Function]";Handlebars.registerHelper("blockHelperMissing",function(e,t){var n=t.inverse||function(){},i=t.fn,r="",o=toString.call(e);if(o===functionType&&(e=e.call(this)),e===!0)return i(this);if(e===!1||null==e)return n(this);if("[object Array]"===o){if(e.length>0)for(var s=0,a=e.length;a>s;s++)r+=i(e[s]);else r=n(this);return r}return i(e)}),Handlebars.registerHelper("each",function(e,t){var n=t.fn,i=t.inverse,r="";if(e&&e.length>0)for(var o=0,s=e.length;s>o;o++)r+=n(e[o]);else r=i(this);return r}),Handlebars.registerHelper("if",function(e,t){var n=toString.call(e);return n===functionType&&(e=e.call(this)),!e||Handlebars.Utils.isEmpty(e)?t.inverse(this):t.fn(this)}),Handlebars.registerHelper("unless",function(e,t){var n=t.fn,i=t.inverse;return t.fn=i,t.inverse=n,Handlebars.helpers["if"].call(this,e,t)}),Handlebars.registerHelper("with",function(e,t){return t.fn(e)}),Handlebars.registerHelper("log",function(e){Handlebars.log(e)});var handlebars=function(){var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,statements:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,OPEN_PARTIAL:24,params:25,hash:26,param:27,STRING:28,INTEGER:29,BOOLEAN:30,hashSegments:31,hashSegment:32,ID:33,EQUALS:34,pathSegments:35,SEP:36,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"OPEN_PARTIAL",28:"STRING",29:"INTEGER",30:"BOOLEAN",33:"ID",34:"EQUALS",36:"SEP"},productions_:[0,[3,2],[4,3],[4,1],[4,0],[6,1],[6,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[7,2],[17,3],[17,2],[17,2],[17,1],[25,2],[25,1],[27,1],[27,1],[27,1],[27,1],[26,1],[31,2],[31,1],[32,3],[32,3],[32,3],[32,3],[21,1],[35,3],[35,1]],performAction:function(e,t,n,i,r,o){var s=o.length-1;switch(r){case 1:return o[s-1];case 2:this.$=new i.ProgramNode(o[s-2],o[s]);break;case 3:this.$=new i.ProgramNode(o[s]);break;case 4:this.$=new i.ProgramNode([]);break;case 5:this.$=[o[s]];break;case 6:o[s-1].push(o[s]),this.$=o[s-1];break;case 7:this.$=new i.InverseNode(o[s-2],o[s-1],o[s]);break;case 8:this.$=new i.BlockNode(o[s-2],o[s-1],o[s]);break;case 9:this.$=o[s];break;case 10:this.$=o[s];break;case 11:this.$=new i.ContentNode(o[s]);break;case 12:this.$=new i.CommentNode(o[s]);break;case 13:this.$=new i.MustacheNode(o[s-1][0],o[s-1][1]);break;case 14:this.$=new i.MustacheNode(o[s-1][0],o[s-1][1]);break;case 15:this.$=o[s-1];break;case 16:this.$=new i.MustacheNode(o[s-1][0],o[s-1][1]);break;case 17:this.$=new i.MustacheNode(o[s-1][0],o[s-1][1],!0);break;case 18:this.$=new i.PartialNode(o[s-1]);break;case 19:this.$=new i.PartialNode(o[s-2],o[s-1]);break;case 20:break;case 21:this.$=[[o[s-2]].concat(o[s-1]),o[s]];break;case 22:this.$=[[o[s-1]].concat(o[s]),null];break;case 23:this.$=[[o[s-1]],o[s]];break;case 24:this.$=[[o[s]],null];break;case 25:o[s-1].push(o[s]),this.$=o[s-1];break;case 26:this.$=[o[s]];break;case 27:this.$=o[s];break;case 28:this.$=new i.StringNode(o[s]);break;case 29:this.$=new i.IntegerNode(o[s]);break;case 30:this.$=new i.BooleanNode(o[s]);break;case 31:this.$=new i.HashNode(o[s]);break;case 32:o[s-1].push(o[s]),this.$=o[s-1];break;case 33:this.$=[o[s]];break;case 34:this.$=[o[s-2],o[s]];break;case 35:this.$=[o[s-2],new i.StringNode(o[s])];break;case 36:this.$=[o[s-2],new i.IntegerNode(o[s])];break;case 37:this.$=[o[s-2],new i.BooleanNode(o[s])];break;case 38:this.$=new i.IdNode(o[s]);break;case 39:o[s-2].push(o[s]),this.$=o[s-2];break;case 40:this.$=[o[s]]}},table:[{3:1,4:2,5:[2,4],6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{1:[3]},{5:[1,16]},{5:[2,3],7:17,8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,19],20:[2,3],22:[1,13],23:[1,14],24:[1,15]},{5:[2,5],14:[2,5],15:[2,5],16:[2,5],19:[2,5],20:[2,5],22:[2,5],23:[2,5],24:[2,5]},{4:20,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{4:21,6:3,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],24:[1,15]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],24:[2,9]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],24:[2,10]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],24:[2,11]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],24:[2,12]},{17:22,21:23,33:[1,25],35:24},{17:26,21:23,33:[1,25],35:24},{17:27,21:23,33:[1,25],35:24},{17:28,21:23,33:[1,25],35:24},{21:29,33:[1,25],35:24},{1:[2,1]},{6:30,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],24:[1,15]},{5:[2,6],14:[2,6],15:[2,6],16:[2,6],19:[2,6],20:[2,6],22:[2,6],23:[2,6],24:[2,6]},{17:22,18:[1,31],21:23,33:[1,25],35:24},{10:32,20:[1,33]},{10:34,20:[1,33]},{18:[1,35]},{18:[2,24],21:40,25:36,26:37,27:38,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,38],28:[2,38],29:[2,38],30:[2,38],33:[2,38],36:[1,46]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],36:[2,40]},{18:[1,47]},{18:[1,48]},{18:[1,49]},{18:[1,50],21:51,33:[1,25],35:24},{5:[2,2],8:18,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,2],22:[1,13],23:[1,14],24:[1,15]},{14:[2,20],15:[2,20],16:[2,20],19:[2,20],22:[2,20],23:[2,20],24:[2,20]},{5:[2,7],14:[2,7],15:[2,7],16:[2,7],19:[2,7],20:[2,7],22:[2,7],23:[2,7],24:[2,7]},{21:52,33:[1,25],35:24},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],24:[2,8]},{14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],24:[2,14]},{18:[2,22],21:40,26:53,27:54,28:[1,41],29:[1,42],30:[1,43],31:39,32:44,33:[1,45],35:24},{18:[2,23]},{18:[2,26],28:[2,26],29:[2,26],30:[2,26],33:[2,26]},{18:[2,31],32:55,33:[1,56]},{18:[2,27],28:[2,27],29:[2,27],30:[2,27],33:[2,27]},{18:[2,28],28:[2,28],29:[2,28],30:[2,28],33:[2,28]},{18:[2,29],28:[2,29],29:[2,29],30:[2,29],33:[2,29]},{18:[2,30],28:[2,30],29:[2,30],30:[2,30],33:[2,30]},{18:[2,33],33:[2,33]},{18:[2,40],28:[2,40],29:[2,40],30:[2,40],33:[2,40],34:[1,57],36:[2,40]},{33:[1,58]},{14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],24:[2,13]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],24:[2,16]},{5:[2,17],14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],24:[2,17]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],24:[2,18]},{18:[1,59]},{18:[1,60]},{18:[2,21]},{18:[2,25],28:[2,25],29:[2,25],30:[2,25],33:[2,25]},{18:[2,32],33:[2,32]},{34:[1,57]},{21:61,28:[1,62],29:[1,63],30:[1,64],33:[1,25],35:24},{18:[2,39],28:[2,39],29:[2,39],30:[2,39],33:[2,39],36:[2,39]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],24:[2,19]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],24:[2,15]},{18:[2,34],33:[2,34]},{18:[2,35],33:[2,35]},{18:[2,36],33:[2,36]},{18:[2,37],33:[2,37]}],defaultActions:{16:[2,1],37:[2,23],53:[2,21]},parseError:function(e){throw new Error(e)},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,i=[0],r=[null],o=[],s=this.table,a="",l=0,u=0,c=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;o.push(d),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var h,p,f,g,m,v,y,b,w,_={};;){if(f=i[i.length-1],this.defaultActions[f]?g=this.defaultActions[f]:(null==h&&(h=t()),g=s[f]&&s[f][h]),!("undefined"!=typeof g&&g.length&&g[0]||c)){w=[];for(v in s[f])this.terminals_[v]&&v>2&&w.push("'"+this.terminals_[v]+"'");var x="";x=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+this.terminals_[h]+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==h?"end of input":"'"+(this.terminals_[h]||h)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[h]||h,line:this.lexer.yylineno,loc:d,expected:w})}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+h);switch(g[0]){case 1:i.push(h),r.push(this.lexer.yytext),o.push(this.lexer.yylloc),i.push(g[1]),h=null,p?(h=p,p=null):(u=this.lexer.yyleng,a=this.lexer.yytext,l=this.lexer.yylineno,d=this.lexer.yylloc,c>0&&c--);break;case 2:if(y=this.productions_[g[1]][1],_.$=r[r.length-y],_._$={first_line:o[o.length-(y||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(y||1)].first_column,last_column:o[o.length-1].last_column},m=this.performAction.call(_,a,u,l,this.yy,g[1],r,o),"undefined"!=typeof m)return m;y&&(i=i.slice(0,-1*y*2),r=r.slice(0,-1*y),o=o.slice(0,-1*y)),i.push(this.productions_[g[1]][0]),r.push(_.$),o.push(_._$),b=s[i[i.length-2]][i[i.length-1]],i.push(b);break;case 3:return!0}}return!0}},t=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e;var t=e.match(/\n/);return t&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n;this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),r=0;r<i.length;r++)if(t=this._input.match(this.rules[i[r]]))return n=t[0].match(/\n.*/g),n&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,i[r],this.conditionStack[this.conditionStack.length-1]),e?e:void 0;return""===this._input?this.EOF:(this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno}),void 0)},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.performAction=function(e,t,n,i){switch(n){case 0:if("\\"!==t.yytext.slice(-1)&&this.begin("mu"),"\\"===t.yytext.slice(-1)&&(t.yytext=t.yytext.substr(0,t.yyleng-1),this.begin("emu")),t.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return 24;case 4:return 16;case 5:return 20;case 6:return 19;case 7:return 19;case 8:return 23;case 9:return 23;case 10:return t.yytext=t.yytext.substr(3,t.yyleng-5),this.popState(),15;case 11:return 22;case 12:return 34;case 13:return 33;case 14:return 33;case 15:return 36;case 16:break;case 17:return this.popState(),18;case 18:return this.popState(),18;case 19:return t.yytext=t.yytext.substr(1,t.yyleng-2).replace(/\\"/g,'"'),28;case 20:return 30;case 21:return 30;case 22:return 29;case 23:return 33;case 24:return t.yytext=t.yytext.substr(1,t.yyleng-2),33;case 25:return"INVALID";case 26:return 5}},e.rules=[/^[^\x00]*?(?=(\{\{))/,/^[^\x00]+/,/^[^\x00]{2,}?(?=(\{\{))/,/^\{\{>/,/^\{\{#/,/^\{\{\//,/^\{\{\^/,/^\{\{\s*else\b/,/^\{\{\{/,/^\{\{&/,/^\{\{![\s\S]*?\}\}/,/^\{\{/,/^=/,/^\.(?=[} ])/,/^\.\./,/^[\/.]/,/^\s+/,/^\}\}\}/,/^\}\}/,/^"(\\["]|[^"])*"/,/^true(?=[}\s])/,/^false(?=[}\s])/,/^[0-9]+(?=[}\s])/,/^[a-zA-Z0-9_$-]+(?=[=}\s\/.])/,/^\[[^\]]*\]/,/^./,/^$/],e.conditions={mu:{rules:[3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26],inclusive:!1},emu:{rules:[2],inclusive:!1},INITIAL:{rules:[0,1,26],inclusive:!0}},e}();return e.lexer=t,e}();"undefined"!=typeof require&&"undefined"!=typeof exports&&(exports.parser=handlebars,exports.parse=function(){return handlebars.parse.apply(handlebars,arguments)},exports.main=function(e){if(!e[1])throw new Error("Usage: "+e[0]+" FILE");if("undefined"!=typeof process)var t=require("fs").readFileSync(require("path").join(process.cwd(),e[1]),"utf8");else var n=require("file").path(require("file").cwd()),t=n.join(e[1]).read({charset:"utf-8"});return exports.parser.parse(t)},"undefined"!=typeof module&&require.main===module&&exports.main("undefined"!=typeof process?process.argv.slice(1):require("system").args)),Handlebars.Parser=handlebars,Handlebars.parse=function(e){return Handlebars.Parser.yy=Handlebars.AST,Handlebars.Parser.parse(e)},Handlebars.print=function(e){return(new Handlebars.PrintVisitor).accept(e)},Handlebars.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(){}},Handlebars.log=function(e,t){Handlebars.logger.log(e,t)},function(){Handlebars.AST={},Handlebars.AST.ProgramNode=function(e,t){this.type="program",this.statements=e,t&&(this.inverse=new Handlebars.AST.ProgramNode(t))},Handlebars.AST.MustacheNode=function(e,t,n){this.type="mustache",this.id=e[0],this.params=e.slice(1),this.hash=t,this.escaped=!n},Handlebars.AST.PartialNode=function(e,t){this.type="partial",this.id=e,this.context=t};var e=function(e,t){if(e.original!==t.original)throw new Handlebars.Exception(e.original+" doesn't match "+t.original)};Handlebars.AST.BlockNode=function(t,n,i){e(t.id,i),this.type="block",this.mustache=t,this.program=n},Handlebars.AST.InverseNode=function(t,n,i){e(t.id,i),this.type="inverse",this.mustache=t,this.program=n},Handlebars.AST.ContentNode=function(e){this.type="content",this.string=e},Handlebars.AST.HashNode=function(e){this.type="hash",this.pairs=e},Handlebars.AST.IdNode=function(e){this.type="ID",this.original=e.join(".");for(var t=[],n=0,i=0,r=e.length;r>i;i++){var o=e[i];".."===o?n++:"."===o||"this"===o?this.isScoped=!0:t.push(o)}this.parts=t,this.string=t.join("."),this.depth=n,this.isSimple=1===t.length&&0===n},Handlebars.AST.StringNode=function(e){this.type="STRING",this.string=e},Handlebars.AST.IntegerNode=function(e){this.type="INTEGER",this.integer=e},Handlebars.AST.BooleanNode=function(e){this.type="BOOLEAN",this.bool=e},Handlebars.AST.CommentNode=function(e){this.type="comment",this.comment=e}}(),Handlebars.Exception=function(){var e=Error.prototype.constructor.apply(this,arguments);for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.message=e.message},Handlebars.Exception.prototype=new Error,Handlebars.SafeString=function(e){this.string=e},Handlebars.SafeString.prototype.toString=function(){return this.string.toString()},function(){var e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},t=/&(?!\w+;)|[<>"'`]/g,n=/[&<>"'`]/,i=function(t){return e[t]||"&amp;"};Handlebars.Utils={escapeExpression:function(e){return e instanceof Handlebars.SafeString?e.toString():null==e||e===!1?"":n.test(e)?e.replace(t,i):e},isEmpty:function(e){return"undefined"==typeof e?!0:null===e?!0:e===!1?!0:"[object Array]"===Object.prototype.toString.call(e)&&0===e.length?!0:!1}}}(),Handlebars.Compiler=function(){},Handlebars.JavaScriptCompiler=function(){},function(e,t){e.OPCODE_MAP={appendContent:1,getContext:2,lookupWithHelpers:3,lookup:4,append:5,invokeMustache:6,appendEscaped:7,pushString:8,truthyOrFallback:9,functionOrFallback:10,invokeProgram:11,invokePartial:12,push:13,assignToHash:15,pushStringParam:16},e.MULTI_PARAM_OPCODES={appendContent:1,getContext:1,lookupWithHelpers:2,lookup:1,invokeMustache:3,pushString:1,truthyOrFallback:1,functionOrFallback:1,invokeProgram:3,invokePartial:1,push:1,assignToHash:1,pushStringParam:1},e.DISASSEMBLE_MAP={};for(var n in e.OPCODE_MAP){var i=e.OPCODE_MAP[n];e.DISASSEMBLE_MAP[i]=n}e.multiParamSize=function(t){return e.MULTI_PARAM_OPCODES[e.DISASSEMBLE_MAP[t]]},e.prototype={compiler:e,disassemble:function(){for(var t,n,i,r,o,s=this.opcodes,a=[],l=0,u=s.length;u>l;l++)if(t=s[l],"DECLARE"===t)r=s[++l],o=s[++l],a.push("DECLARE "+r+" = "+o);else{i=e.DISASSEMBLE_MAP[t];for(var c=e.multiParamSize(t),d=[],h=0;c>h;h++)n=s[++l],"string"==typeof n&&(n='"'+n.replace("\n","\\n")+'"'),d.push(n);i=i+" "+d.join(" "),a.push(i)}return a.join("\n")},guid:0,compile:function(e,t){this.children=[],this.depths={list:[]},this.options=t;var n=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},n)for(var i in n)this.options.knownHelpers[i]=n[i];return this.program(e)},accept:function(e){return this[e.type](e)},program:function(e){var t,n=e.statements;this.opcodes=[];for(var i=0,r=n.length;r>i;i++)t=n[i],this[t.type](t);return this.isSimple=1===r,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t=(new this.compiler).compile(e,this.options),n=this.guid++;this.usePartial=this.usePartial||t.usePartial,this.children[n]=t;for(var i=0,r=t.depths.list.length;r>i;i++)depth=t.depths.list[i],2>depth||this.addDepth(depth-1);return n},block:function(e){var t,n=e.mustache,i=this.setupStackForMustache(n),r=this.compileProgram(e.program);e.program.inverse&&(t=this.compileProgram(e.program.inverse),this.declare("inverse",t)),this.opcode("invokeProgram",r,i.length,!!n.hash),this.declare("inverse",null),this.opcode("append")},inverse:function(e){var t=this.setupStackForMustache(e.mustache),n=this.compileProgram(e.program);this.declare("inverse",n),this.opcode("invokeProgram",null,t.length,!!e.mustache.hash),this.declare("inverse",null),this.opcode("append")},hash:function(e){var t,n,i=e.pairs;this.opcode("push","{}");for(var r=0,o=i.length;o>r;r++)t=i[r],n=t[1],this.accept(n),this.opcode("assignToHash",t[0])},partial:function(e){var t=e.id;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.original),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){var t=this.setupStackForMustache(e);this.opcode("invokeMustache",t.length,e.id.original,!!e.hash),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth),this.opcode("lookupWithHelpers",e.parts[0]||null,e.isScoped||!1);for(var t=1,n=e.parts.length;n>t;t++)this.opcode("lookup",e.parts[t])},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("push",e.integer)},BOOLEAN:function(e){this.opcode("push",e.bool)},comment:function(){},pushParams:function(e){for(var t,n=e.length;n--;)t=e[n],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.string)):this[t.type](t)},opcode:function(t,n,i,r){this.opcodes.push(e.OPCODE_MAP[t]),void 0!==n&&this.opcodes.push(n),void 0!==i&&this.opcodes.push(i),void 0!==r&&this.opcodes.push(r)},declare:function(e,t){this.opcodes.push("DECLARE"),this.opcodes.push(e),this.opcodes.push(t)},addDepth:function(e){0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},setupStackForMustache:function(e){var t=e.params;return this.pushParams(t),e.hash&&this.hash(e.hash),this.ID(e.id),t}},t.prototype={nameLookup:function(e,n){return/^[0-9]+$/.test(n)?e+"["+n+"]":t.isValidJavaScriptVariableName(n)?e+"."+n:e+"['"+n+"']"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":"buffer += "+e+";"},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,t,n,i){this.environment=e,this.options=t||{},this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],aliases:{self:"this"},registers:{list:[]}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.compileChildren(e,t);var r,o=e.opcodes;for(this.i=0,a=o.length;this.i<a;this.i++)r=this.nextOpcode(0),"DECLARE"===r[0]?(this.i=this.i+2,this[r[1]]=r[2]):(this.i=this.i+r[1].length,this[r[0]].apply(this,r[1]));return this.createFunctionContext(i)},nextOpcode:function(t){var n,i,r,o,s=this.environment.opcodes,a=s[this.i+t];if("DECLARE"===a)return n=s[this.i+1],i=s[this.i+2],["DECLARE",n,i];n=e.DISASSEMBLE_MAP[a],r=e.multiParamSize(a),o=[];for(var l=0;r>l;l++)o.push(s[this.i+l+1+t]);return[n,o]},eat:function(e){this.i=this.i+e.length},preamble:function(){var e=[];if(this.useRegister("foundHelper"),this.isChild)e.push("");else{var t=this.namespace,n="helpers = helpers || "+t+".helpers;";this.environment.usePartial&&(n=n+" partials = partials || "+t+".partials;"),e.push(n)}this.environment.isSimple?e.push(""):e.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(e){var t=this.stackVars;if(this.isChild||(t=t.concat(this.context.registers.list)),t.length>0&&(this.source[1]=this.source[1]+", "+t.join(", ")),!this.isChild){for(var n in this.context.aliases)this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n]}this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var i=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],r=0,o=this.environment.depths.list.length;o>r;r++)i.push("depth"+this.environment.depths.list[r]);if(e)return i.push(this.source.join("\n  ")),Function.apply(this,i);var s="function "+(this.name||"")+"("+i.join(",")+") {\n  "+this.source.join("\n  ")+"}";return Handlebars.log(Handlebars.logger.DEBUG,s+"\n\n"),s},appendContent:function(e){this.source.push(this.appendToBuffer(this.quotedString(e)))},append:function(){var e=this.popStack();this.source.push("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){var e=this.nextOpcode(1),t="";this.context.aliases.escapeExpression="this.escapeExpression","appendContent"===e[0]&&(t=" + "+this.quotedString(e[1][0]),this.eat(e)),this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"+t))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupWithHelpers:function(e,t){if(e){var n=this.nextStack();this.usingKnownHelper=!1;var i;!t&&this.options.knownHelpers[e]?(i=n+" = "+this.nameLookup("helpers",e,"helper"),this.usingKnownHelper=!0):t||this.options.knownHelpersOnly?i=n+" = "+this.nameLookup("depth"+this.lastContext,e,"context"):(this.register("foundHelper",this.nameLookup("helpers",e,"helper")),i=n+" = foundHelper || "+this.nameLookup("depth"+this.lastContext,e,"context")),i+=";",this.source.push(i)}else this.pushStack("depth"+this.lastContext)},lookup:function(e){var t=this.topStack();this.source.push(t+" = ("+t+" === null || "+t+" === undefined || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")+");")},pushStringParam:function(e){this.pushStack("depth"+this.lastContext),this.pushString(e)},pushString:function(e){this.pushStack(this.quotedString(e))},push:function(e){this.pushStack(e)},invokeMustache:function(e,t,n){this.populateParams(e,this.quotedString(t),"{}",null,n,function(e,t,n){this.usingKnownHelper||(this.context.aliases.helperMissing="helpers.helperMissing",this.context.aliases.undef="void 0",this.source.push("else if("+n+"=== undef) { "+e+" = helperMissing.call("+t+"); }"),e!==n&&this.source.push("else { "+e+" = "+n+"; }"))})},invokeProgram:function(e,t,n){var i=this.programExpression(this.inverse),r=this.programExpression(e);this.populateParams(t,null,r,i,n,function(e,t){this.usingKnownHelper||(this.context.aliases.blockHelperMissing="helpers.blockHelperMissing",this.source.push("else { "+e+" = blockHelperMissing.call("+t+"); }"))})},populateParams:function(e,t,n,i,r,o){var s,a,l=r||this.options.stringParams||i||this.options.data,u=this.popStack(),c=[];if(l?(this.register("tmp1",n),a="tmp1"):a="{ hash: {} }",l){var d=r?this.popStack():"{}";this.source.push("tmp1.hash = "+d+";")}this.options.stringParams&&this.source.push("tmp1.contexts = [];");for(var h=0;e>h;h++)s=this.popStack(),c.push(s),this.options.stringParams&&this.source.push("tmp1.contexts.push("+this.popStack()+");");i&&(this.source.push("tmp1.fn = tmp1;"),this.source.push("tmp1.inverse = "+i+";")),this.options.data&&this.source.push("tmp1.data = data;"),c.push(a),this.populateCall(c,u,t||u,o,"{}"!==n)},populateCall:function(e,t,n,i,r){var o=["depth0"].concat(e).join(", "),s=["depth0"].concat(n).concat(e).join(", "),a=this.nextStack();if(this.usingKnownHelper)this.source.push(a+" = "+t+".call("+o+");");else{this.context.aliases.functionType='"function"';var l=r?"foundHelper && ":"";this.source.push("if("+l+"typeof "+t+" === functionType) { "+a+" = "+t+".call("+o+"); }")}i.call(this,a,s,t),this.usingKnownHelper=!1},invokePartial:function(e){params=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"],this.options.data&&params.push("data"),this.pushStack("self.invokePartial("+params.join(", ")+");")},assignToHash:function(e){var t=this.popStack(),n=this.topStack();this.source.push(n+"['"+e+"'] = "+t+";")},compiler:t,compileChildren:function(e,t){for(var n,i,r=e.children,o=0,s=r.length;s>o;o++){n=r[o],i=new this.compiler,this.context.programs.push("");var a=this.context.programs.length;n.index=a,n.name="program"+a,this.context.programs[a]=i.compile(n,t,this.context)}},programExpression:function(e){if(null==e)return"self.noop";for(var t=this.environment.children[e],n=t.depths.list,i=[t.index,t.name,"data"],r=0,o=n.length;o>r;r++)depth=n[r],1===depth?i.push("depth0"):i.push("depth"+(depth-1));return 0===n.length?"self.program("+i.join(", ")+")":(i.shift(),"self.programWithDepth("+i.join(", ")+")")},register:function(e,t){this.useRegister(e),this.source.push(e+" = "+t+";")},useRegister:function(e){this.context.registers[e]||(this.context.registers[e]=!0,this.context.registers.list.push(e))},pushStack:function(e){return this.source.push(this.nextStack()+" = "+e+";"),"stack"+this.stackSlot},nextStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),"stack"+this.stackSlot},popStack:function(){return"stack"+this.stackSlot--},topStack:function(){return"stack"+this.stackSlot},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r")+'"'}};for(var r="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),o=t.RESERVED_WORDS={},s=0,a=r.length;a>s;s++)o[r[s]]=!0;t.isValidJavaScriptVariableName=function(e){return!t.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(e)?!0:!1}}(Handlebars.Compiler,Handlebars.JavaScriptCompiler),Handlebars.precompile=function(e,t){t=t||{};
var n=Handlebars.parse(e),i=(new Handlebars.Compiler).compile(n,t);return(new Handlebars.JavaScriptCompiler).compile(i,t)},Handlebars.compile=function(e,t){function n(){var n=Handlebars.parse(e),i=(new Handlebars.Compiler).compile(n,t),r=(new Handlebars.JavaScriptCompiler).compile(i,t,void 0,!0);return Handlebars.template(r)}t=t||{};var i;return function(e,t){return i||(i=n()),i.call(this,e,t)}},Handlebars.VM={template:function(e){var t={escapeExpression:Handlebars.Utils.escapeExpression,invokePartial:Handlebars.VM.invokePartial,programs:[],program:function(e,t,n){var i=this.programs[e];return n?Handlebars.VM.program(t,n):i?i:i=this.programs[e]=Handlebars.VM.program(t)},programWithDepth:Handlebars.VM.programWithDepth,noop:Handlebars.VM.noop};return function(n,i){return i=i||{},e.call(t,Handlebars,n,i.helpers,i.partials,i.data)}},programWithDepth:function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(i,r){return r=r||{},e.apply(this,[i,r.data||t].concat(n))}},program:function(e,t){return function(n,i){return i=i||{},e(n,i.data||t)}},noop:function(){return""},invokePartial:function(e,t,n,i,r,o){if(options={helpers:i,partials:r,data:o},void 0===e)throw new Handlebars.Exception("The partial "+t+" could not be found");if(e instanceof Function)return e(n,options);if(Handlebars.compile)return r[t]=Handlebars.compile(e),r[t](n,options);throw new Handlebars.Exception("The partial "+t+" could not be compiled when running in runtime-only mode")}},Handlebars.template=Handlebars.VM.template;var Lorem;!function(){Lorem=function(){this.type=null,this.query=null,this.data=null},Lorem.IMAGE=1,Lorem.TEXT=2,Lorem.TYPE={PARAGRAPH:1,SENTENCE:2,WORD:3},Lorem.WORDS=["lorem","ipsum","dolor","sit","amet,","consectetur","adipiscing","elit","ut","aliquam,","purus","sit","amet","luctus","venenatis,","lectus","magna","fringilla","urna,","porttitor","rhoncus","dolor","purus","non","enim","praesent","elementum","facilisis","leo,","vel","fringilla","est","ullamcorper","eget","nulla","facilisi","etiam","dignissim","diam","quis","enim","lobortis","scelerisque","fermentum","dui","faucibus","in","ornare","quam","viverra","orci","sagittis","eu","volutpat","odio","facilisis","mauris","sit","amet","massa","vitae","tortor","condimentum","lacinia","quis","vel","eros","donec","ac","odio","tempor","orci","dapibus","ultrices","in","iaculis","nunc","sed","augue","lacus,","viverra","vitae","congue","eu,","consequat","ac","felis","donec","et","odio","pellentesque","diam","volutpat","commodo","sed","egestas","egestas","fringilla","phasellus","faucibus","scelerisque","eleifend","donec","pretium","vulputate","sapien","nec","sagittis","aliquam","malesuada","bibendum","arcu","vitae","elementum","curabitur","vitae","nunc","sed","velit","dignissim","sodales","ut","eu","sem","integer","vitae","justo","eget","magna","fermentum","iaculis","eu","non","diam","phasellus","vestibulum","lorem","sed","risus","ultricies","tristique","nulla","aliquet","enim","tortor,","at","auctor","urna","nunc","id","cursus","metus","aliquam","eleifend","mi","in","nulla","posuere","sollicitudin","aliquam","ultrices","sagittis","orci,","a","scelerisque","purus","semper","eget","duis","at","tellus","at","urna","condimentum","mattis","pellentesque","id","nibh","tortor,","id","aliquet","lectus","proin","nibh","nisl,","condimentum","id","venenatis","a,","condimentum","vitae","sapien","pellentesque","habitant","morbi","tristique","senectus","et","netus","et","malesuada","fames","ac","turpis","egestas","sed","tempus,","urna","et","pharetra","pharetra,","massa","massa","ultricies","mi,","quis","hendrerit","dolor","magna","eget","est","lorem","ipsum","dolor","sit","amet,","consectetur","adipiscing","elit","pellentesque","habitant","morbi","tristique","senectus","et","netus","et","malesuada","fames","ac","turpis","egestas","integer","eget","aliquet","nibh","praesent","tristique","magna","sit","amet","purus","gravida","quis","blandit","turpis","cursus","in","hac","habitasse","platea","dictumst","quisque","sagittis,","purus","sit","amet","volutpat","consequat,","mauris","nunc","congue","nisi,","vitae","suscipit","tellus","mauris","a","diam","maecenas","sed","enim","ut","sem","viverra","aliquet","eget","sit","amet","tellus","cras","adipiscing","enim","eu","turpis","egestas","pretium","aenean","pharetra,","magna","ac","placerat","vestibulum,","lectus","mauris","ultrices","eros,","in","cursus","turpis","massa","tincidunt","dui","ut","ornare","lectus","sit","amet","est","placerat","in","egestas","erat","imperdiet","sed","euismod","nisi","porta","lorem","mollis","aliquam","ut","porttitor","leo","a","diam","sollicitudin","tempor","id","eu","nisl","nunc","mi","ipsum,","faucibus","vitae","aliquet","nec,","ullamcorper","sit","amet","risus","nullam","eget","felis","eget","nunc","lobortis","mattis","aliquam","faucibus","purus","in","massa","tempor","nec","feugiat","nisl","pretium","fusce","id","velit","ut","tortor","pretium","viverra","suspendisse","potenti","nullam","ac","tortor","vitae","purus","faucibus","ornare","suspendisse","sed","nisi","lacus,","sed","viverra","tellus","in","hac","habitasse","platea","dictumst","vestibulum","rhoncus","est","pellentesque","elit","ullamcorper","dignissim","cras","tincidunt","lobortis","feugiat","vivamus","at","augue","eget","arcu","dictum","varius","duis","at","consectetur","lorem","donec","massa","sapien,","faucibus","et","molestie","ac,","feugiat","sed","lectus","vestibulum","mattis","ullamcorper","velit","sed","ullamcorper","morbi","tincidunt","ornare","massa,","eget","egestas","purus","viverra","accumsan","in","nisl","nisi,","scelerisque","eu","ultrices","vitae,","auctor","eu","augue","ut","lectus","arcu,","bibendum","at","varius","vel,","pharetra","vel","turpis","nunc","eget","lorem","dolor,","sed","viverra","ipsum","nunc","aliquet","bibendum","enim,","facilisis","gravida","neque","convallis","a","cras","semper","auctor","neque,","vitae","tempus","quam","pellentesque","nec","nam","aliquam","sem","et","tortor","consequat","id","porta","nibh","venenatis","cras","sed","felis","eget","velit","aliquet","sagittis","id","consectetur","purus","ut","faucibus","pulvinar","elementum","integer","enim","neque,","volutpat","ac","tincidunt","vitae,","semper","quis","lectus","nulla","at","volutpat","diam","ut","venenatis","tellus","in","metus","vulputate","eu","scelerisque","felis","imperdiet","proin","fermentum","leo","vel","orci","porta","non","pulvinar","neque","laoreet","suspendisse","interdum","consectetur","libero,","id","faucibus","nisl","tincidunt","eget","nullam","non","nisi","est,","sit","amet","facilisis","magna","etiam","tempor,","orci","eu","lobortis","elementum,","nibh","tellus","molestie","nunc,","non","blandit","massa","enim","nec","dui","nunc","mattis","enim","ut","tellus","elementum","sagittis","vitae","et","leo","duis","ut","diam","quam","nulla","porttitor","massa","id","neque","aliquam","vestibulum","morbi","blandit","cursus","risus,","at","ultrices","mi","tempus","imperdiet","nulla","malesuada","pellentesque","elit","eget","gravida","cum","sociis","natoque","penatibus","et","magnis","dis","parturient","montes,","nascetur","ridiculus","mus","mauris","vitae","ultricies","leo","integer","malesuada","nunc","vel","risus","commodo","viverra","maecenas","accumsan,","lacus","vel","facilisis","volutpat,","est","velit","egestas","dui,","id","ornare","arcu","odio","ut","sem","nulla","pharetra","diam","sit","amet","nisl","suscipit","adipiscing","bibendum","est","ultricies","integer","quis","auctor","elit","sed","vulputate","mi","sit","amet","mauris","commodo","quis","imperdiet","massa","tincidunt","nunc","pulvinar","sapien","et","ligula","ullamcorper","malesuada","proin","libero","nunc,","consequat","interdum","varius","sit","amet,","mattis","vulputate","enim","nulla","aliquet","porttitor","lacus,","luctus","accumsan","tortor","posuere","ac","ut","consequat","semper","viverra","nam","libero","justo,","laoreet","sit","amet","cursus","sit","amet,","dictum","sit","amet","justo","donec","enim","diam,","vulputate","ut","pharetra","sit","amet,","aliquam","id","diam","maecenas","ultricies","mi","eget","mauris","pharetra","et","ultrices","neque","ornare","aenean","euismod","elementum","nisi,","quis","eleifend","quam","adipiscing","vitae","proin","sagittis,","nisl","rhoncus","mattis","rhoncus,","urna","neque","viverra","justo,","nec","ultrices","dui","sapien","eget","mi","proin","sed","libero","enim,","sed","faucibus","turpis","in","eu","mi","bibendum","neque","egestas","congue","quisque","egestas","diam","in","arcu","cursus","euismod","quis","viverra","nibh","cras","pulvinar","mattis","nunc,","sed","blandit","libero","volutpat","sed","cras","ornare","arcu","dui","vivamus","arcu","felis,","bibendum","ut","tristique","et,","egestas","quis","ipsum","suspendisse","ultrices","gravida","dictum","fusce","ut","placerat","orci","nulla","pellentesque","dignissim","enim,","sit","amet","venenatis","urna","cursus","eget","nunc","scelerisque","viverra","mauris,","in","aliquam","sem","fringilla","ut","morbi","tincidunt","augue","interdum","velit","euismod","in","pellentesque","massa","placerat","duis","ultricies","lacus","sed","turpis","tincidunt","id","aliquet","risus","feugiat","in","ante","metus,","dictum","at","tempor","commodo,","ullamcorper","a","lacus","vestibulum","sed","arcu","non","odio","euismod","lacinia","at","quis","risus","sed","vulputate","odio","ut","enim","blandit","volutpat","maecenas","volutpat","blandit","aliquam","etiam","erat","velit,","scelerisque","in","dictum","non,","consectetur","a","erat","nam","at","lectus","urna","duis","convallis","convallis","tellus,","id","interdum","velit","laoreet","id","donec","ultrices","tincidunt","arcu,","non","sodales","neque","sodales","ut","etiam","sit","amet","nisl","purus,","in","mollis","nunc","sed","id","semper","risus","in","hendrerit","gravida","rutrum","quisque","non","tellus","orci,","ac","auctor","augue","mauris","augue","neque,","gravida","in","fermentum","et,","sollicitudin","ac","orci","phasellus","egestas","tellus","rutrum","tellus","pellentesque","eu","tincidunt","tortor","aliquam","nulla","facilisi","cras","fermentum,","odio","eu","feugiat","pretium,","nibh","ipsum","consequat","nisl,","vel","pretium","lectus","quam","id","leo","in","vitae","turpis","massa","sed","elementum","tempus","egestas","sed","sed","risus","pretium","quam","vulputate","dignissim","suspendisse","in","est","ante","in","nibh","mauris,","cursus","mattis","molestie","a,","iaculis","at","erat","pellentesque","adipiscing","commodo","elit,","at","imperdiet","dui","accumsan","sit","amet","nulla","facilisi","morbi","tempus","iaculis","urna,","id","volutpat","lacus","laoreet","non","curabitur","gravida","arcu","ac","tortor","dignissim","convallis","aenean","et","tortor","at","risus","viverra","adipiscing","at","in","tellus","integer","feugiat","scelerisque","varius","morbi","enim","nunc,","faucibus","a","pellentesque","sit","amet,","porttitor","eget","dolor","morbi","non","arcu","risus,","quis","varius","quam","quisque","id","diam","vel","quam","elementum","pulvinar","etiam","non","quam","lacus","suspendisse","faucibus","interdum","posuere","lorem","ipsum","dolor","sit","amet,","consectetur","adipiscing","elit","duis","tristique","sollicitudin","nibh","sit","amet","commodo","nulla","facilisi","nullam","vehicula","ipsum","a","arcu","cursus","vitae","congue","mauris","rhoncus","aenean","vel","elit","scelerisque","mauris","pellentesque","pulvinar","pellentesque","habitant","morbi","tristique","senectus","et","netus","et","malesuada","fames","ac","turpis","egestas","maecenas","pharetra","convallis","posuere","morbi","leo","urna,","molestie","at","elementum","eu,","facilisis","sed","odio","morbi","quis","commodo","odio","aenean","sed","adipiscing","diam","donec","adipiscing","tristique","risus","nec","feugiat","in","fermentum","posuere","urna","nec","tincidunt","praesent","semper","feugiat","nibh","sed","pulvinar","proin","gravida","hendrerit","lectus","a","molestie"],Lorem.prototype.randomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},Lorem.prototype.createText=function(e,t){switch(t){case Lorem.TYPE.PARAGRAPH:for(var n=new Array,i=0;e>i;i++){var r=this.randomInt(10,20),o=this.createText(r,Lorem.TYPE.SENTENCE);n.push(o)}return n.join("\n");case Lorem.TYPE.SENTENCE:for(var s=new Array,i=0;e>i;i++){var a=this.randomInt(5,10),l=this.createText(a,Lorem.TYPE.WORD).split(" ");l[0]=l[0].substr(0,1).toUpperCase()+l[0].substr(1);var u=l.join(" ");s.push(u)}return(s.join(". ")+".").replace(/(\.\,|\,\.)/g,".");case Lorem.TYPE.WORD:var c=this.randomInt(0,Lorem.WORDS.length-e-1);return Lorem.WORDS.slice(c,c+e).join(" ").replace(/\.|\,/g,"")}},Lorem.prototype.createLorem=function(e){var t=new Array,n=parseInt(this.query);if(/\d+p/.test(this.query))var i=Lorem.TYPE.PARAGRAPH;else if(/\d+s/.test(this.query))var i=Lorem.TYPE.SENTENCE;else if(/\d+w/.test(this.query))var i=Lorem.TYPE.WORD;if(t.push(this.createText(n,i)),t=t.join(" "),e)if(this.type==Lorem.TEXT)e.innerHTML+=t;else if(this.type==Lorem.IMAGE){var r="",o=this.query.split(" ");"gray"==o[0]&&(r+="/g",o[0]=""),e.getAttribute("width")&&(r+="/"+e.getAttribute("width")),e.getAttribute("height")&&(r+="/"+e.getAttribute("height")),r+="/"+o.join(" ").replace(/(^\s+|\s+$)/,""),e.src="http://lorempixum.com"+r.replace(/\/\//,"/")}return null==e?t:void 0},"undefined"!=typeof jQuery&&!function(e){e.fn.lorem=function(){e(this).each(function(){var t=new Lorem;t.type=e(this).is("img")?Lorem.IMAGE:Lorem.TEXT,t.query=e(this).data("lorem"),t.createLorem(this)})},e(document).ready(function(){e("[data-lorem]").lorem()})}(jQuery)}(),function(){window.Populr={environment:"production",domain:"//populr.me",favicon_url:"//getfavicon.appspot.com",api_url_parameters:"",ThemeMode:null,ThemeEngine:{imageTransformer:"//d78gdoipzblqe.cloudfront.net",elements:{},registry:{scripts:[],styles:[],setups:[],initializers:[],destroyers:[]},_regionCounter:0}}}.call(this),function(){var e,t;t="undefined"!=typeof exports&&null!==exports?exports:this,t.Populr.DummyPop=function(){function t(){var t,n,i,r,o,s,a,l,u,c,d,h,p=this;if(this.contentLength=$("meta[itemprop=dummyContentLength]").attr("content")||this.contentLength,this.pop={_id:"4f84400c061b49f6e700000c",custom_color:"000000",group_id:"4efe0cb6e5d7cc55f1000008",avatar_id:"4efe0cb6e5d7cc55f1000009",background_color:"111111",background_image:{},background_style:"fill",background_position:"c",palette:"palette-default",contents:[],created_at:"2012-04-10T14:13:32Z",description:null,headline_font:null,lowercase_slug:"",notify_on_open:!1,password:null,published:!1,slug:null,theme_id:this.themeId,title:e.title[this.contentLength],updated_at:"2012-04-10T14:14:27Z",published_pop_url:"","private":!1,name:"Untitled"},this.ready=$.Deferred(),l=$("meta[itemprop=defaultBackground]"),l.length>0&&(t=_.defaults(l.data(),{position:"c",style:"fill",color:"ffffff",url:l.attr("content"),attribution:null,width:0,height:0}),t.color=t.color.replace("#",""),this.pop.background_image={url:t.url,width:t.width,height:t.height,color:t.color,id:"default"},this.pop.background_color=t.color,this.pop.background_style=t.style,this.pop.background_position=t.position),o=$("meta[itemprop=dummyImageCategory]"),s=$("meta[itemprop=dummyImage]"),s.length>0)for(u=0,d=s.length;d>u;u++)a=s[u],this.images.push($(a).attr("content"));if(0===o.length)this.ready.resolve();else{for(n=[],c=0,h=o.length;h>c;c++){if(r=o[c],i=encodeURIComponent($(r).attr("content")),"all"===i.toLowerCase()){n=[];break}n.push(i)}$.getJSON("https://api.500px.com/v1/photos.jsonp?feature=editors&only="+n.join(",")+"&exclude=Nude&rpp=20&image_size=1&consumer_key=jFZ8LE4wlV6OSYjSgcEpmc0DCxpuHPj1CujVCz9Z&callback=?",function(e){var t,n,i,r;for(r=e.photos,n=0,i=r.length;i>n;n++)t=r[n],p.images.push(t.image_url.replace("1.jpg","5.jpg"));return p.ready.resolve()})}}return t.prototype.idCounter=0,t.prototype.regionCounter=0,t.prototype.imageCounter=0,t.prototype.images=[],t.prototype.themeId="4f3f9e76061b4919d1000004",t.prototype.ready=null,t.prototype.contentLength="short",t.prototype.addRegion=function(e,t){var n,i,r,o;switch(e){case"columnizer":i=this.parseColumnizer(t);break;case"packer":i=this.parsePacker(t)}for(r=0,o=i.length;o>r;r++)n=i[r],n.layout[this.themeId].region=this.regionCounter,this.pop.contents.push(n);return this.regionCounter++,i},t.prototype.parseColumnizer=function(e){var t,n,i,r,o,s,a,l,u,c;for(null==e&&(e=""),console.log("parsing dummy content",e),r=[],s=e.split("|")||[],a=0,u=s.length;u>a;a++)for(o=s[a],i=o.split(","),l=0,c=i.length;c>l;l++)n=i[l],t=this.parseAsset(n),t.layout[this.themeId].size=i.length.toString(),r.push(t);return r},t.prototype.parsePacker=function(e){var t,n,i,r,o,s;for(null==e&&(e=""),r=[],i=e.split(",")||[],o=0,s=i.length;s>o;o++)n=i[o],t=this.parseAsset(n),r.push(t);return r},t.prototype.parseAsset=function(t){var n,i,r,o,s,a,l,u,c,d,h,p,f,g,m;if(i=t.split("-"),i.length>2)a=i[2],s=i[1];else{if(!(i.length>1))throw new Error("Incorrect dummy content definition, use format [Asset Code]-[Number]-[Size (if packer)]");s=i[1]}switch(n={id:this.idCounter,title:e.title[this.contentLength],layout:{}},n.layout[this.themeId]={sortOrder:this.idCounter},null!=a&&(n.layout[this.themeId].size=a.toString()),this.idCounter++,l=t.charAt(0)){case"T":n.type="Text",n.body=e.body[this.contentLength];break;case"I":for(n.type="ImageGroup",n.contents=[],n.images=n.contents,r=u=0,p=s-1;p>=0?p>=u:u>=p;r=p>=0?++u:--u)o=this._getNextImage(),n.contents.push({type:"Image",background_image:!1,created_at:"2012-04-05T17:44:50Z",description:Lorem.prototype.createText(Lorem.prototype.randomInt(2,10),Lorem.TYPE.WORD),height:335,hidden:!1,palette:{colors:["#172817","#c1c0a7","#637055","#295422"],percentages:[.248,.155,.139,.121],average:"#67774d"},source_content_type:"image/jpeg",source_file_name:"db1006171-1003.jpg",source_file_size:172058,source_updated_at:"2012-04-05T17:44:49Z",subtitle:Lorem.prototype.createText(Lorem.prototype.randomInt(2,10),Lorem.TYPE.WORD),title:null,updated_at:"2012-04-05T17:44:50Z",width:500,thumbnail_url:o,tiny_url:o,small_thumbnail_url:o,original_url:o,id:r,sortOrder:r}),this.imageCounter++;break;case"D":for(n.type="DocumentGroup",n.contents=[],n.documents=n.contents,r=c=0,f=s-1;f>=0?f>=c:c>=f;r=f>=0?++c:--c)n.contents.push({type:"Document",created_at:null,description:Lorem.prototype.createText(Lorem.prototype.randomInt(5,10),Lorem.TYPE.WORD),hidden:!1,source_content_type:"application/zip",source_file_name:"theme_sample.zip",source_file_size:374,source_updated_at:"2012-02-25T20:13:11Z",subtitle:Lorem.prototype.createText(Lorem.prototype.randomInt(5,10),Lorem.TYPE.WORD),title:Lorem.prototype.createText(Lorem.prototype.randomInt(2,5),Lorem.TYPE.WORD),updated_at:null,extension:"zip",original_url:"http://files.populr.me/assets/theme_sample.zip",id:r,sortOrder:r});break;case"V":for(n.type="EmbedGroup",n.contents=[],n.embeds=n.contents,r=d=0,g=s-1;g>=0?g>=d:d>=g;r=g>=0?++d:--d)n.contents.push({type:"Embed",kind:"video",created_at:"2012-04-03T23:31:39Z",css_safe_provider:"youtube",description:Lorem.prototype.createText(Lorem.prototype.randomInt(5,10),Lorem.TYPE.WORD),hidden:!1,provider:"YouTube",subtitle:Lorem.prototype.createText(Lorem.prototype.randomInt(5,10),Lorem.TYPE.WORD),title:Lorem.prototype.createText(Lorem.prototype.randomInt(2,5),Lorem.TYPE.WORD),updated_at:"2012-04-03T23:31:39Z",url:"http://www.youtube.com/watch?v=YE7VzlLtp-4&feature=relmfu",html:'<div class="embedded-object"><iframe width="310" height="174" src="http://www.youtube.com/embed/YE7VzlLtp-4?wmode=transparent&fs=1&feature=oembed" frameborder="0" allowfullscreen></iframe><img src="http://i3.ytimg.com/vi/YE7VzlLtp-4/hqdefault.jpg" alt="" style="width: 310px; height: 174px; display: none;" /></div>\n',embedCache:{310:'<div class="embedded-object"><iframe width="310" height="174" src="http://www.youtube.com/embed/YE7VzlLtp-4?wmode=transparent&fs=1&feature=oembed" frameborder="0" allowfullscreen></iframe><img src="http://i3.ytimg.com/vi/YE7VzlLtp-4/hqdefault.jpg" alt="" style="width: 310px; height: 174px; display: none;" /></div>\n'},sortOrder:r,id:r});break;case"E":for(n.type="EmbedGroup",n.contents=[],n.embeds=n.contents,r=h=0,m=s-1;m>=0?m>=h:h>=m;r=m>=0?++h:--h)n.contents.push({type:"Embed",kind:null,created_at:"2012-04-03T23:31:39Z",css_safe_provider:"soundcloud",description:Lorem.prototype.createText(Lorem.prototype.randomInt(5,10),Lorem.TYPE.WORD),hidden:!1,provider:"Sound Cloud",subtitle:Lorem.prototype.createText(Lorem.prototype.randomInt(5,10),Lorem.TYPE.WORD),title:Lorem.prototype.createText(Lorem.prototype.randomInt(2,5),Lorem.TYPE.WORD),updated_at:"2012-04-03T23:31:39Z",url:"https://soundcloud.com/porter-robinson/porter-robinson-spitfire",html:'<div class="embedded-object"><iframe width="100%" height="166" scrolling="no" frameborder="no" src="//w.soundcloud.com/player/?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F23207391&show_artwork=true&maxwidth=900"></iframe><img src="//i1.sndcdn.com/artworks-000011498396-v0yjuz-t500x500.jpg?c831450" alt="" style="display: none;" /></div>',embedCache:{310:'<div class="embedded-object"><iframe width="100%" height="166" scrolling="no" frameborder="no" src="//w.soundcloud.com/player/?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F23207391&show_artwork=true&maxwidth=900"></iframe><img src="//i1.sndcdn.com/artworks-000011498396-v0yjuz-t500x500.jpg?c831450" alt="" style="display: none;" /></div>'},sortOrder:r,id:r})}return"Text"!==n.type&&(n.description=e.body[this.contentLength]),n},t.prototype.setBackground=function(){var e,t;if(!_.isEmpty(this.pop.background_image)){if("fill"===this.pop.background_style)return $("html, body").css({backgroundColor:"#"+this.pop.background_color}),$('<img id="background-image" src="'+this.pop.background_image.url+'" width="'+this.pop.background_image.width+'" height="'+this.pop.background_image.height+'" />').appendTo("body").fullBG({position:this.pop.background_position,container:$("meta[itemprop=backgroundContainer]").attr("content")||"body"});switch(this.pop.background_position){case"nw":e="top left";break;case"ne":e="top right";break;case"se":e="bottom right";break;case"sw":e="bottom left";break;case"c":e="center center"}return t="tile"===this.pop.background_style?"repeat":"no-repeat",console.log(this.pop.background_position),console.log("#"+this.pop.background_color+" url("+this.pop.background_image.url+") "+t+" "+e),$("body").css({background:"#"+this.pop.background_color+" url("+this.pop.background_image.url+") "+t+" "+e})}},t.prototype._getNextImage=function(){return this.images[this.imageCounter++%this.images.length]},t}(),e={title:{"short":"Lorem Ipsum Dolor",medium:"Lorem Ipsum Dolor Sit Amet <strong>Consectetuer</strong> Adipiscing","long":'Lorem Ipsum Dolor Sit Amet <strong>Consectetuer</strong> Adipiscing Elit <em<Aenean Commodo</em> Ligula Eget <a href="#">Dolor Aenean</a> Massa'},body:{"short":"<p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Pellentesque habitant morbi tristique senectus et netus.</p>",medium:'<p>Paragraph: Lorem ipsum dolor sit amet. <strong>Strong: Pellentesque</strong> fames ac turpis egestas. <em>Emphasis: Vestibulum</em>, feugiat. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est.</p>\n<br />\nBR: Tempus lacus enim ac dui. <a href="#">Link: Donec non enim</a> in turpis pulvinar facilisis. Ut felis.\n<ul>\n  <li>Unordered List: Lorem ipsum dolor sit amet.</li>\n  <li>Aliquam <b>Bold: tincidunt</b> mauris.</li>\n</ul>\n\n<p>Quisque, <u>Underline: fringilla eget</u>, luctus non libero. In elementum a orci. <i>Italic: Curabitur libero</i> nec diam mollis enim.</p>\n\n<ol>\n  <li>Ordered List: Lorem ipsum dolor sit amet, consectetuer.</li>\n  <li>Aliquam tincidunt eu risus.</li>\n</ol>\n\n<p><a href="#" class="link-btn">Button Link 1</a><a href="#" class="link-btn">Button Link 2</a><a href="#" class="link-btn">Button Link 3</a></p>',"long":'<p>Paragraph: Lorem ipsum dolor sit amet, consectetuer adipiscing elit. <strong>Strong: Pellentesque habitant</strong> morbi tristique senectus et netus et malesuada fames ac turpis egestas. <em>Emphasis: Vestibulum tortor quam</em>, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo. Quisque sit amet est et sapien ullamcorper pharetra. Vestibulum erat wisi, condimentum sed, commodo vitae, ornare sit amet, wisi.</p>\n<br />\nBR: Aenean fermentum, elit eget tincidunt condimentum, eros ipsum rutrum orci, sagittis tempus lacus enim ac dui. <a href="#">Link: Donec non enim</a> in turpis pulvinar facilisis. Ut felis.\n<ul>\n  <li>Unordered List: Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>\n  <li>Aliquam <b>Bold: tincidunt</b> mauris eu risus.</li>\n</ul>\n\n<p>Quisque lorem nisi, <u>Underline: fringilla eu dictum eget</u>, luctus non libero. In augue augue, rutrum sed scelerisque fermentum, elementum a orci. <i>Italic: Curabitur tincidunt libero</i> nec diam lobortis gravida dignissim mollis enim.</p>\n\n<ol>\n  <li>Ordered List: Lorem ipsum dolor sit amet, consectetuer adipiscing elit.</li>\n  <li>Aliquam tincidunt mauris eu risus.</li>\n</ol>\n\n<p><a href="#" class="link-btn">Button Link 1</a><a href="#" class="link-btn">Button Link 2</a><a href="#" class="link-btn">Button Link 3</a></p>'}}}.call(this),function(e,t){function n(e){return function(){return this[e]}}function i(e,t){var n=2<arguments.length?Array.prototype.slice.call(arguments,2):[];return function(){return n.push.apply(n,arguments),t.apply(e,n)}}function r(e,t){this.L=e,this.a=t}function o(e,n,i){e=e.L.getElementsByTagName(n)[0],e||(e=t.documentElement),e&&e.lastChild&&e.insertBefore(i,e.lastChild)}function s(e){function n(){t.body?e():setTimeout(n,0)}n()}function a(e){e.parentNode&&e.parentNode.removeChild(e)}function l(e,t){return e.createElement("link",{rel:"stylesheet",href:t})}function u(e,t){return e.createElement("script",{src:t})}function c(e,t){for(var n=e.className.split(/\s+/),i=0,r=n.length;r>i;i++)if(n[i]==t)return;n.push(t),e.className=n.join(" ").replace(/^\s+/,"")}function d(e,t){for(var n=e.className.split(/\s+/),i=[],r=0,o=n.length;o>r;r++)n[r]!=t&&i.push(n[r]);e.className=i.join(" ").replace(/^\s+/,"").replace(/\s+$/,"")}function h(e,t){for(var n=e.className.split(/\s+/),i=0,r=n.length;r>i;i++)if(n[i]==t)return Y;return Z}function p(e,t,n){"MSIE"==e.a.getName()?t.style.cssText=n:t.setAttribute("style",n)}function f(e,t,n,i,r,o,s,a){this.ya=e,this.Ea=t,this.ma=n,this.la=i,this.Ba=r,this.Aa=o,this.ka=s,this.Fa=a}function g(e,t){this.a=e,this.k=t}function m(e){var t=b(e.a,/(iPod|iPad|iPhone|Android)/,1);return""!=t?t:(e=b(e.a,/(Linux|Mac_PowerPC|Macintosh|Windows)/,1),""!=e?("Mac_PowerPC"==e&&(e="Macintosh"),e):"Unknown")}function v(e){var t=b(e.a,/(OS X|Windows NT|Android) ([^;)]+)/,2);return t||(t=b(e.a,/(iPhone )?OS ([\d_]+)/,2))?t:(e=b(e.a,/Linux ([i\d]+)/,1))?e:"Unknown"}function y(e){return e=b(e,/(\d+)/,1),""!=e?parseInt(e,10):-1}function b(e,t,n){return(e=e.match(t))&&e[n]?e[n]:""}function w(e){return e.documentMode?e.documentMode:void 0}function _(e,t,n){this.c=e,this.g=t,this.U=n,this.j="wf",this.h=new R("-")}function x(e){c(e.g,e.h.e(e.j,"loading")),k(e,"loading")}function C(e){d(e.g,e.h.e(e.j,"loading")),h(e.g,e.h.e(e.j,"active"))||c(e.g,e.h.e(e.j,"inactive")),k(e,"inactive")}function k(e,t,n,i){e.U[t]&&e.U[t](n,i)}function E(){this.da={}}function T(e,t){var n,i=[];for(n in t)if(t.hasOwnProperty(n)){var r=e.da[n];r&&i.push(r(t[n]))}return i}function S(e,t,n,i,r){this.c=e,this.A=t,this.n=n,this.u=i,this.D=r,this.K=0,this.ha=this.ca=Z}function A(e){0==--e.K&&e.ca&&(e.ha?(e=e.A,d(e.g,e.h.e(e.j,"loading")),d(e.g,e.h.e(e.j,"inactive")),c(e.g,e.h.e(e.j,"active")),k(e,"active")):C(e.A))}function N(e,t,n,i,r,o,s,a,l){this.H=e,this.Y=t,this.c=n,this.n=i,this.u=r,this.D=o,this.xa=new L,this.v=new B,this.M=s,this.B=a,this.pa=l||"BESbswy",this.P=O(this,"arial,'URW Gothic L',sans-serif"),this.Q=O(this,"Georgia,'Century Schoolbook L',serif"),this.aa=this.P,this.ba=this.Q,this.R=D(this,"arial,'URW Gothic L',sans-serif"),this.S=D(this,"Georgia,'Century Schoolbook L',serif")}function P(e){e.u(function(e,t){return function(){t.call(e)}}(e,e.J),25)}function $(e,t){a(e.R),a(e.S),t(e.M,e.B)}function O(e,t){var n=D(e,t,Y),i=e.n.p(n);return a(n),i}function D(e,t,n){return t=e.c.createElement("span",{style:j(e,t,e.B,n)},e.pa),o(e.c,"body",t),t}function j(e,t,n,i){return n=e.v.expand(n),"position:absolute;top:-999px;left:-999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;font-family:"+(i?"":e.xa.quote(e.M)+",")+t+";"+n}function I(e,t,n,i,r){this.c=e,this.V=t,this.g=n,this.u=i,this.a=r,this.N=this.O=0}function M(e,t,n){n=T(e.V,n),e.N=e.O=n.length;for(var r=new S(e.c,t,{p:function(e){return e.offsetWidth}},e.u,function(){return(new Date).getTime()}),o=0,s=n.length;s>o;o++){var a=n[o];a.z(e.a,i(e,e.va,a,t,r))}}function R(e){this.wa=e||"-"}function L(){this.fa="'"}function B(){this.G=tt,this.o=nt}function H(e,t,n){this.Z=e,this.Ca=t,this.o=n}function F(e,t){this.c=e,this.d=t}function z(e,t,n,i,r,o,s,l,u){for(z.Da.call(this,e,t,n,i,r,o,s,l,u),e="Times New Roman,Lucida Sans Unicode,Courier New,Tahoma,Arial,Microsoft Sans Serif,Times,Lucida Console,Sans,Serif,Monospace".split(","),t=e.length,n={},i=D(this,e[0],Y),n[this.n.p(i)]=Y,r=1;t>r;r++)o=e[r],p(this.c,i,j(this,o,this.B,Y)),n[this.n.p(i)]=Y,"4"!=this.B[1]&&(p(this.c,i,j(this,o,this.B[0]+"4",Y)),n[this.n.p(i)]=Y);a(i),this.t=n,this.ja=Z}function q(t){this.I=t?t:("https:"==e.location.protocol?"https:":"http:")+ot,this.f=[],this.T=[]}function W(e){this.f=e,this.ea=[],this.ia={},this.F={},this.v=new B}function V(e,t,n){this.a=e,this.c=t,this.d=n}function U(e,t){this.c=e,this.d=t}function G(e,t,n){this.m=e,this.c=t,this.d=n,this.f=[],this.s={},this.v=new B}function X(e,t,n,i,r){this.m=e,this.a=t,this.c=n,this.k=i,this.d=r,this.f=[],this.s={}}function Q(e,t,n){this.m=e,this.c=t,this.d=n,this.f=[],this.s={}}var J,Y=!0,K=null,Z=!1;r.prototype.createElement=function(e,t,n){if(e=this.L.createElement(e),t)for(var i in t)t.hasOwnProperty(i)&&("style"==i?p(this,e,t[i]):e.setAttribute(i,t[i]));return n&&e.appendChild(this.L.createTextNode(n)),e},J=f.prototype,J.getName=n("ya"),J.ua=n("Ea"),J.W=n("ma"),J.ra=n("la"),J.sa=n("Ba"),J.ta=n("Aa"),J.qa=n("ka"),J.w=n("Fa");var et=new f("Unknown","Unknown","Unknown","Unknown","Unknown","Unknown",void 0,Z);g.prototype.parse=function(){var e;if(-1!=this.a.indexOf("MSIE"))if(e=b(this.a,/(MSIE [\d\w\.]+)/,1),""!=e){var t=e.split(" ");e=t[0],t=t[1],e=new f(e,t,e,t,m(this),v(this),w(this.k),6<=y(t))}else e=new f("MSIE","Unknown","MSIE","Unknown",m(this),v(this),w(this.k),Z);else if(-1!=this.a.indexOf("Opera")){var t=e="Unknown",n=b(this.a,/(Presto\/[\d\w\.]+)/,1);""!=n?(t=n.split("/"),e=t[0],t=t[1]):(-1!=this.a.indexOf("Gecko")&&(e="Gecko"),n=b(this.a,/rv:([^\)]+)/,1),""!=n&&(t=n)),-1==this.a.indexOf("Version/")||(n=b(this.a,/Version\/([\d\.]+)/,1),""==n)?(n=b(this.a,/Opera[\/ ]([\d\.]+)/,1),e=""!=n?new f("Opera",n,e,t,m(this),v(this),w(this.k),10<=y(n)):new f("Opera","Unknown",e,t,m(this),v(this),w(this.k),Z)):e=new f("Opera",n,e,t,m(this),v(this),w(this.k),10<=y(n))}else if(-1!=this.a.indexOf("AppleWebKit")){e=m(this),t=v(this),n=b(this.a,/AppleWebKit\/([\d\.\+]+)/,1),""==n&&(n="Unknown");var i="Unknown";-1!=this.a.indexOf("Chrome")||-1!=this.a.indexOf("CrMo")?i="Chrome":-1!=this.a.indexOf("Safari")?i="Safari":-1!=this.a.indexOf("AdobeAIR")&&(i="AdobeAIR");var r="Unknown";-1!=this.a.indexOf("Version/")?r=b(this.a,/Version\/([\d\.\w]+)/,1):"Chrome"==i?r=b(this.a,/(Chrome|CrMo)\/([\d\.]+)/,2):"AdobeAIR"==i&&(r=b(this.a,/AdobeAIR\/([\d\.]+)/,1));var o=Z;"AdobeAIR"==i?(o=b(r,/\d+\.(\d+)/,1),o=2<y(r)||2==y(r)&&5<=parseInt(o,10)):(o=b(n,/\d+\.(\d+)/,1),o=526<=y(n)||525<=y(n)&&13<=parseInt(o,10)),e=new f(i,r,"AppleWebKit",n,e,t,w(this.k),o)}else-1!=this.a.indexOf("Gecko")?(t=e="Unknown",i=Z,-1!=this.a.indexOf("Firefox")?(e="Firefox",n=b(this.a,/Firefox\/([\d\w\.]+)/,1),""!=n&&(i=b(n,/\d+\.(\d+)/,1),t=n,i=""!=n&&3<=y(n)&&5<=parseInt(i,10))):-1!=this.a.indexOf("Mozilla")&&(e="Mozilla"),n=b(this.a,/rv:([^\)]+)/,1),""==n?n="Unknown":i||(i=y(n),r=parseInt(b(n,/\d+\.(\d+)/,1),10),o=parseInt(b(n,/\d+\.\d+\.(\d+)/,1),10),i=i>1||1==i&&r>9||1==i&&9==r&&o>=2||n.match(/1\.9\.1b[123]/)!=K||n.match(/1\.9\.1\.[\d\.]+/)!=K),e=new f(e,t,"Gecko",n,m(this),v(this),w(this.k),i)):e=et;return e},S.prototype.watch=function(e,t,n,r,o){for(var s=e.length,a=0;s>a;a++){var l=e[a];t[l]||(t[l]=["n4"]),this.K+=t[l].length}for(o&&(this.ca=o),a=0;s>a;a++)for(var l=e[a],o=t[l],u=n[l],d=0,h=o.length;h>d;d++){var p=o[d],f=this.A,g=l,m=p;c(f.g,f.h.e(f.j,g,m,"loading")),k(f,"fontloading",g,m),f=i(this,this.na),g=i(this,this.oa),new r(f,g,this.c,this.n,this.u,this.D,l,p,u).start()
}},S.prototype.na=function(e,t){var n=this.A;d(n.g,n.h.e(n.j,e,t,"loading")),d(n.g,n.h.e(n.j,e,t,"inactive")),c(n.g,n.h.e(n.j,e,t,"active")),k(n,"fontactive",e,t),this.ha=Y,A(this)},S.prototype.oa=function(e,t){var n=this.A;d(n.g,n.h.e(n.j,e,t,"loading")),h(n.g,n.h.e(n.j,e,t,"active"))||c(n.g,n.h.e(n.j,e,t,"inactive")),k(n,"fontinactive",e,t),A(this)},N.prototype.start=function(){this.ga=this.D(),this.J()},N.prototype.J=function(){var e=this.n.p(this.R),t=this.n.p(this.S);this.P==e&&this.Q==t||this.aa!=e||this.ba!=t?5e3<=this.D()-this.ga?$(this,this.Y):(this.aa=e,this.ba=t,P(this)):$(this,this.H)},I.prototype.q=function(e,t){this.V.da[e]=t},I.prototype.load=function(e){var t=new _(this.c,this.g,e);this.a.w()?M(this,t,e):C(t)},I.prototype.va=function(e,t,n,r){var o=e.X?e.X():N;r?e.load(i(this,this.za,t,n,o)):(e=0==--this.O,this.N--,e&&(0==this.N?C(t):x(t)),n.watch([],{},{},o,e))},I.prototype.za=function(e,t,n,r,o,s){var a=0==--this.O;a&&x(e),this.u(i(this,function(e,t,n,i,r,o){e.watch(t,n||{},i||{},r,o)},t,r,o,s,n,a))},R.prototype.e=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.wa)},L.prototype.quote=function(e){for(var t=[],e=e.split(/,\s*/),n=0;n<e.length;n++){var i=e[n].replace(/['"]/g,"");-1==i.indexOf(" ")?t.push(i):t.push(this.fa+i+this.fa)}return t.join(",")};var tt=["font-style","font-weight"],nt={"font-style":[["n","normal"],["i","italic"],["o","oblique"]],"font-weight":[["1","100"],["2","200"],["3","300"],["4","400"],["5","500"],["6","600"],["7","700"],["8","800"],["9","900"],["4","normal"],["7","bold"]]};H.prototype.compact=function(e,t){for(var n=0;n<this.o.length;n++)if(t==this.o[n][1]){e[this.Z]=this.o[n][0];break}},H.prototype.expand=function(e,t){for(var n=0;n<this.o.length;n++)if(t==this.o[n][0]){e[this.Z]=this.Ca+":"+this.o[n][1];break}},B.prototype.compact=function(e){for(var t=["n","4"],e=e.split(";"),n=0,i=e.length;i>n;n++){var r=e[n].replace(/\s+/g,"").split(":");if(2==r.length){var o=r[1];e:{for(var r=r[0],s=0;s<this.G.length;s++)if(r==this.G[s]){r=new H(s,r,this.o[r]);break e}r=K}r&&r.compact(t,o)}}return t.join("")},B.prototype.expand=function(e){if(2!=e.length)return K;for(var t=[K,K],n=0,i=this.G.length;i>n;n++){var r=this.G[n];new H(n,r,this.o[r]).expand(t,e.substr(n,1))}return t[0]&&t[1]?t.join(";")+";":K},e.WebFont=function(){var e=new g(navigator.userAgent,t).parse();return new I(new r(t,e),new E,t.documentElement,function(e,t){setTimeout(e,t)},e)}(),e.WebFont.load=e.WebFont.load,e.WebFont.addModule=e.WebFont.q,f.prototype.getName=f.prototype.getName,f.prototype.getVersion=f.prototype.ua,f.prototype.getEngine=f.prototype.W,f.prototype.getEngineVersion=f.prototype.ra,f.prototype.getPlatform=f.prototype.sa,f.prototype.getPlatformVersion=f.prototype.ta,f.prototype.getDocumentMode=f.prototype.qa,f.prototype.isSupportingWebFont=f.prototype.w;var it={regular:"n4",bold:"n7",italic:"i4",bolditalic:"i7",r:"n4",b:"n7",i:"i4",bi:"i7"};F.prototype.z=function(e,t){return t(e.w())},F.prototype.load=function(e){var n,i;o(this.c,"head",l(this.c,("https:"==t.location.protocol?"https:":"http:")+"//webfonts.fontslive.com/css/"+this.d.key+".css"));var r,s,a=this.d.families;r=[],s={};for(var u=0,c=a.length;c>u;u++){if(i=i=n=void 0,i=a[u].split(":"),n=i[0],i[1]){i=i[1].split(",");for(var d=[],h=0,p=i.length;p>h;h++){var f=i[h];if(f){var g=it[f];d.push(g?g:f)}}i=d}else i=["n4"];r.push(n),s[n]=i}e(r,s)},e.WebFont.q("ascender",function(e){var n=new g(navigator.userAgent,t).parse();return new F(new r(t,n),e)}),function(e,t){function n(){}n.prototype=e.prototype,t.prototype=new n,t.Da=e,t.Ga=e.prototype}(N,z);var rt={Arimo:Y,Cousine:Y,Tinos:Y};z.prototype.J=function(){var e=this.n.p(this.R),t=this.n.p(this.S);!this.ja&&e==t&&this.t[e]&&(this.t={},this.ja=this.t[e]=Y),this.P==e&&this.Q==t||this.t[e]||this.t[t]?5e3<=this.D()-this.ga?this.t[e]&&this.t[t]&&rt[this.M]?$(this,this.H):$(this,this.Y):P(this):$(this,this.H)};var ot="//fonts.googleapis.com/css";q.prototype.e=function(){if(0==this.f.length)throw Error("No fonts to load !");if(-1!=this.I.indexOf("kit="))return this.I;for(var e=this.f.length,t=[],n=0;e>n;n++)t.push(this.f[n].replace(/ /g,"+"));return e=this.I+"?family="+t.join("%7C"),0<this.T.length&&(e+="&subset="+this.T.join(",")),e};var st={ultralight:"n2",light:"n3",regular:"n4",bold:"n7",italic:"i4",bolditalic:"i7",ul:"n2",l:"n3",r:"n4",b:"n7",i:"i4",bi:"i7"},at={latin:"BESbswy",cyrillic:"&#1081;&#1103;&#1046;",greek:"&#945;&#946;&#931;",khmer:"&#x1780;&#x1781;&#x1782;",Hanuman:"&#x1780;&#x1781;&#x1782;"};W.prototype.parse=function(){for(var e=this.f.length,t=0;e>t;t++){var n=this.f[t].split(":"),i=n[0].replace(/\+/g," "),r=["n4"];if(2<=n.length){var o,s=n[1];if(o=[],s)for(var s=s.split(","),a=s.length,l=0;a>l;l++){var u;if(u=s[l],u.match(/^[\w ]+$/)){var c=st[u];c?u=c:(c=u.match(/^(\d*)(\w*)$/),u=c[1],c=c[2],u=(u=this.v.expand([c?c:"n",u?u.substr(0,1):"4"].join("")))?this.v.compact(u):K)}else u="";u&&o.push(u)}0<o.length&&(r=o),3==n.length&&(n=n[2],o=[],n=n?n.split(","):o,0<n.length&&(n=at[n[0]])&&(this.F[i]=n))}this.F[i]||(n=at[i])&&(this.F[i]=n),this.ea.push(i),this.ia[i]=r}},V.prototype.z=function(e,t){t(e.w())},V.prototype.X=function(){return"AppleWebKit"==this.a.W()?z:N},V.prototype.load=function(e){"MSIE"==this.a.getName()&&this.d.blocking!=Y?s(i(this,this.$,e)):this.$(e)},V.prototype.$=function(e){for(var t=this.c,n=new q(this.d.api),i=this.d.families,r=i.length,s=0;r>s;s++){var a=i[s].split(":");3==a.length&&n.T.push(a.pop()),n.f.push(a.join(":"))}i=new W(i),i.parse(),o(t,"head",l(t,n.e())),e(i.ea,i.ia,i.F)},e.WebFont.q("google",function(e){var n=new g(navigator.userAgent,t).parse();return new V(n,new r(t,n),e)}),U.prototype.load=function(e){for(var t=this.d.urls||[],n=this.d.families||[],i=0,r=t.length;r>i;i++)o(this.c,"head",l(this.c,t[i]));e(n)},U.prototype.z=function(e,t){return t(e.w())},e.WebFont.q("custom",function(e){var n=new g(navigator.userAgent,t).parse();return new U(new r(t,n),e)}),G.prototype.C=function(e){return("https:"==this.m.location.protocol?"https:":"http:")+(this.d.api||"//f.fontdeck.com/s/css/js/")+this.m.document.location.hostname+"/"+e+".js"},G.prototype.z=function(e,t){var n=this.d.id,i=this;n?(this.m.__webfontfontdeckmodule__||(this.m.__webfontfontdeckmodule__={}),this.m.__webfontfontdeckmodule__[n]=function(e,n){for(var r=0,o=n.fonts.length;o>r;++r){var s=n.fonts[r];i.f.push(s.name),i.s[s.name]=[i.v.compact("font-weight:"+s.weight+";font-style:"+s.style)]}t(e)},o(this.c,"head",u(this.c,this.C(n)))):t(Y)},G.prototype.load=function(e){e(this.f,this.s)},e.WebFont.q("fontdeck",function(n){var i=new g(navigator.userAgent,t).parse();return new G(e,new r(t,i),n)}),X.prototype.z=function(e,t){var n=this,i=n.d.projectId;if(i){var r=u(n.c,n.C(i));r.id="__MonotypeAPIScript__"+i,r.onreadystatechange=function(e){("loaded"===r.readyState||"complete"===r.readyState)&&(r.onreadystatechange=K,r.onload(e))},r.onload=function(){if(n.m["__mti_fntLst"+i]){var r=n.m["__mti_fntLst"+i]();if(r&&r.length){var o;for(o=0;o<r.length;o++)n.f.push(r[o].fontfamily)}}t(e.w())},o(this.c,"head",r)}else t(Y)},X.prototype.C=function(e){var t=this.protocol(),n=(this.d.api||"fast.fonts.com/jsapi").replace(/^.*http(s?):(\/\/)?/,"");return t+"//"+n+"/"+e+".js"},X.prototype.load=function(e){e(this.f,this.s)},X.prototype.protocol=function(){var e=["http:","https:"],t=e[0];if(this.k&&this.k.location&&this.k.location.protocol)for(var n=0,n=0;n<e.length;n++)if(this.k.location.protocol===e[n])return this.k.location.protocol;return t},e.WebFont.q("monotype",function(n){var i=new g(navigator.userAgent,t).parse();return new X(e,i,new r(t,i),t,n)}),Q.prototype.C=function(t){var n="https:"==e.location.protocol?"https:":"http:";return(this.d.api||n+"//use.typekit.com")+"/"+t+".js"},Q.prototype.z=function(e,t){var n=this.d.id,i=this.d,r=this;n?(this.m.__webfonttypekitmodule__||(this.m.__webfonttypekitmodule__={}),this.m.__webfonttypekitmodule__[n]=function(n){n(e,i,function(e,n,i){r.f=n,r.s=i,t(e)})},o(this.c,"head",u(this.c,this.C(n)))):t(Y)},Q.prototype.load=function(e){e(this.f,this.s)},e.WebFont.q("typekit",function(n){var i=new g(navigator.userAgent,t).parse();return new Q(e,new r(t,i),n)}),e.WebFontConfig&&e.WebFont.load(e.WebFontConfig)}(this,document),stitchRequire.define({Confirm:function(e){(function(){var t=function(e,t){return function(){return e.apply(t,arguments)}};e.Confirm=function(){function n(n){var i,r,o,s;null==n&&(n={}),this.handleKeyEvents=t(this.handleKeyEvents,this),e.Confirm.defaults.container=$("#site").length>0?"#site":"body",this.options=_.defaults(n,e.Confirm.defaults),i=this.getElement(),i.length>0&&i.data("confirm-dialog").destroy(),i=$('<div id="confirm-dialog" class="form-inline '+this.options.classes+'">'+this.render()+"</div>").hide().appendTo($(this.options.container)).data("confirm-dialog",this),o=$("#pop-frame"),o.length>0&&$(n.target)[0].ownerDocument!==document?(s=o.contents(),r=o.offset(),r.top-=s.scrollTop(),r.left-=s.scrollLeft()):r={top:0,left:0},i.mousedown(function(e){return e.stopImmediatePropagation()}),i.position({my:"center center",at:"center center",of:this.options.target||"body",offset:""+r.left+" "+r.top,collision:"fit"}),i.show(this.options.effect.name,this.options.effect.options,this.options.effect.speed),i.width(i.width()+1),this.bindEvents(),this.getElement(),_.defer(function(){return $("[autofocus]").focus()})}return n.defaults={container:"#site",text:"<undefined error>",confirmButton:{classes:"default",text:"OK"},rejectButton:{classes:"default",text:"Cancel"},swap:!1,classes:"",effect:{name:"fade",options:{direction:"up"},speed:200},duration:200,target:null,confirmCallback:function(e){return e.preventDefault(),!0},rejectCallback:function(e){return e.preventDefault(),!0}},n.alert=function(t,n){return null==t&&(t=null),null==n&&(n=null),new e.Confirm({text:t||e.Confirm.defaults.text,rejectButton:!1,target:n||e.Confirm.defaults.target,classes:""})},n.confirm=function(t){return null==t&&(t={}),new e.Confirm(t)},n.prototype.destroy=function(e){var t;return null==e&&(e=!1),t=this.getElement(),this.unbindEvents(),e?t.hide(this.options.effect.name,this.options.effect.options,this.options.effect.speed,function(){return $(".ui-effects-wrapper").remove(),t.remove()}):t.remove()},n.prototype.bindEvents=function(){var e,t,n,i=this;return e=this.getElement(),n=$("#pop-frame"),n.length?(t=n[0].contentWindow.document,$(t).on("keyup",this.handleKeyEvents)):$(document).on("keyup",this.handleKeyEvents),e.find("input").on("keydown",this.handleKeyEvents),e.find("a[data-action=confirm]").on("click",this.options.confirmCallback),e.find("a[data-action=reject]").on("click",this.options.rejectCallback),e.find("a[data-action]").on("click",function(){return i.destroy(!0)})},n.prototype.unbindEvents=function(){var e,t,n;return e=this.getElement(),n=$("#pop-frame"),n.length?(t=n[0].contentWindow.document,$(t).off("keyup",this.handleKeyEvents)):$(document).off("keyup",this.handleKeyEvents),e.find("input").off("keydown"),e.find("a[data-action=confirm]").off("click"),e.find("a[data-action=reject]").off("click")},n.prototype.handleKeyEvents=function(e){return 13===e.keyCode&&(this.options.confirmCallback(e),this.destroy(!0)),27===e.keyCode?(this.options.rejectCallback(e),this.destroy(!0)):void 0},n.prototype.getElement=function(){return $(this.options.container).find("#confirm-dialog")},n.prototype.render=function(){var e,t;return t=String(this.options.confirmButton.classes),t.indexOf("btn-")>-1||(t+=" btn-populr"),e=[this.options.confirmButton?'<a href="#" data-action="confirm" class="btn btn-small '+t+'">'+this.options.confirmButton.text+"</a>":void 0,this.options.rejectButton?'<a href="#" data-action="reject" class="btn btn-small btn-reject '+this.options.rejectButton.classes+'">'+this.options.rejectButton.text+"</a>":void 0],this.options.swap&&e.reverse(),'<div style="background-color: transparent;">\n  <div class="modal">\n    <div class="modal-body form-inline">\n      <div class="text">'+this.options.text+"</div>\n      "+e.join("\n")+"\n    </div>\n  </div>\n</div>"},n}()}).call(this)}}),stitchRequire.define({"lib/ApiHelpers":function(e){(function(){e.ApiHelpers=function(){function e(){}return e.renderApiTags=function(e){return window.Populr&&window.Populr.pop_is_api_template&&(e=this.unrenderApiTags(e),e=e.replace(/(\{\{[^<}]*\}\})/g,function(e,t){return"<code>"+t+"</code>​"})),e},e.unrenderApiTags=function(e){return window.Populr&&window.Populr.pop_is_api_template&&(e=e.replace(/<\/?code>/g,"").replace(/\u200B/g,"")),e},e.containsApiTag=function(e){return/\{\{([^<}]*)\}\}/.test(e)},e}()}).call(this)}}),stitchRequire.define({"templates/asset/base":function(e,t,n){n.exports=function(e){e||(e={});var t,n=[],i=e.safe,r=e.escape;return t=e.safe=function(e){if(e&&e.ecoSafe)return e;("undefined"==typeof e||null==e)&&(e="");var t=new String(e);return t.ecoSafe=!0,t},r||(r=e.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div class="asset-inner '),this.apiRegionName&&n.push(" api-region "),n.push('">\n  '),n.push(this.renderedContent),n.push("\n</div>\n"),this.apiRegionName&&(n.push('\n<div class="api-region-tag-container"><div class="api-region-tag">API Region: '),n.push(this.apiRegionName),n.push("</div></div>\n")),n.push("\n")}).call(this)}.call(e),e.safe=i,e.escape=r,n.join("")}}}),stitchRequire.define({"models/Pop":function(e){(function(){var t,n,i,r,o,s,a,l,u=function(e,t){return function(){return e.apply(t,arguments)}},c={}.hasOwnProperty,d=function(e,t){function n(){this.constructor=e}for(var i in t)c.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},h=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};a=stitchRequire("collections/PopAssetCollection").PopAssetCollection,n=stitchRequire("lib/AssetFactory").AssetFactory,r=stitchRequire("models/NestedAsset").NestedAsset,t=stitchRequire("lib/ApiHelpers").ApiHelpers,"edit"===window.PopulrThemeMode&&(i=stitchRequire("views/util/LoginView").LoginView,o=stitchRequire("views/util/NetworkErrorView").NetworkErrorView,s=stitchRequire("views/util/NotFoundView").NotFoundView),e.Pop=function(e){function r(){return this.sanitizedTitle=u(this.sanitizedTitle,this),this.changeTitle=u(this.changeTitle,this),this.changeName=u(this.changeName,this),this.getNextContentsIdx=u(this.getNextContentsIdx,this),this.getCurrentContentsIdx=u(this.getCurrentContentsIdx,this),this.toJSONWithContents=u(this.toJSONWithContents,this),this.toJSON=u(this.toJSON,this),this.parse=u(this.parse,this),this.locallyApplyPatch=u(this.locallyApplyPatch,this),this.handleUpdateApplyPatches=u(this.handleUpdateApplyPatches,this),this.handleUpdate=u(this.handleUpdate,this),this.autosave=u(this.autosave,this),this._redo=u(this._redo,this),this._undo=u(this._undo,this),this.redo=u(this.redo,this),this.undo=u(this.undo,this),l=r.__super__.constructor.apply(this,arguments)}return d(r,e),r.prototype.urlRoot="/_api/pops?revision=true",r.prototype.idAttribute="_id",r.prototype.saving=!1,r.prototype.autosavesMadeWhileSaving=0,r.prototype.undoStack=[],r.prototype.redoStack=[],r.prototype.remoteJSON=null,r.prototype.refreshInProgress=!1,r.prototype.updateWithRecoveryInfo=!1,r.prototype.remoteDiffQueue=[],r.contentsIdx=-1,r.prototype.defaults={title:"Untitled",name:"Untitled"},r.prototype.initialize=function(){return"undefined"!=typeof jsondiffpatch&&null!==jsondiffpatch&&(jsondiffpatch.config.objectHash=function(e){return e.id}),null==this.get("contents")?this.set({contents:new a},{silent:!0}):void 0},r.prototype.sync=function(e,t,n){return"update"===e.toLowerCase()&&(n=n||{},n.url="/pops/"+t.attributes._id+"/update_revision"),Backbone.sync(e,t,n)},r.prototype.undo=function(){return this.throttledUndo||(this.throttledUndo=_.throttle(this._undo,300)),this.throttledUndo()},r.prototype.redo=function(){return this.throttledRedo||(this.throttledRedo=_.throttle(this._redo,300)),this.throttledRedo()},r.prototype._undo=function(){var e,t,n,i,r;if(t=this.undoStack.pop(),void 0!==t){this.redoStack.push(t),i={};for(n in t)c.call(t,n)&&(e=t[n],-1!==n.indexOf("undo_")&&(i[n.replace("undo_","")]=e),-1===n.indexOf("undo_")&&(i["undo_"+n]=e));return null!=t.contents_diff&&(r=jsondiffpatch.reverse(JSON.parse(t.contents_diff)),i.contents_diff=JSON.stringify(r)),this.locallyApplyPatch(i)}},r.prototype._redo=function(){var e;return e=this.redoStack.pop(),void 0!==e?(this.undoStack.push(e),this.locallyApplyPatch(e)):void 0},r.prototype.autosave=function(e){var t,n,r=this;return null==e&&(e={}),(t=this.get("current_editor").user_id===window.Populr.user_id||null===this.get("current_editor").user_id)?(n=this.toJSON(),delete n.revision_updated_at,"{}"===JSON.stringify(n)?"nothing changed - not saving":(e.ignore_change_stacks!==!0&&(this.redoStack=[]),this.saving===!0?(this.autosavesMadeWhileSaving+=1,"will save after save is complete."):(e.ignore_change_stacks!==!0&&(this.undoStack.push(n),this.undoStack.length>50&&this.undoStack.splice(0,1)),Populr.EventMessenger.trigger("pop:autosave-start",{model:this}),console.log("autosaving"),this.savingJSON=this.toJSONWithContents(),this.autosavesMadeWhileSaving=0,this.saving=!0,this.save(void 0,{wait:!0,silent:!0,success:function(e,t){return Populr.EventMessenger.trigger("pop:autosave",{success:!0,model:e,response:t}),r.saving=!1,r.updateWithRecoveryInfo=!1,r.remoteJSON=$.extend({},r.savingJSON,t),console.log("Save completed. "+r.autosavesMadeWhileSaving+" autosaves during save."),r.autosavesMadeWhileSaving>0?r.autosave({ignore_change_stacks:!0}):void 0},error:function(e,t){switch(r.saving=!1,t.status){case 401:return(new i).show();case 404:return(new s).show();case 0:case 503:return(new o).show();case 409:return r.debugging&&alert("Diff submission failed!"),r.updateWithRecoveryInfo={attempted_diff:n},r.saving=!1,r.autosave();default:return window.location.reload()}}})))):void 0},r.prototype.handleUpdate=function(e){var t,n,i,r,o,s,a,l=this;if(t=null!=e.contents_diff?JSON.parse(e.contents_diff):null,n=null!=t&&t!=={},i=n&&null==(null!=(s=this.remoteJSON)?s.contents:void 0),r=n&&null!=t.invalidate,n)if(r)this.remoteJSON=null;else{if(i)return console.log("Received content-diff but have no content to diff against. Saving for later."),this.remoteDiffQueue.push(e),!1;this.handleUpdateApplyPatches(e)}else this.remoteJSON=e;return(null!=(a=this.remoteJSON)?a.contents:void 0)||this.refreshInProgress||(o=!0,console.log("pop:sync > pop contents are out of sync or not included."),$.ajax({url:"/pops/"+this.id+"?revision=true",success:function(e){var t,n,i,r;for(console.log("pop:sync > pop contents received."),o=!1,Populr.EventMessenger.trigger("pop:sync",e),r=l.remoteDiffQueue,n=0,i=r.length;i>n;n++)t=r[n],Populr.EventMessenger.trigger("pop:sync",t);return l.remoteDiffQueue=[]}})),this.remoteJSON?((this.remoteJSON.contents||n)&&this.get("contents").reset([],{silent:!0}),this.set(this.parse(JSON.parse(JSON.stringify(this.remoteJSON))),{silent:!0,noTransformAttrs:!0}),!0):!1},r.prototype.handleUpdateApplyPatches=function(e){var t,n,i,r;if(console.log("Preparing to apply patches:"),console.log(e.contents_diff),n=jsondiffpatch.patch(this.remoteJSON.contents,JSON.parse(e.contents_diff))){delete e.contents_diff,r=[];for(t in e)i=e[t],void 0!==this.remoteJSON[t]?r.push(this.remoteJSON[t]=i):r.push(void 0);return r}},r.prototype.locallyApplyPatch=function(e){var t,n,i,r;n=this.toJSONWithContents();for(t in e)r=e[t],void 0!==n[t]&&(n[t]=r);if(null!=e.contents_diff){if(i=jsondiffpatch.patch(n.contents,JSON.parse(e.contents_diff)),!i)return alert("Sorry, we weren't able to undo!");delete n.contents_diff}return this.get("contents").reset([],{silent:!0}),this.set(this.parse(n),{silent:!0,noTransformAttrs:!0}),Populr.EventMessenger.trigger("pop:non-user-change"),this.autosave({ignore_change_stacks:!0})},r.prototype.parse=function(e){var t,i,o,s,a=this;return s=r.__super__.parse.call(this,_.clone(e)),t=this.get("contents"),e.contents?(o=_.pluck(e.contents,"id"),i=1e3,_.each(e.contents,function(r){var o,s;return(o=t.get(r.id))?void 0:(r.id=parseInt(r.id,10),o=n.prototype.createModel(r.type,null,{pop:a}),o.set(o.parse(r),{silent:!0,noTransformAttrs:!0}),a.setAssetId(o),o.has("layout."+e.theme_id)||(s={},s["layout."+e.theme_id+".sortOrder"]=++i,o.set(s,{silent:!0})),a.get("contents").add(o,{silent:!0}))}),t.sort({silent:!0}),s.contents=t,this.contentsIdx=_.isEmpty(o)?-1:_.max(o),s):s},r.prototype.toJSON=function(){var e,t,n,i,r,o;if(n=this.toJSONWithContents(),this.updateWithRecoveryInfo)n.recovery_info=this.updateWithRecoveryInfo;else{if(delete n.contents_diff,this.remoteJSON.contents){t=jsondiffpatch.diff(this.remoteJSON.contents,n.contents),n.contents_diff=JSON.stringify(t),r=["revision_updated_at"],o=this.attributes;for(i in o)c.call(o,i)&&(e=o[i],null===n[i]&&void 0===this.remoteJSON[i]&&delete n[i],JSON.stringify(n[i])!==JSON.stringify(this.remoteJSON[i])||h.call(r,i)>=0||delete n[i],void 0===n[i]||n["undo_"+i]||h.call(r,i)>=0||(n["undo_"+i]=this.remoteJSON[i]))}delete n.contents,delete n.undo_contents,delete n.flash_notice}return n},r.prototype.toJSONWithContents=function(e){var t,n,i,r;null==e&&(e={}),n={},r=this.attributes;for(i in r)c.call(r,i)&&(t=r[i],t instanceof Backbone.Collection?(t.sort({silent:!0}),n[i]=this.recursive_sort_keys(t.toJSON())):null===t?n[i]=null:void 0===t?n[i]=void 0:t instanceof Array?n[i]=t:"object"==typeof t?(n[i]={},$.extend(!0,n[i],t)):n[i]=t);return n},r.prototype.recursive_sort_keys=function(e){var t,n,i,r,o,s,a,l,u;if(e){if(e instanceof Array){for(n=[],s=0,l=e.length;l>s;s++)o=e[s],n.push(this.recursive_sort_keys(o));return n}if("object"==typeof e){for(r=_(e).keys().sort(),i={},a=0,u=r.length;u>a;a++)t=r[a],i[t]=this.recursive_sort_keys(e[t]);return i}return e}return e},r.prototype.getCurrentContentsIdx=function(){return this.contentsIdx},r.prototype.getNextContentsIdx=function(){return++this.contentsIdx},r.prototype.changeName=function(e){return""===e&&(e=this.get("title")!==r.prototype.defaults.title&&""!==this.sanitizedTitle(this.get("title"))?this.sanitizedTitle(this.get("title")):r.prototype.defaults.name),this.set({name:e})},r.prototype.changeTitle=function(e){var t,n,i,o;return o=this.sanitizedTitle(this.get("title")),i=this.sanitizedTitle(e),t={title:e},n=new RegExp("^"+_.populr.escapeForRegex(o)+"(\\scopy)*$"),(this.get("name")===r.prototype.defaults.name||this.get("name")===o||n.test(this.get("name")))&&(t.name=i),this.set(t)},r.prototype.sanitizedTitle=function(e){var t,n,i,r,o,s;for(t=$("<div>"),i=t.html(e).text().replace(RegExp(" ","g")," ").replace(RegExp("⁠","g"),"").replace(RegExp("\u2028","g"),""),s=TextToolbar.icons(),r=0,o=s.length;o>r;r++)n=s[r],i=i.replace(RegExp(n,"g"),"");return i.replace(/^\s*/,"").replace(/\s*$/,"").replace(/\s\s+/," ")},r.prototype.setAssetIds=function(e){var t,n,i;for(null==e&&(e=this.get("contents").models),n=0,i=e.length;i>n;n++)t=e[n],this.setAssetId(t)},r.prototype.setAssetId=function(e,t){return null==t&&(t={}),_.isNumber(e.get("id"))?void 0:e.set({id:this.getNextContentsIdx()},{silent:!0})},r.prototype.resetContents=function(e){var t,n,i,r=this;for(this.setAssetIds(e),n=0,i=e.length;i>n;n++)t=e[n],t.view&&t.view.destroy();return this.get("contents").reset(e),_.defer(function(){return _.defer(function(){return r.trigger("change")})})},r.prototype.toTemplateAsset=function(e){var n,i;return null==e&&(e=!0),i=this.toJSONWithContents(),i.contents=[],this.get("contents").each(function(t){return i.contents.push(t.toTemplateAsset(e))}),this.get("show_title")?e?(n=t.renderApiTags(i.title),i.title='<h1 id="pop-title" title="click to edit" data-wysiwygeditor="true" data-field-binding="title">'+n+"</h1>"):i.title='<h1 id="pop-title">'+i.title+"</h1>":i.title=null,i},r.prototype.cloneThemeSortOrder=function(e){var t,n,i,r,o,s,a;for(o=this.get("contents").models,a=[],i=0,r=o.length;r>i;i++)t=o[i],null==(null!=(s=t.attributes.layout[e])?s.sortOrder:void 0)?(n={},n["layout."+e+".sortOrder"]=t.get("sortOrder"),t.set(n,{noTransformAttrs:!0,silent:!0}),a.push(this.set({asset_group_missing_layout:!0},{silent:!0}))):a.push(void 0);return a},r.prototype.getUnifiedLinks=function(){var e,t;return t=_.pluck(this.get("user_default_custom_links")||[],"url"),e=this.get("custom_links")||[],this.get("show_user_default_custom_links")?_.union(t,e):e},r.prototype.getUnifiedLogo=function(){var e,t;return t=this.get("user_default_custom_logo"),e=this.get("custom_logo_asset"),this.get("show_logo")?e?e:t:null},r}(Backbone.Model)}).call(this)}}),stitchRequire.define({"collections/PopAssetCollection":function(e){(function(){var t,n,i={}.hasOwnProperty,r=function(e,t){function n(){this.constructor=e}for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t=stitchRequire("models/BaseAsset").BaseAsset,e.PopAssetCollection=function(e){function i(){return n=i.__super__.constructor.apply(this,arguments)}return r(i,e),i.prototype.model=t,i.prototype.comparator=function(e){return e.get("sortOrder")},i}(Backbone.Collection)}).call(this)}}),stitchRequire.define({"models/NestedAsset":function(e){(function(){var t,n,i,r,o=function(e,t){return function(){return e.apply(t,arguments)}},s={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=stitchRequire("collections/PopAssetCollection").PopAssetCollection,t=stitchRequire("lib/AssetFactory").AssetFactory,n=stitchRequire("models/BaseAsset").BaseAsset,e.NestedAsset=function(e){function s(){return this.getNextContentsIdx=o(this.getNextContentsIdx,this),this.getCurrentContentsIdx=o(this.getCurrentContentsIdx,this),this.parse=o(this.parse,this),r=s.__super__.constructor.apply(this,arguments)}return a(s,e),s.prototype.transformAttributes=!0,s.prototype.contentsIdx=-1,s.prototype.defaults=_.extend({},n.prototype.defaults,{title:"New Group",description:"Add a description here, or hide it by clicking &quot;Show/Hide Description&quot; under the gear icon for this content.",description_visible:!0}),s.prototype.initialize=function(){var e=this;return s.__super__.initialize.apply(this,arguments),null==this.get("contents")&&this.set({contents:new i},{silent:!0}),this.listenTo(this.get("contents"),"add",function(t){return e.addAsset(t),t.get("shim")?void 0:e.trigger("change")}),this.listenTo(this.get("contents"),"destroy",function(){return e.reOrder(),e.trigger("change")}),this.listenTo(this.get("contents"),"change",function(){return e.trigger("change")})},s.prototype.addAsset=function(e){return this.reOrder(),this.setAssetId(e)},s.prototype.set=function(e,t){return null==t&&(t={}),null!=e.description&&null==e.description_visible&&(e.description_visible=0===e.description.length?!1:!0),s.__super__.set.call(this,e,t)},s.prototype.parse=function(e){var n,i,r,o=this;return r=s.__super__.parse.call(this,e),n=this.get("contents"),i=_.pluck(e.contents,"id"),_.each(e.contents,function(e){var i;return(i=n.get(e.id))?void 0:e.type&&e.shim!==!0?(e.id=parseInt(e.id,10),i=t.prototype.createModel(e.type,null,{pop:o}),i.set(i.parse(e),{silent:!0}),o.setAssetId(i),o.get("contents").add(i,{silent:!0}),i.changed={}):(console.warn("Skipping Bad Asset",e),void 0)}),n.sort({silent:!0}),r.contents=n,this.contentsIdx=_.isEmpty(i)?-1:_.max(i),r},s.prototype.reOrder=function(){return _.each(this.get("contents").models,function(e,t){return e.set({sortOrder:t},{silent:!0})})},s.prototype.setAssetId=function(e,t){return null==t&&(t={}),_.isNumber(e.get("id"))?void 0:e.set({id:this.getNextContentsIdx()},{silent:!0})},s.prototype.getCurrentContentsIdx=function(){return this.contentsIdx},s.prototype.getNextContentsIdx=function(){return++this.contentsIdx},s}(n)}).call(this)}}),stitchRequire.define({"models/BaseAsset":function(e){(function(){var t,n,i=function(e,t){return function(){return e.apply(t,arguments)}},r={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t=stitchRequire("TemplateAsset").TemplateAsset,e.BaseAsset=function(e){function s(){return this.sync=i(this.sync,this),n=s.__super__.constructor.apply(this,arguments)}return o(s,e),s.prototype.href="#undefined",s.prototype.transformAttributes=!1,s.prototype._stashedAttributes=null,s.prototype.defaults={title:"New Asset",title_visible:!0},s.prototype.initialize=function(){return this._stashedAttributes={},s.__super__.initialize.apply(this,arguments)},s.prototype.title=function(){return this.get("title")},s.prototype.setTitle=function(e){return this.set({title:e})},s.prototype.description=function(){return Handlebars.helpers.format_file_size(this.get("source_file_size"))},s.prototype.preview=function(){var e,t,n,i;return e=this.get("source_file_name")||"",this.get("shim")?n="shim":(t=e.split("."),n=t.length<2?"none":t.pop()),'<div class="preview"><div class="file-extension file-extension-'+n+'">'+(null!=(i=e.split("."))?i.pop().toUpperCase():void 0)+"</div></div>"},s.prototype.sync=function(e,t,n){return n.success(t.attributes)},s.prototype.stashAttributes=function(e){return this._stashedAttributes[e]={sortOrder:this.get("sortOrder"),size:this.get("size"),region:this.get("region")}},s.prototype.restoreAttributes=function(e){return this._stashedAttributes[e]?(this.set({sortOrder:this._stashedAttributes[e].sortOrder,size:this._stashedAttributes[e].size,region:this._stashedAttributes[e].region},{silent:!0}),this._stashedAttributes[e]=void 0):void 0},s.prototype.hydrateFromLibraryItem=function(e){var t,n,i,o,s;t=e.toJSON(),delete t._id,delete t.group_id,delete t.avatar_id,delete hidden,null!=t.type&&(t.type=t.type.replace("LibraryAsset","")),i={};for(n in t)r.call(t,n)&&(o=t[n],!o&&(null!=(s=this.defaults)?s.hasOwnProperty(n):0)||(i[n]=o));return this.set(i,{silent:!0}),this.changed={},this},s.prototype.get=function(e){var t;return t=s.__super__.get.call(this,this._transformAttr(e))},s.prototype.set=function(e,t){var n,i,o;if(null==t&&(t={}),t.noTransformAttrs===!0)return s.__super__.set.call(this,e,t);i={};for(n in e)r.call(e,n)&&(o=e[n],i[this._transformAttr(n)]=o);null!=i.title&&null==i.title_visible&&(i.title_visible=0===i.title.length?!1:!0);for(n in i)o=i[n],this.get(n)===o&&delete i[n];return s.__super__.set.call(this,i,t)},s.prototype.has=function(e){return s.__super__.has.call(this,this._transformAttr(e))},s.prototype.getTitleOr=function(e,t){var n;return null==t&&(t="Untitled"),n=this.get("title"),_.isEmpty(n)?(n=this.get(e),_.isEmpty(n)?t:n):n},s.prototype.hasLayoutForCurrentTheme=function(){var e;return e=Populr.currentPop.get("theme_id"),this.get("layout."+e)?!0:!1},s.prototype.setNewLayoutFromRegion=function(e){var t,n;return n=Populr.currentPop.get("theme_id"),t={},t["layout."+n]={region:e.options.region.id,size:e.options.region.defaultSize},this.set(t,{silent:!0})},s.prototype._transformAttr=function(e){var t,n;if(!this.transformAttributes)return e;if(!(null!=(n=Populr.currentPop)?n.bootstrapped:void 0))return e;if(t=Populr.currentPop.get("theme_id"))switch(e){case"layout":return"layout."+t;case"size":return"layout."+t+".size";case"region":return"layout."+t+".region";case"sortOrder":return"layout."+t+".sortOrder";case"x":return"layout."+t+".x";case"y":return"layout."+t+".y";case"height":return"layout."+t+".height"}return e},s.prototype.toTemplateAsset=function(e){var n;return null==e&&(e=!0),n=this.toJSON(),n.layout=this.get("layout"),t.prototype.jsonToTemplateAsset(n,e)},s.prototype.toJSON=function(){var e,t,n,i;t={},i=this.attributes;for(n in i)r.call(i,n)&&(e=i[n],e instanceof Backbone.Collection?(e.sort({silent:!0}),t[n]=e.toJSON()):null===e?t[n]=null:void 0===e?t[n]=void 0:e instanceof Array?t[n]=e:"object"==typeof e?(t[n]={},$.extend(!0,t[n],e)):t[n]=e);return t},s}(Backbone.DeepModel)}).call(this)}}),stitchRequire.define({"views/asset/BaseView":function(e){(function(){var t,n,i,r=function(e,t){return function(){return e.apply(t,arguments)}},o={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=stitchRequire("Confirm").Confirm,t=stitchRequire("lib/ApiHelpers").ApiHelpers,n=stitchRequire("Box").Box,e.BaseView=function(e){function i(){if(this.initTemplateJS=r(this.initTemplateJS,this),this.addTitle=r(this.addTitle,this),this.showCropper=r(this.showCropper,this),this.showEditor=r(this.showEditor,this),this.handleSettingsMenuClick=r(this.handleSettingsMenuClick,this),this.removeBox=r(this.removeBox,this),this.handleAssetMouseLeave=r(this.handleAssetMouseLeave,this),this.handleAssetMouseMove=r(this.handleAssetMouseMove,this),this.repositionBox=r(this.repositionBox,this),this.handleAssetMouseEnter=r(this.handleAssetMouseEnter,this),this.hideSettingsMenu=r(this.hideSettingsMenu,this),this.hideOpenButtonGroup=r(this.hideOpenButtonGroup,this),this.hideButtonGroup=r(this.hideButtonGroup,this),this.showButtonGroup=r(this.showButtonGroup,this),this.activateButtonGroup=r(this.activateButtonGroup,this),this.toggleSettingsMenu=r(this.toggleSettingsMenu,this),this.hideTooltip=r(this.hideTooltip,this),this.onDestroy=r(this.onDestroy,this),this.onChange=r(this.onChange,this),this.onAdded=r(this.onAdded,this),this.constructor===this)throw new Error("BaseView is an abstract class");
i.__super__.constructor.apply(this,arguments)}return s(i,e),i.prototype.baseTemplate=stitchRequire("templates/asset/base"),i.prototype.template=void 0,i.prototype.tagName="div",i.prototype.className="asset",i.prototype.autoPostRender=!0,i.prototype._alohaReady=!1,i.prototype.events={},i.prototype.editEvents={},i.prototype._popRendered=!1,i.prototype.humanTitle="Content",i.prototype.initialize=function(){return this.model.on("change",this.onChange,this),this.model.on("added",this.onAdded,this),this.model.on("destroy",this.onDestroy,this),this.initAloha()},i.prototype.destroy=function(){return this.model.off("change",this.onChange),this.model.off("added",this.onAdded),this.model.off("destroy",this.onDestroy),this.hideSettingsMenu(),this.removeBox(),this.destroyAloha(),this.unbindMouseEnterAndLeaveEvents()},i.prototype.subscribeToEventsRelatedToBox=function(){return $(window).on("resize",this.repositionBox),$(Populr.currentPopView.popWindow).on("scroll",this.repositionBox),Populr.EventMessenger.on("hide-click-overlay",this.hideSettingsMenu),Populr.EventMessenger.on("hide-click-overlay",this.repositionBox),Populr.EventMessenger.on("show-click-overlay",this.repositionBox),Populr.EventMessenger.on("text-height-changed",this.repositionBox)},i.prototype.unsubscribeFromEventsRelatedToBox=function(){return $(window).off("resize",this.repositionBox),$(Populr.currentPopView.popWindow).off("scroll",this.repositionBox),Populr.EventMessenger.off("hide-click-overlay",this.hideSettingsMenu),Populr.EventMessenger.off("hide-click-overlay",this.repositionBox),Populr.EventMessenger.off("show-click-overlay",this.repositionBox),Populr.EventMessenger.off("text-height-changed",this.repositionBox)},i.prototype.initAloha=function(){var e=this;return Aloha.ready?Aloha.ready(function(){return e._alohaReady=!0,e.initializeAloha()}):void 0},i.prototype.onAdded=function(){return this.$el.fadeIn(1e3)},i.prototype.onChange=function(){return this.deactivateTemplateJS(),this.render(),this.activateTemplateJS(),Populr.currentPopView.reflowAssetRegion(this.model)},i.prototype.onDestroy=function(){return this.destroy(),Populr.EventMessenger.trigger("asset:rendered",this.model)},i.prototype.editPopoverClass=function(){return!1},i.prototype.render=function(e){var n,i,r;return null==e&&(e=!1),e||this.destroyAloha(),i=this.model.toTemplateAsset(),n=t.renderApiTags(this.renderContent(i,e)),r={asset:i,renderedContent:n},this.model.get("api_region_active")&&(r.apiRegionName=this.model.get("api_region_name")),this.$el[0].className=this.$el[0].className.replace(/\basset-size-.*\b/g,""),this.$el.attr("id","asset-"+this.model.cid),this.$el.addClass("asset-size-"+this.model.get("size")+" asset-type-"+this.model.get("type").toLowerCase()),this.$el.html(this.baseTemplate(r)),this.$el.data("cid",this.model.cid),this.$el.data("view-ref",this),this.autoPostRender?this.postRender(e):this},i.prototype.renderIfNewAPITagPresent=function(){return t.containsApiTag(this.renderContent(this.model.toTemplateAsset(),!1))?this.render():void 0},i.prototype.renderContent=function(e,t){var n;return null==t&&(t=!1),n=this.getCurrentTemplate(),n?n.template(e):"<div>No template available for this asset/size in this region.</div>"},i.prototype.hideTooltip=function(){return Populr.currentPopView.hideTooltips()},i.prototype.toggleSettingsMenu=function(){return $("#edit-asset").is(":visible")?this.hideSettingsMenu():this.showSettingsMenu()},i.prototype.showSettingsMenu=function(){var e,t,n;return this.$settings_menu=$('<div id="edit-asset" class="pplr-vertical-toolbar"></div>'),this.isResizable()&&(n=1,t='<div class="edit-group"><button class="sub-group-toggle"><i class="icon-resize-full"></i></button><div class="sub-group resize tooltip-live" title="Resize" data-placement="left">',t+='  <button><i class="icon-resize-full"></i></button>',t+='  <div class="sub-group">',this.getAvailableSizes().indexOf("s")>=0&&(n++,t+='    <button data-action="resize" data-value="s"><i class="icon-sign-blank small"></i></button>'),this.getAvailableSizes().indexOf("m")>=0&&(n++,t+='    <button data-action="resize" data-value="m"><i class="icon-sign-blank medium"></i></button>'),this.getAvailableSizes().indexOf("l")>=0&&(n++,t+='    <button data-action="resize" data-value="l"><i class="icon-sign-blank large"></i></button>'),t+='    <button class="open-left hover-disabled"><i class="icon-circle-arrow-left"></i></button>',t+="  </div>",t+="</div>",e=$(t),e.find(".sub-group").addClass("sub-group-"+n),this.$settings_menu.append(e),this.activateButtonGroup(e)),t='<button data-action="toggle-title" title="Show/Hide Title" class="tooltip-live" data-placement="left"><i class="icon-font"></i></button>\n<button data-action="toggle-description" title="Show/Hide Description" class="tooltip-live" data-placement="left"><i class="icon-align-justify"></i></button>\n<button data-action="delete" title="Delete" class="tooltip-live" data-placement="left"><i class="icon-trash"></i></button>',this.$settings_menu.append($(t)),this.$settings_menu.hide().appendTo("body"),this.$settings_menu.find("button").on("click",this.handleSettingsMenuClick),Populr.EventMessenger.trigger("show-click-overlay"),this.$settings_menu.fadeIn(85),this.positionSettingsMenu()},i.prototype.activateButtonGroup=function(e){return e.hoverIntent({over:this.showButtonGroup,out:this.hideButtonGroup,timeout:500})},i.prototype.showButtonGroup=function(e){var t;return this.hideOpenButtonGroup(),this.open_button_group=$(e.currentTarget),this.open_button_group.removeClass("open-left open-right"),t=this.open_button_group.find(".sub-group"),t.css("left","auto").css("right","0").css("bottom","0"),this.open_button_group.addClass("open-left"),t.show()},i.prototype.hideButtonGroup=function(e){var t;return(null!=(t=this.open_button_group)?t[0]:void 0)===e.currentTarget?this.hideOpenButtonGroup():void 0},i.prototype.hideOpenButtonGroup=function(){return this.open_button_group?(this.open_button_group.find(".sub-group").hide(),this.open_button_group=null):void 0},i.prototype.positionSettingsMenu=function(){return this.$settings_menu.position({my:"center top+10",at:"center bottom",of:this.settings_button,collision:"fit"})},i.prototype.hideSettingsMenu=function(e){return null==e&&(e=!1),this.hideTooltip(),e?$("#edit-asset").remove():$("#edit-asset").fadeOut(85,function(){return $(this).remove()})},i.prototype.initializeAloha=function(){var e=this;if(this._alohaReady)return this.myEditables=this.$("[data-wysiwygeditor=true]").filter("[data-field-binding]"),this.myEditables.each(function(t,n){return $(n).attr("id",$(n).data("field-binding")+"-"+e.model.cid)}),this.myEditables.aloha()},i.prototype.destroyAloha=function(){if(this._alohaReady)return this.myEditables.each(function(e,t){var n,i;return n=$(t).attr("id"),null!=n?null!=(i=Aloha.getEditableById(n))?i.destroy():void 0:void 0})},i.prototype.postRender=function(e){var t=this;return e?this:(this.initializeAloha(),this.bindMouseEnterAndLeaveEvents(),this.$el.closest(".asset-container").length>0&&Populr.EventMessenger.trigger("asset:rendered",this.model),this.$el.imagesLoaded(function(){return _.defer(function(){return t.repositionBox()})}),this)},i.prototype.prepareForDragging=function(){return this.unbindMouseEnterAndLeaveEvents()},i.prototype.bindMouseEnterAndLeaveEvents=function(){var e=this;return this.unbindMouseEnterAndLeaveEvents(),_.delay(function(){return e.$el.on("mouseenter",e.handleAssetMouseEnter)},250)},i.prototype.unbindMouseEnterAndLeaveEvents=function(){return this.$el.off("mouseenter",this.handleAssetMouseEnter)},i.prototype.getCurrentTemplate=function(){var e;return null!=(null!=(e=Populr.ThemeEngine.getActiveTheme().regions[this.model.get("region")].templates[this.themeIdentifier])?e[this.model.get("size")]:void 0)?Populr.ThemeEngine.getActiveTheme().regions[this.model.get("region")].templates[this.themeIdentifier][this.model.get("size")]:null},i.prototype.getAvailableSizes=function(){return Populr.ThemeEngine.getActiveTheme().regions[this.model.get("region")].sizes},i.prototype.getDefaultHeight=function(){return 235},i.prototype.isResizable=function(){var e;return e=Populr.currentPopView.getRegion(this.model.get("region")).isUserResizable,this.getAvailableSizes().length<=1&&(e=!1),e},i.prototype.handleAssetMouseEnter=function(){var e,t,n,i,r=this;return this.removeBox(),this.box=$('<div class="asset-hover-box">'),this.box.appendTo("body"),this.toolbar=$('<div class="pplr toolbar" />'),n=$('<button class="btn drag tooltip-live" data-placement="bottom" data-original-title="Drag / Rearrange"><i class="icon-move"></i></button>'),n.data("model-ref",this.model),Populr.currentPopView.initializeAssetDraggable(n,this),this.toolbar.append(n),"ImageGroup"===this.model.get("type")&&(t=$('<button class="btn crop tooltip-live" data-placement="bottom" data-original-title="Crop &amp; Focus"><i class="icon-crop"></i></button>'),t.click(function(){return r.showCropper(),_.defer(r.hideTooltip)}),this.toolbar.append(t)),"Text"!==this.model.get("type")&&(i=$('<button class="btn edit tooltip-live" data-placement="bottom" data-original-title="Change Content"><i class="icon-pencil"></i></button>'),i.click(function(){return r.showEditor(),_.defer(r.hideTooltip)}),this.toolbar.append(i)),this.settings_button=$('<button class="btn show-toolbar tooltip-live" data-placement="bottom" data-original-title="Settings"><i class="icon-cog"></i></button>'),this.settings_button.click(function(){return r.toggleSettingsMenu(),_.defer(r.hideTooltip)}),this.toolbar.append(this.settings_button),this.box.append(this.toolbar),this.repositionBox(),e=this.$el.closest(".asset-container"),e.addClass("hover"),this.subscribeToEventsRelatedToBox(),this.$el.closest("body").on("mousemove",this.handleAssetMouseMove)},i.prototype.repositionBox=function(){var e,t,n,i,r,o,s;if(null!=this.box)return Populr.currentPopView.assetBeingDragged?this.hideBox():(e={left:parseFloat(Populr.currentPopView.popBody.css("margin-left"))+parseFloat(Populr.currentPopView.popBody.css("padding-left"))+parseFloat(Populr.currentPopView.popBody.css("border-left-width")),top:parseFloat(Populr.currentPopView.popBody.css("margin-top"))+parseFloat(Populr.currentPopView.popBody.css("padding-top"))+parseFloat(Populr.currentPopView.popBody.css("border-top-width"))},o=Populr.currentPopView.popFrameScrollTop(),r=Populr.currentPopView.popFrameScrollLeft(),t={left:Populr.currentPopView.popFrameOffset.left-r-6+e.left,top:Populr.currentPopView.popFrameOffset.top-o-6+e.top},this.toolbar.css("top",""),this.$el.is(":visible")?(s=this.$el.outerWidth(),i=this.$el.outerHeight(),0===s&&(s=this.$el.closest(".asset-container").outerWidth()),0===i&&(i=this.$el.closest(".asset-container").outerHeight()),this.box.width(s+10).height(i+10).position({my:"left+"+t.left+" top+"+t.top,at:"left top",of:this.$el,within:$("body"),collision:"none"}),n=$("body").scrollTop()+Populr.currentPopView.popFrameOffset.top-this.toolbar.offset().top,n>0?this.toolbar.css("top",""+n+"px"):void 0):this.hideBox())},i.prototype.hideBox=function(){var e;return null!=(e=this.box)?e.offset({top:-1e4,left:-1e4}):void 0},i.prototype.handleAssetMouseMove=function(e){var t,i,r;return i=this.$el.offset(),t=new n({x:i.left,y:i.top,width:this.$el.outerWidth(),height:this.$el.outerHeight()}),r=e.pageX>=t.left()&&e.pageX<=t.right()&&e.pageY>=t.top()&&e.pageY<=t.bottom(),r?void 0:this.handleAssetMouseLeave()},i.prototype.handleAssetMouseLeave=function(){return Populr.currentPopView.assetBeingDragged?this.hideBox():this.removeBox()},i.prototype.removeBox=function(){var e,t;return this.$el.closest("body").off("mousemove",this.handleAssetMouseMove),this.unsubscribeFromEventsRelatedToBox(),this.hideTooltip(),null!=(t=this.box)&&t.remove(),this.box=null,e=this.$el.closest(".asset-container"),e.removeClass("hover")},i.prototype.handleSettingsMenuClick=function(e){var t,n=this;switch(this.hideTooltip(),e.preventDefault(),t=$(e.currentTarget),t.data("action")){case"resize":return this.model.set({size:t.data("value")}),Populr.EventMessenger.trigger("hide-click-overlay");case"delete":return Populr.Confirm.confirm({text:"Are you sure you want to delete this asset?",target:$(e.currentTarget),container:$("body"),confirmButton:{text:"Delete",classes:"btn-danger"},confirmCallback:function(e){return n.model.collection.remove(n.model),e.preventDefault()}})}},i.prototype.showEditor=function(){return this},i.prototype.showCropper=function(){return this},i.prototype.addTitle=function(){this.model.set({title:this.model.defaults.title})},i.prototype.initTemplateJS=function(){},i}(Backbone.View)}).call(this)}}),stitchRequire.define({"lib/AssetFactory":function(e){(function(){e.AssetFactory=function(){function t(){}return t.prototype._classes={models:{BaseAsset:stitchRequire("models/BaseAsset").BaseAsset},views:{BaseView:stitchRequire("views/asset/BaseView").BaseView}},t.prototype.createLibraryAssetModel=function(t,n,i){var r,o;if(null==n&&(n={}),null==i&&(i={}),t+="LibraryAsset",!e.AssetFactory.prototype._classes.models[t]){if(o=stitchRequire("models/library/"+t)[t],!_.isFunction(o))throw new Error("No asset of type "+t);e.AssetFactory.prototype._classes.models[t]=o}return n=_.defaults(n,{type:t}),r=new e.AssetFactory.prototype._classes.models[t](n),i.pop&&(r.pop=i.pop),r},t.prototype.createModel=function(t,n,i){var r,o;if(null==n&&(n={}),null==i&&(i={}),!e.AssetFactory.prototype._classes.models[t]){if(o=stitchRequire("models/"+t)[t],!_.isFunction(o))throw new Error("No asset of type "+t);e.AssetFactory.prototype._classes.models[t]=o}return n=_.defaults(n,{type:t}),r=new e.AssetFactory.prototype._classes.models[t](n),i.pop&&(r.pop=i.pop),r},t.prototype.createViewFromModel=function(t,n){var i,r;if(null==n&&(n={}),n=_.defaults(n,{model:t}),r=t.get("type")+"View",!e.AssetFactory.prototype._classes.views[r]){if(i=stitchRequire("views/asset/"+r)[r],!i)return t.view=new e.AssetFactory.prototype._classes.views.BaseView(n),t.view;e.AssetFactory.prototype._classes.views[r]=i}return t.view=new e.AssetFactory.prototype._classes.views[r](n),t.view},t}()}).call(this)}}),function(){var e,t={}.hasOwnProperty;window.Handlebars||(window.Handlebars=Handlebars),window.Handlebars.registerHelper("resize",function(t,n){var i,r,o;return null==n&&(n={}),null==n.hash&&(n.hash={}),i=this.center||{x:.5,y:.5},i.x||(i.x=.5),i.y||(i.y=.5),r=""+i.x+"-"+i.y,o=_.defaults(n.hash,{width:0,height:0}),e(t,o.width,o.height,r)}),window.Handlebars.registerHelper("with_index",function(e,t,n){return t&&t[e]?n.fn(t[e]):n.inverse(t)}),window.Handlebars.registerHelper("if_many",function(e,t){var n,i,r;return i=Object.prototype.toString,n="[object Function]",r=i.call(e),r===n&&(e=e.call(this)),!e||e.length<2?t.inverse(this):t.fn(this)}),window.Handlebars.registerHelper("log",function(){return"publish"!==window.PopulrThemeMode&&console.log(this),""}),window.Handlebars.registerHelper("format_file_size",function(e,t){var n,i,r,o,s;if(null==t&&(t={}),n=parseInt(e,10),r=null!=(s=t.hash)?s.precision:void 0,isNaN(n)||0===n||!isFinite(n))return"";for(o=["Bytes","KB","MB","GB","TB"],i=0;n>=1024;)i++,n/=1024;return(isNaN(parseFloat(r))||!isFinite(r))&&(r=i>=2?2:0),n.toFixed(r)+" "+o[i]}),window.Populr.ThemeEngine.regions||(window.Populr.ThemeEngine.regions=[]),Handlebars.registerHelper("title_block",function(e){return window.Populr.ThemeEngine._calculatingPopStructure?void 0:'<div id="pop-title">'+e.fn(this)+"</div>"}),Handlebars.registerHelper("region",function(e,t){var n,i,r,o;return window.Populr.ThemeEngine._calculatingPopStructure?("theme"===window.PopulrThemeMode&&null!=window.Populr.dummyPop&&null!=t.hash.dummy_content&&window.Populr.dummyPop.addRegion(e,t.hash.dummy_content),void 0):(window.Populr.ThemeEngine._updatingPopLevelTemplates||window.Populr.ThemeEngine.regions.push({type:e,options:t.hash,templates:{}}),"packer"===e?(i=' data-gutter-width="'+t.hash.gutter_width+'"',n=t.hash.disable_packer?' data-disable-packer-mq="'+t.hash.disable_packer+'"':"",o=function(e){return window.Populr.themerWarned?void 0:(window.Populr.themerWarned=!0,alert(e))},t.hash.column_width||o("column_width must be defined on packer regions"),t.hash.columns||o("columns must be defined on packer regions")):(i="",n=""),r='<section class="region '+e+'-region" id="'+t.hash.id+'" data-region-type="'+e+'" data-region-id="'+window.Populr.ThemeEngine._regionCounter+'"'+i+n+">"+_.string.trim(t.fn())+"</section>",window.Populr.ThemeEngine._regionCounter++,r)}),window.Handlebars.registerHelper("asset",function(e,t){var n;if(!window.Populr.ThemeEngine._calculatingPopStructure)return n=window.Populr.ThemeEngine.regions[window.Populr.ThemeEngine.regions.length-1].templates[e],n||(window.Populr.ThemeEngine.regions[window.Populr.ThemeEngine.regions.length-1].templates[e]={},n=window.Populr.ThemeEngine.regions[window.Populr.ThemeEngine.regions.length-1].templates[e]),n[t.hash.size]=t.fn,""}),window.Handlebars.registerHelper("cssify",function(e){return new Handlebars.SafeString(e.replace(/<.*?>/g,"").replace(/[^A-Za-z0-9]/g,function(e){var t;return t=e.charCodeAt(0),32===t?"-":t>=65&&90>=t?"_"+e.toLowerCase():"__"+("000"+t.toString(16)).slice(-4)}).toLowerCase())}),window.Handlebars.registerHelper("strip_html",function(e){return new Handlebars.SafeString(e.replace(/<.*?>/g,""))}),window.Handlebars.registerHelper("base_path",function(){return window.Populr.ThemeEngine.themeMetaData.base_path}),window.Handlebars.registerHelper("if_equal",function(e,t,n){return _.isEqual(e,t)?n.fn(this):n.inverse(this)}),window.Handlebars.registerHelper("if_or",function(e,t,n){return e||t?n.fn(this):n.inverse(this)}),window.Handlebars.registerHelper("if_and",function(e,t,n){return e&&t?n.fn(this):n.inverse(this)}),window.Handlebars.registerHelper("each_properties",function(e,n){var i,r;r="";for(i in e)t.call(e,i)&&(r+=n.fn({key:i,value:e[i]}));return r}),window.Handlebars.registerHelper("sharing",function(e){var t,n,i,r,o;if(!this.sharing)return new Handlebars.SafeString("\n");if("function"==typeof e){for(n=[],o=this.links,i=0,r=o.length;r>i;i++)t=o[i],n.push({url:t});return e.call(this)}return new Handlebars.SafeString('<div id="pop-sharing" class="addthis_toolbox addthis_default_style">\n  <a class="channel addthis_button_tweet"></a>\n  <a class="channel addthis_button_facebook_like"></a>\n  <a class="channel addthis_button_google_plusone"  g:plusone:size="medium"></a>\n  <a class="channel addthis_counter addthis_pill_style"></a>\n</div>')}),window.Handlebars.registerHelper("logo",function(t){var n,i,r,o,s,a,l,u;return this.logo?(o=t.hash||{},u=o.width||0,n=o.height||0,u?n=0:n?u=0:(r=o.max_width||175,this.logo.width&&(r=Math.min(r,this.logo.width)),i=o.max_height||175,this.logo.height&&(i=Math.min(i,this.logo.height)),this.logo.height?(s=this.logo.width/this.logo.height,s*i>r?(u=r,n=u/s):(n=i,u=n*s)):(u=o.max_width,n=0)),u=Math.round(u),n=Math.round(n),u&&n?(a='style="width:'+u+"px !important; height:"+n+'px !important;"',n=0):u?(a='style="width:'+u+'px !important;"',n=0):n?(a='style="height:'+n+'px !important;"',u=0):a="",l=e(this.logo.original_url,u,n),new Handlebars.SafeString('<div id="pop-logo" '+a+'><img class="populr-mobile-noresize" src="'+l+'"/></div>')):new Handlebars.SafeString("\n")}),window.Handlebars.registerHelper("inline_logo_title",function(){return new Handlebars.SafeString('<div id="inline-logo-title">\n  <div id="inner-inline-logo-title">\n    '+window.Handlebars.helpers.logo.apply(this,arguments).toString()+"\n    "+(this.title||"")+"\n  </div>\n</div>")}),window.Handlebars.registerHelper("pop_links",function(e){var t,n,i,r,o,s,a,l,u;if("function"==typeof e){for(i=[],l=this.links,r=0,s=l.length;s>r;r++)n=l[r],i.push({url:n});return e.call(this,{links:i})}for(t="",u=this.links,o=0,a=u.length;a>o;o++)n=u[o],t+='<li><a href="'+n+'" title="'+n+'" target="_blank">'+window.Handlebars.helpers.web_icon(n)+"</a></li>";return""===t?new Handlebars.SafeString(""):new Handlebars.SafeString('<ul id="pop-links">\n  '+t+"\n</ul>")}),window.Handlebars.registerHelper("favicon",function(e,t){var n;return null==t&&(t={}),n="https://d78gdoipzblqe.cloudfront.net/0/0/0.5-0.5/http://images.populr.me/default_link_icon.png",window.Populr.favicon_url+"/"+encodeURIComponent(e)+"?defaulticon="+encodeURIComponent(n)}),window.Handlebars.registerHelper("web_icon",function(e,t){var n,i,r,o,s,a,l,u;if(null==t&&(t={}),s={"app.net":"adn","bible.us":"youversion","drbl.in":"dribbble","db.tt":"dropbox","fb.me":"facebook","flic.kr":"flickr","4sq.com":"foursquare","instagr.am":"instagram","last.fm":"lastfm","lnkd.in":"linkedin","play.google.com":"googleplay","plus.google.com":"googleplus","pocket.co":"pocket","qr.ae":"quora","snd.sc":"soundcloud","su.pr":"stumbleupon","t.co":"twitter","tent.is":"tent","youtu.be":"youtube"},o={"500px":"f500px",aboutme:"aboutme",behance:"behance",bitbucket:"bitbucket",blogger:"blogger",coderwall:"coderwall",creativecloud:"creativecloud",dribbble:"dribbble",dropbox:"dropbox",evernote:"evernote",facebook:"facebook",flickr:"flickr",foursquare:"foursquare",github:"github",goodreads:"goodreads",html5:"html5",icloud:"icloud",instagram:"instagram",lastfm:"lastfm",linkedin:"linkedin",mail:"mail",mixi:"mixi",msn:"msn",picasa:"picasa",pinterest:"pinterest",pocket:"pocket",quora:"quora",orkut:"orkut",mercurial:"mercurial",rdio:"rdio",renren:"renren",rss:"rss",skitch:"skitch",skype:"skype",soundcloud:"soundcloud",spotify:"spotify",stackoverflow:"stackoverflow",stumbleupon:"stumbleupon",tent:"tent",tripadvisor:"tripadvisor",tumblr:"tumblr",twitter:"twitter",vimeo:"vimeo",weibo:"weibo",windows:"windows",wordpress:"wordpress",xing:"xing",yelp:"yelp",youtube:"youtube",youversion:"youversion",zerply:"zerply"},i=_.populr.parseUri(e),null!=s[i.host])r=s[i.host];else for(u=i.host.split(".").slice(0,-1),a=0,l=u.length;l>a;a++)n=u[a],null!=o[n]&&(r=o[n]);return r?new Handlebars.SafeString('<div class="populr-webicon '+r+'"></div>'):new Handlebars.SafeString('<div class="populr-webicon unknown-service" style="background-image: url(\''+window.Handlebars.helpers.favicon(e)+"')\"></div>")}),e=function(e,t,n,i){return null==i&&(i=null),e=e&&e.indexOf("http:")>-1?"http:"+e.split("http:")[1]:e?"assets/"+e.split("assets/")[1]:"http://images.populr.me/dummy.png",i?"//d78gdoipzblqe.cloudfront.net/"+t+"/"+n+"/"+i+"/"+e:"//d78gdoipzblqe.cloudfront.net/"+t+"/"+n+"/"+e}}.call(this),function(){var e,t={}.hasOwnProperty;window.Handlebars||(window.Handlebars=Handlebars),e=window.Handlebars.compile('  {{#if_many contents}}\n  <div style="width: {{settings.width}}px;" class="slideshow {{#if settings.is_edit_mode}}edit-mode{{/if}} {{#if settings.fancybox_enabled}}fancybox-enabled{{/if}}"{{#each_properties cycleOptions}} data-cycle-{{key}}="{{value}}"{{/each_properties}} data-cycle-auto-init="false" data-prevnext-enabled="{{settings.prevnext_enabled}}" data-pager-enabled="{{settings.pager_enabled}}" data-enabled="{{settings.enabled}}" data-fancybox-enabled="{{settings.fancybox_enabled}}" data-crop-single="{{settings.crop_single}}">\n    {{#contents}}\n      {{#if link}}\n        <div class="linked slide">\n          <a href="{{link}}" target="_blank">\n            <img {{{../../settings.dimension_attrs}}} src="{{{resize original_url width=../../settings.width height=../../settings.height center=center}}}" alt="{{title}}" />\n          </a>\n        </div>\n      {{else}}\n        {{#if ../../settings.fancybox_enabled}}\n          <div class="slide">\n            <a href="{{original_url}}" class="fancybox">\n              <img {{{../../../settings.dimension_attrs}}} src="{{{resize original_url width=../../../settings.width height=../../../settings.height center=center}}}" alt="{{title}}" data-fancybox-href="{{{original_url}}}" />\n            </a>\n          </div>\n        {{else}}\n          <div class="slide">\n            <img {{{../../../settings.dimension_attrs}}} src="{{{resize original_url width=../../../settings.width height=../../../settings.height center=center}}}" alt="{{title}}" />\n          </div>\n        {{/if}}\n      {{/if}}\n    {{/contents}}\n  {{else}}\n  <div class="slideshow {{#if settings.is_edit_mode}}edit-mode{{/if}} {{#if settings.fancybox_enabled}}fancybox-enabled{{/if}}"{{#each_properties cycleOptions}} data-cycle-{{key}}="{{value}}"{{/each_properties}} data-cycle-auto-init="false" data-prevnext-enabled="{{settings.prevnext_enabled}}" data-pager-enabled="{{settings.pager_enabled}}" data-enabled="{{settings.enabled}}" data-fancybox-enabled="{{settings.fancybox_enabled}}" data-crop-single="{{settings.crop_single}}">\n    {{#contents}}\n      {{#if link}}\n        {{#if ../../settings.crop_single}}\n          <div class="linked slide">\n            <a href="{{link}}" target="_blank">\n              <img src="{{{resize original_url width=../../../settings.width height=../../../settings.height}}}" alt="{{title}}" {{{../../../settings.dimension_attrs}}} />\n            </a>\n          </div>\n        {{else}}\n          <div class="linked slide">\n            <a href="{{link}}" target="_blank">\n              <img src="{{{resize original_url width=../../../settings.width height=../../../settings.height}}}" alt="{{title}}" {{{../../../settings.dimension_attrs}}} />\n            </a>\n          </div>\n        {{/if}}\n      {{else}}\n        {{#if ../../settings.crop_single}}\n          {{#if ../../../settings.fancybox_enabled}}\n            <div class="slide">\n              <a href="{{original_url}}" class="fancybox">\n                <img src="{{{resize original_url width=../../../../settings.width height=../../../../settings.height}}}" alt="{{title}}" {{{../../../../settings.dimension_attrs}}} data-fancybox-href="{{{original_url}}}" />\n              </a>\n            </div>\n          {{else}}\n            <div class="slide">\n              <img src="{{{resize original_url width=../../../../settings.width height=../../../../settings.height}}}" alt="{{title}}" {{{../../../../settings.dimension_attrs}}} />\n            </div>\n          {{/if}}\n        {{else}}\n          {{#if ../../../settings.fancybox_enabled}}\n            <div class="slide">\n              <a href="{{original_url}}" class="fancybox">\n                <img src="{{{resize original_url width=../../../../settings.width height=../../../../settings.height}}}" alt="{{title}}" {{{../../../../settings.dimension_attrs}}} data-fancybox-href="{{{original_url}}}" />\n              </a>\n            </div>\n          {{else}}\n            <div class="slide">\n              <img src="{{{resize original_url width=../../../../settings.width height=../../../../settings.height}}}" alt="{{title}}" {{{../../../../settings.dimension_attrs}}} />\n            </div>\n          {{/if}}\n        {{/if}}\n      {{/if}}\n    {{/contents}}\n  {{/if_many}}\n</div>'),window.Handlebars.registerHelper("imageslider",function(n,i){var r,o,s,a,l,u,c,d,h,p,f,g;d={},g=i.hash;for(s in g)t.call(g,s)&&(f=g[s],s=s.replace(/-/g,"_"),d[s]=_.populr.stringToType(f));"[object Function]"===Object.prototype.toString.call(n)&&(n=n.call(this)),c=i.fn instanceof Function?i.fn:e,l={width:480,height:0,cropping_enabled:!0,prevnext_enabled:!0,pager_enabled:!1,fancybox_enabled:!0,crop_single:!1,is_edit_mode:"edit"===window.PopulrThemeMode,enabled:!0},r={log:!1,slides:"> .slide","pause-on-hover":!0},a=_.defaults(_.pick(d,_.keys(l)),l),a.fancybox_enabled=a.fancybox_enabled&&this.lightbox_enabled,a.height=Math.round(a.height),a.width=Math.round(a.width),u=[],a.cropping_enabled||u.push('data-cropping-disabled="true"'),this.display_height?(a.height=Math.round(this.display_height),a.dimension_attrs='width="'+a.width+'" height="'+a.height+'"'):1!==n.length||a.crop_single?a.dimension_attrs='width="'+a.width+'" height="'+a.height+'"':(a.height=0,a.dimension_attrs='width="'+a.width+'"'),r["auto-height"]=""+a.width+":"+a.height,o=_.defaults(_.omit(d,_.keys(l)),r),n.length<=1&&(a.enabled=!1,a.prevnext_enabled=!1,a.pager_enabled=!1);for(s in o)t.call(o,s)&&(p=o[s],o[s]=p.toString());return h=_.uniqueId("populr-image-slider-"),new Handlebars.SafeString('<div class="populr-image-slider '+h+'" '+u.join(" ")+">\n  "+c({settings:a,cycleOptions:o,contents:n})+"\n</div>")}),window.Handlebars.registerHelper("videoplayer",function(){return""})}.call(this),stitchRequire.define({"views/region/BaseRegionView":function(e){(function(){var t,n,i,r=function(e,t){return function(){return e.apply(t,arguments)}},o={}.hasOwnProperty,s=function(e,t){function n(){this.constructor=e}for(var i in t)o.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t=stitchRequire("lib/AssetFactory").AssetFactory,n=stitchRequire("Box").Box,e.BaseRegionView=function(e){function o(){return this.handleAddAssetClick=r(this.handleAddAssetClick,this),this.debouncedRepositionAddButtons=r(this.debouncedRepositionAddButtons,this),i=o.__super__.constructor.apply(this,arguments)}var a,l,u;return s(o,e),o.prototype.buttonProximity=150,o.prototype.buttonProximityStartOpacity=0,l=!1,a=!1,o.prototype.initialize=function(){return this.popView=this.options.popView,this.addButtonsContainer=null,Populr.EventMessenger.on("asset:created",this.addNewAsset),this.reset()},o.prototype.render=function(){return this.initializeAssets(),"edit"===window.PopulrThemeMode?this.renderAddButtons():void 0},o.prototype.initializeAssets=function(){var e;return(null!=(e=this.popView)?e.initialized:void 0)?(_(this.assetViews).invoke("activateTemplateJS"),_(this.assetViews).invoke("initAloha"),_(this.assetViews).invoke("delegateEvents")):void 0},o.prototype.reflow=function(){},o.prototype.setAssetSize=function(e,t){return e.set({size:t},{silent:!0})},o.prototype.reset=function(){return this.assets=[],this.assetViews={}},o.prototype.addAsset=function(e,t){return null==t&&(t={}),null!=t.at?this.assets.splice(t.at,0,e):this.assets.push(e),e.set({region:this.options.region.id},{silent:!0})},o.prototype.setAssetView=function(e){var n;if("publish"!==window.PopulrThemeMode)return n=t.prototype.createViewFromModel(e),this.assetViews[e.cid]=n,n},o.prototype.domElementFromAssetId=function(e){return this.$("#asset-"+e.cid)},o.prototype.assetView=function(e){var t;return(t=this.assetViews[e.cid])?t:this.setAssetView(e)},o.prototype.assetViewJQuery=function(e){var t,n;return n=this.assetView(e),t=n.render(this.dragging).$el,t.data("model-ref",e),t.data("view-ref",n),t},o.prototype.createRestorePoint=function(){var e,t,n,i,r;for(this.restorePoint=_(this.assets).clone(),i=this.assets,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.stashAttributes("restorePoint"));return r},o.prototype.restorePreDraggingState=function(){var e,t,n,i,r;for(this.assets=this.restorePoint,this.restorePoint=null,i=this.assets,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.restoreAttributes("restorePoint"));return r},o.prototype.removeAsset=function(e){return this.assets=_(this.assets).without(e)},o.prototype.createHelper=function(e){var t,n,i,r,o,s;return t=$(e.currentTarget).data("model-ref"),n={documentgroup:"icon-file-alt",imagegroup:"icon-picture",text:"icon-font","embedgroup.embed":"icon-code","embedgroup.video":"icon-film"},i=t.get("type").toLowerCase(),s="function"==typeof t.displayType?t.displayType():void 0,s&&s.length&&(i+="."+s),o=$('<i class="large" />').addClass(n[i]),r=$('<div class="add-asset-helper" />'),r.append(o),r},o.prototype.wrapAsset=function(e){return $('<div class="asset-container"></div>').append(e)},o.prototype.startDrag=function(e){this.createRestorePoint(),this.removeAsset(e),this.dragging=!0,this.render()},o.prototype.stopDrag=function(){return this.popView.dropFailed()?this.restorePreDraggingState():this.render()},o.prototype.activateDropZones=function(){return this.dragging=!0},o.prototype.deactivateDropZones=function(){return this.dragging=!1},o.prototype.disableAssetPostRenderCallbacks=function(){var e,t,n,i,r;for(i=this.assets,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.autoPostRender=!1);return r},o.prototype.enableAssetPostRenderCallbacks=function(){var e,t,n,i,r;for(i=this.assets,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(e.autoPostRender=!0);return r},o.prototype.createAddButton=function(e){var t,n,i;return null==e&&(e={}),t=document.createElement("button"),t.className="add-asset "+(e["class"]||""),i=document.createElement("div"),i.className="inner-add-asset",t.appendChild(i),n=document.createElement("i"),n.className="icon-plus tooltip-live",n.setAttribute("data-placement","bottom"),n.setAttribute("data-original-title","Click to Add Content"),t.appendChild(n),t},o.prototype.debouncedRenderAddButtons=function(){return this.popView.currentUserIsPopEditor()?(this._debouncedRenderAddButtons||(this._debouncedRenderAddButtons=_.debounce(this.renderAddButtons,100)),this._debouncedRenderAddButtons()):void 0},o.prototype.renderAddButtons=function(){var e=this;
return this.popView.currentUserIsPopEditor()?(this.addButtonsContainer&&(this.addButtonsContainer.off("click",".add-asset",this.handleAddAssetClick),this.addButtonsContainer.remove()),this.addButtonsContainer=$(document.createElement("div")),this.addButtonsContainer.appendTo(this.popView.$el).css({width:0,height:0,overflow:"visible",zIndex:9999999}).addClass("pplr"),Populr.EventMessenger.on("show-click-overlay",function(t){return"new-asset-view"!==t?e.addButtonsContainer.find(".add-asset").removeClass("mouse-near"):void 0})):!1},"edit"===window.PopulrThemeMode&&(u=$.fn.tooltip.Constructor.prototype.show,$.fn.tooltip.Constructor.prototype.show=function(){return $("body > .tooltip").remove(),u.call(this),this.options.callback?this.options.callback($(".tooltip")):void 0}),o.prototype.debouncedRepositionAddButtons=function(){return this._debouncedRepositionAddButtons||(this._debouncedRepositionAddButtons=_.debounce(this.repositionAddButtons,100)),this._debouncedRepositionAddButtons()},o.prototype.repositionAddButtons=function(){return this.addButtonsContainer.find(".add-asset .tooltip-live").tooltip({callback:function(e){var t,n;return t=Populr.currentPopView.popFrameScrollTop(),n=e.offset().top-t+Populr.currentPopView.popFrameOffset.top,e.offset({top:n})}}),this.popView.regionAddButtonsPlaced()},o.prototype.calculateCursorAddButtonProximity=function(e,t){var i,r,o;this.dragging||this.addButtonsContainer&&(Modernizr.ios||Modernizr.android?this.addButtonsContainer.find(".add-asset").addClass("mouse-near"):1===this.addButtonsContainer.find(".add-asset").length?this.addButtonsContainer.find(".add-asset").addClass("mouse-near"):(i=250,r=50,o=new n({x:e-i,y:t-r,width:2*i,height:2*r}),this.addButtonsContainer.find(".add-asset").each(function(e,t){var i,r;return i=$(t),r=new n({x:i.offset().left,y:i.offset().top,width:i.outerWidth(),height:i.outerHeight()}),o.intersects(r)?i.addClass("mouse-near"):i.removeClass("mouse-near")})))},o.prototype.handleAddAssetClick=function(e){var t;return this.popView.hideTooltips(),t=$(e.currentTarget),Populr.EventMessenger.trigger("asset:request-creation",this,t)},o}(Backbone.View)}).call(this)}}),stitchRequire.define({"views/region/ColumnizerRegionView":function(e){(function(){var t,n,i=function(e,t){return function(){return e.apply(t,arguments)}},r={}.hasOwnProperty,o=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t=stitchRequire("views/region/BaseRegionView").BaseRegionView,e.ColumnizerRegionView=function(e){function t(){return this.repositionAddButtons=i(this.repositionAddButtons,this),this.insertDraggedAsset=i(this.insertDraggedAsset,this),this.addNewAsset=i(this.addNewAsset,this),this.setTargetsBasedOnAddButton=i(this.setTargetsBasedOnAddButton,this),this.handleAddAssetClick=i(this.handleAddAssetClick,this),n=t.__super__.constructor.apply(this,arguments)}return o(t,e),t.prototype.addContentsClassToRow=function(e){return e.addClass("columnizer-row-contents-"+_.map(e.find(".asset"),function(e){return $(e).attr("class").match(/asset-type-([^ ]+)/)[1]}).join("-"))},t.prototype.assetFitsInRow=function(e,t){var n,i,r,o,s;if(0===e.length)return!0;for(i=function(e){return Math.round(100*e)/100},n=function(e){return 1/parseInt(e.get("size"))},r=n(t),o=0,s=e.length;s>o;o++)t=e[o],r+=n(t);return i(r)<=1},t.prototype.initialize=function(){return this.target_row=null,this.target_row_is_new=!1,this.target_row_idx=null,this.target_sort_idx=null,this.rows=[],this.repositionAddButtons(),t.__super__.initialize.apply(this,arguments)},t.prototype.addAsset=function(e,n){var i,r,o,s,a,l,u,c;if(null==n&&(n={}),!n.restoring){if(this.addedAsset=e,a=this.buildRows(this.assets),o=a.slice(0,n.row),r=_(o).flatten().length,n.newRow||null==a[n.row])s=[],e.set({size:"1"},{silent:!0}),n.at=r;else if(null!=n.col)for(n.at=r+n.col,s=a[n.row],this.modifiedAssets=_(s).clone(),s.length===this.options.maxCols&&(this.bumpedAsset=s.pop(),this.bumpedAsset.set({size:"1"},{silent:!0})),s.splice(n.col,0,e),l=String(s.length),u=0,c=s.length;c>u;u++)i=s[u],i.set({size:l},{silent:!0});this.newRowContents=s}return t.__super__.addAsset.call(this,e,n)},t.prototype.removeAsset=function(e){var n,i,r,o,s,a;for(this.removedAsset=e,r=this.buildRows(this.assets),i=_(r).find(function(t){return _(t).include(e)}),i=_(i).without(e),this.modifiedAssets=_(i).clone(),o=i.length,s=0,a=i.length;a>s;s++)n=i[s],n.set({size:String(o)},{silent:!0}),this.assetView(n).render(this.dragging);return t.__super__.removeAsset.call(this,e)},t.prototype.insertAssetInRow=function(e,t,n){var i,r,o,s;if(null==n&&(n=-1),e.length===this.options.maxCols)return!1;for(-1===n&&(n=e.length),i=e.length>0?parseInt(e[0].get("size"),10)+1:1,e.splice(n,0,t),o=0,s=e.length;s>o;o++)r=e[o],r.set({size:i.toString()},{silent:!0});return e},t.prototype.buildRows=function(e){var t,n;for(e=_(e).clone(),n=[];e.length;)for(t=[],n.push(t);this.addToRow(t,e););return n},t.prototype.addToRow=function(e,t){var n;return t.length?(n=t.shift(),this.assetFitsInRow(e,n)?(e.push(n),!0):(t.unshift(n),!1)):!1},t.prototype.assetFitsInRow=function(e,t){var n,i,r,o,s;if(0===e.length)return!0;for(i=function(e){return Math.round(100*e)/100},n=function(e){return 1/parseInt(e.get("size"))},r=n(t),o=0,s=e.length;s>o;o++)t=e[o],r+=n(t);return i(r)<=1},t.prototype.render=function(){var e,n,i,r,o,s;for(this.$el.children(".columnizer-row").remove(),this.rows=this.buildRows(this.assets),0===this.rows.length&&this.rows.push([]),s=this.rows,n=r=0,o=s.length;o>r;n=++r)i=s[n],e=this.renderRow(i),this.$el.append(e),this.addContentsClassToRow(e);return t.__super__.render.apply(this,arguments)},t.prototype.renderRow=function(e){var t,n,i,r,o,s;for(i=$('<div class="columnizer-row"><div class="columnizer-row-inner"></div></div>'),r=i.find(".columnizer-row-inner"),o=0,s=e.length;s>o;o++)t=e[o],"edit"===window.PopulrThemeMode&&this.assetView(t).render(),n=this.wrapAsset(this.assetViewJQuery(t)),n.addClass("columnizer-col"+t.get("size")).appendTo(r);return r.children(".columnizer-col").first().addClass("first"),i.addClass("columnizer-cols"+e.length),i},t.prototype.wrapAsset=function(e){return $('<div class="asset-container columnizer-col" />').append(e)},t.prototype.handleAddAssetClick=function(e){var n;return t.__super__.handleAddAssetClick.call(this,e),n=$(e.currentTarget),this.setTargetsBasedOnAddButton(n)},t.prototype.setTargetsBasedOnAddButton=function(e){var t,n;return t=e.data("row"),n=e.data("position"),"top"===n?(this.target_row=this.rows[Math.max(t.index()-1,0)],this.target_row_is_new=!0,this.target_row_idx="before",this.target_sort_idx=t.prevAll(".columnizer-row").find(".asset").length):"bottom"===n?(this.target_row=this.rows[t.index()],this.target_row_is_new=!0,this.target_row_idx="after",this.target_sort_idx=t.prevAll(".columnizer-row").andSelf().find(".asset").length):(this.target_row=this.rows[t.index()],this.target_row_is_new=!1,this.target_row_idx=n,this.target_sort_idx=t.prevAll(".columnizer-row").find(".asset").length+this.target_row_idx)},t.prototype.addNewAsset=function(e,t){var n;if(t!==this||null==this.target_row||null==this.target_row_idx||null==this.target_sort_idx)return!1;if(this.addAsset(e,{at:this.target_sort_idx,restoring:!0}),e.view=this.assetView(e),this.target_row_is_new){if(n=[],"before"===this.target_row_idx)this.rows.splice(_.indexOf(this.rows,this.target_row),0,n);else{if("after"!==this.target_row_idx)throw new Error('target_row_idx must be "before" or "after" if target_row_is_new == true');this.rows.splice(_.indexOf(this.rows,this.target_row)+1,0,n)}this.target_row=n}return this.insertAssetInRow(this.target_row,e)},t.prototype.insertDraggedAsset=function(e,t){var n;return n=t.data("region"),n!==this?!1:(this.setTargetsBasedOnAddButton(t),this.addNewAsset(e,n))},t.prototype.renderAddButtons=function(){var e=this;return t.__super__.renderAddButtons.apply(this,arguments)===!1?!1:(this.$(".columnizer-row").each(function(t,n){var i,r,o,s,a;if(r=$(n),i=r.find(".columnizer-col"),$(e.createAddButton()).data("region",e).data("row",r).data("position","bottom").data("num-cols",i.length).appendTo(e.addButtonsContainer),0===t&&i.length>0&&$(e.createAddButton()).data("region",e).data("row",r).data("position","top").data("num-cols",i.length).appendTo(e.addButtonsContainer),i.length!==e.options.maxCols&&0!==i.length){for(a=[],t=o=0,s=i.length;s>=0?s>=o:o>=s;t=s>=0?++o:--o)a.push($(e.createAddButton()).data("region",e).data("row",r).data("position",t).data("num-cols",i.length).appendTo(e.addButtonsContainer));return a}}),this.addButtonsContainer.on("click",".add-asset",this.handleAddAssetClick),this.repositionAddButtons())},t.prototype.repositionAddButtons=function(){var e;if(this.addButtonsContainer&&this.addButtonsContainer.parent().length)return e=0,this.addButtonsContainer.find(".add-asset").each(function(){var t,n,i,r,o,s,a,l,u,c;switch(e=0,t=$(this),n=t.data("position"),s=t.data("num-cols"),r=t.data("row").find(".columnizer-row-inner"),n){case"bottom":case"top":t.addClass("h-add-button"),t.removeClass("v-add-button"),c=r.width(),t.width(c),t.find(".inner-add-asset").width(c);break;default:t.removeClass("h-add-button"),t.addClass("v-add-button"),i=r.height(),n>0&&s>n?i-=28:0===n?t.find(".tooltip-live").data("placement","right"):t.find(".tooltip-live").data("placement","left"),t.height(i),t.find(".inner-add-asset").height(i)}return"bottom"===n?(o=t.data("row").next(".columnizer-row").find(".columnizer-row-inner"),e=0,o.length&&(l=r.offset().top+r.outerHeight(),u=o.offset().top,e=Math.round((u-l)/2)),t.position({my:"center top",at:"center bottom+"+e,of:r,collision:"none"})):"top"===n?t.position({my:"center bottom",at:"center top",of:r,collision:"none"}):0===n?t.position({my:"right center",at:"left center",of:r,collision:"none"}):n===s?t.position({my:"left center",at:"right center",of:r,collision:"none"}):(a=Math.round(100/s*n),t.position({my:"center center",at:"left+"+a+"% center",of:r,collision:"none"}))}),t.__super__.repositionAddButtons.apply(this,arguments)},t}(t)}).call(this)}}),stitchRequire.define({"views/region/PackerRegionView":function(e){(function(){var t,n,i,r,o=function(e,t){return function(){return e.apply(t,arguments)}},s={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};t=stitchRequire("views/region/BaseRegionView").BaseRegionView,n=stitchRequire("Box").Box,i=stitchRequire("BoxLayout").BoxLayout,e.PackerRegionView=function(e){function t(){return this.repositionAddButtons=o(this.repositionAddButtons,this),this.insertDraggedAsset=o(this.insertDraggedAsset,this),this.addNewAsset=o(this.addNewAsset,this),this.setTargetsBasedOnAddButton=o(this.setTargetsBasedOnAddButton,this),this.handleAddAssetClick=o(this.handleAddAssetClick,this),r=t.__super__.constructor.apply(this,arguments)}return a(t,e),t.prototype.isUserResizable=!0,t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),this.target_clone_model=null,this.target_position="below"},t.prototype.validSizeForThisRegion=function(e){return _(["s","m","l"]).include(e)},t.prototype.addAsset=function(e,n){return null==n&&(n={}),this.validSizeForThisRegion(e.get("size"))||e.set({size:this.options.region.defaultSize},{silent:!0}),t.__super__.addAsset.call(this,e,n)},t.prototype.newDomAsset=function(e){var t;return t=this.wrapAsset(this.assetViewJQuery(e)),t.addClass("asset-position-candidate"),t},t.prototype.startDrag=function(e,n){var i;return this.popView.saveScroll(),t.__super__.startDrag.call(this,e,n),i=this,_.defer(function(){return i.reflow(),i.popView.restoreScroll()})},t.prototype.compareAssetsByPosition=function(e,n){return e.get("y")===n.get("y")?t.prototype.compareNumbers(e.get("x"),n.get("x")):t.prototype.compareNumbers(e.get("y"),n.get("y"))},t.prototype.compareNumbers=function(e,t){return e-t},t.prototype.closestX=function(e){var t,n,i,r;for(n=[],t=i=0,r=this.options.columns;r>=0?r>i:i>r;t=r>=0?++i:--i)n.push(t*(this.options.columnWidth+this.options.gutterWidth));return this.closest(n,this.normalizeDomAssetXcoord(e))},t.prototype.normalizeDomAssetXcoord=function(e){var t;return t=this.$el.offset().left,Math.round(e-t)},t.prototype.closest=function(e,t){var n,i,r,o;for(i=e[0],r=0,o=e.length;o>r;r++){if(n=e[r],t===n)return n;if(n>t)return i;i=n}return e[e.length-1]},t.prototype.numericSort=function(e,t){return e-t},t.prototype.render=function(){var e,n,i,r,o;for(this.$(".asset-container").remove(),o=this.assets,i=0,r=o.length;r>i;i++)e=o[i],n=this.wrapAsset(this.assetViewJQuery(e)),this.$el.append(n);return this.reflow(),t.__super__.render.apply(this,arguments)},t.prototype.reflow=function(e){var t=this;return null==e&&(e=!1),e||0===this.$("img").length?this.debouncedRenderAddButtons():this.$el.imagesLoaded(function(){return _.defer(function(){return t.debouncedRenderAddButtons()})})},t.prototype.cacheAssetDimensions=function(e){return e.data("packer-region-width",e.width()),e.data("packer-region-height",e.height()),e.data("packer-region-outerWidth",e.outerWidth()),e.data("packer-region-outerHeight",e.outerHeight())},t.prototype._masonry=function(){var e,t,r,o,s,a,l,u,c,d,h,p,f=this;for(a=this.$el,s=new n({width:a.width()}),this.layout=new i(s,{column_gutter:this.options.gutterWidth,row_gutter:this.options.gutterWidth}),r=a.find(".asset-container").toArray(),u=0,d=r.length;d>u;u++)t=r[u],t=this.$(t),t.css("position","absolute"),this.cacheAssetDimensions(t),e=t.find(".asset").data("model-ref"),null!=e&&(l=e.get("x")),o=new n({x:l,width:t.data("packer-region-outerWidth"),height:t.data("packer-region-outerHeight"),stored_object:t}),this.layout.place_box(o,{allow_fall_up:t.hasClass("asset-container-shim")});for(this.layout.place_boxes_that_didnt_fit(),p=this.layout.boxes,c=0,h=p.length;h>c;c++)o=p[c],t=o.stored_object,t.css({left:""+o.x+"px",top:""+o.y+"px"}),e=t.find(".asset").data("model-ref"),null!=e&&e.set({x:o.x,y:o.y,height:t.data("packer-region-outerHeight")},{silent:!0});return this.repositionAddButtons(),_.defer(function(){return a.height(f.minRegionHeight())})},t.prototype.createRestorePoint=function(){return this.assetBeingDraggedOriginalX=this.popView.assetBeingDragged.get("x"),t.__super__.createRestorePoint.call(this)},t.prototype.restorePreDraggingState=function(){return this.popView.assetBeingDragged.set({x:this.assetBeingDraggedOriginalX},{silent:!0}),this.assetBeingDraggedOriginalX=null,t.__super__.restorePreDraggingState.call(this)},t.prototype.clearAssetDimensionsCache=function(){return this.$(".asset-container").removeData("packer-region-width").removeData("packer-region-height").removeData("packer-region-outerWidth").removeData("packer-region-outerHeight").removeData("packer-region-offset")},t.prototype.minRegionHeight=function(){var e,t,n,i;return n=this.$el,t=9999999,e=0,i=this,n.find(".asset-container").each(function(){var n,r,o;return n=i.$(this),o=n.offset().top,t=Math.min(t,o),r="publish"===window.PopulrThemeMode?n.find(".asset").data("model-ref").get("layout").height:n.height(),e=Math.max(e,o+r)}),e-t},t.prototype.handleAddAssetClick=function(e){var n;return t.__super__.handleAddAssetClick.call(this,e),n=$(e.currentTarget),this.setTargetsBasedOnAddButton(n)},t.prototype.setTargetsBasedOnAddButton=function(e){return e.data("shim")?(this.target_clone_model="new",this.target_x=0):(this.target_clone_model=e.data("asset"),this.target_x=this.target_clone_model.get("x")),this.target_sort_idx=e.data("target_sort_idx")},t.prototype.addNewAsset=function(e,t){return t!==this||null==this.target_x||null==this.target_sort_idx?!1:("new"===this.target_clone_model?e.set({size:this.options.defaultSize,x:this.target_x},{silent:!0}):e.set({x:this.target_x},{silent:!0}),this.addAsset(e,{at:this.target_sort_idx}),e.view=this.assetView(e))},t.prototype.insertDraggedAsset=function(e,t){var n;return n=t.data("region"),n!==this?!1:(this.setTargetsBasedOnAddButton(t),e.get("sortOrder")<this.target_sort_idx&&(this.target_sort_idx-=1),this.target_x=this.closestX(this.popView.last_drag_x),this.addNewAsset(e,n))},t.prototype.removeShimBoxes=function(){var e;return(null!=(e=this.layout)?e.boxes:void 0)?(this.$(".asset-container-shim").remove(),this.layout.boxes=_(this.layout.boxes).reject(function(e){return"shim"===e.stored_object})):void 0},t.prototype.renderAddButtons=function(){var e,i,r,o,s,a,l,u=this;if(t.__super__.renderAddButtons.apply(this,arguments)===!1)return!1;if(this.addButtonsContainer.off("click",".add-asset",this.handleAddAssetClick),this.removeShimBoxes(),this._masonry(),0===this.$(".asset-container").length)e=$(this.createAddButton({"class":"h-add-button"})),l=this.$el.outerWidth(),e.appendTo(this.addButtonsContainer).data("region",this).data("shim",!0).data("target_sort_idx",0).width(l),e.find(".inner-add-asset").width(l);else for(this.$(".asset-container").each(function(t,n){var i,r;return i=$(n).find(".asset"),r=i.data("model-ref"),l=i.outerWidth(),0===r.get("y")&&(e=$(u.createAddButton({"class":"h-add-button"})),e.appendTo(u.addButtonsContainer).data("region",u).data("asset",r).data("owner",$(n)).data("target_sort_idx",r.get("sortOrder")).data("position","above").width(l),e.find(".inner-add-asset").width(l)),e=$(u.createAddButton({"class":"h-add-button"})),e.appendTo(u.addButtonsContainer).data("region",u).data("asset",r).data("owner",$(n)).data("target_sort_idx",r.get("sortOrder")+1).data("position","below").width(l),e.find(".inner-add-asset").width(l)}),r=!0,s=0;r&&12>s;)s++,a='<div class="asset-container asset-container-shim" style="top: 0px; position: absolute; height: 1px; background: transparent; visibility: hidden;">\n  <div class="asset asset-type-text asset-size-'+this.options.defaultSize+'">\n    <div class="asset-inner"></div>\n  </div>\n</div>',i=$(a),this.$el.append(i),l=i.outerWidth(),this.layout.place_box(new n({width:l,height:10,stored_object:"shim"}),{allow_fall_up:!0}),o=this.layout.boxes[this.layout.boxes.length-1],function(t){var n;return t.top()>0?(r=!1,u.layout.boxes.pop(),i.remove()):(i.css("left",""+t.x+"px").data("packer-region-outerWidth",i.outerWidth()).data("packer-region-outerHeight",i.outerHeight()),n={set:function(){},get:function(e){switch(e){case"x":return t.x;case"sortOrder":return 0;default:return null}}},i.find(".asset").data("model-ref",n),e=$(u.createAddButton({"class":"h-add-button"})),e.appendTo(u.addButtonsContainer).data("region",u).data("asset",n).data("owner",i).data("target_sort_idx",0).data("position","above").width(l))}(o);return this.addButtonsContainer.on("click",".add-asset",this.handleAddAssetClick),this._masonry()},t.prototype.repositionAddButtons=function(){var e;if(this.addButtonsContainer&&this.addButtonsContainer.parent().length)return e=this,this.addButtonsContainer.find(".add-asset").each(function(){var t;return t=$(this),t.data("owner")?"above"===t.data("position")?t.position({my:"center center",at:"center top",of:t.data("owner"),collision:"none"}):t.position({my:"center center",at:"center bottom+"+e.options.gutterWidth,of:t.data("owner"),collision:"none"}):t.position({my:"center center",at:"center center",of:e.$el,collision:"none"})}),t.__super__.repositionAddButtons.apply(this,arguments)},t}(t)}).call(this)}}),function(e,t,n){function i(e){g=e.documentElement,t=e,document=e,v=t.getElementsByTagName("script")[0],x="MozAppearance"in g.style,C=x&&!!t.createRange().compareNode,k=C?g:v.parentNode,T=!!t.attachEvent&&!E}function r(){return t}function o(){return g}function s(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function a(e,n,i,r,o,a){var l,c,d=t.createElement("script");r=r||f.errorTimeout,d.src=e;for(c in i)d.setAttribute(c,i[c]);n=a?u:n||_,d.onreadystatechange=d.onload=function(){!l&&s(d.readyState)&&(l=1,n(),d.onload=d.onreadystatechange=null)},m(function(){l||(l=1,n(1))},r),o?d.onload():v.parentNode.insertBefore(d,v)}function l(e,n,i,r,o,s){var a,l=t.createElement("link");r=r||f.errorTimeout,n=s?u:n||_,l.href=e,l.rel="stylesheet",l.type="text/css";for(a in i)l.setAttribute(a,i[a]);o||(v.parentNode.insertBefore(l,v),m(n,0))}function u(){var e=b.shift();w=1,e?e.t?m(function(){("c"==e.t?f.injectCss:f.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),u()):w=0}function c(e,n,i,r,o,a,l){function c(t){if(!h&&s(d.readyState)&&(g.r=h=1,!w&&u(),d.onload=d.onreadystatechange=null,t)){"img"!=e&&m(function(){try{k.removeChild(d)}catch(e){}},50);for(var i in j[n])j[n].hasOwnProperty(i)&&j[n][i].onload()}}l=l||f.errorTimeout;var d=t.createElement(e),h=0,p=0,g={t:i,s:n,e:o,a:a,x:l};1===j[n]&&(p=1,j[n]=[]),"object"==e?(d.data=n,d.setAttribute("type","text/css")):(d.src=n,d.type=e),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){c.call(this,p)},b.splice(r,0,g),"img"!=e&&(p||2===j[n]?(k.insertBefore(d,C?null:v),m(c,l)):j[n].push(d))}function d(e,t,n,i,r){return w=0,t=t||"j",$(e)?c("c"==t?A:S,e,t,this.i++,n,i,r):(b.splice(this.i++,0,e),1==b.length&&u()),this}function h(){var e=f;return e.loader={load:d,i:0},e}var p,f,g=t.documentElement,m=e.setTimeout,v=t.getElementsByTagName("script")[0],y={}.toString,b=[],w=0,_=function(){},x="MozAppearance"in g.style,C=x&&!!t.createRange().compareNode,k=C?g:v.parentNode,E=e.opera&&"[object Opera]"==y.call(e.opera),T=!!t.attachEvent&&!E,S=x?"object":T?"script":"img",A=T?"script":S,N=Array.isArray||function(e){return"[object Array]"==y.call(e)},P=function(e){return Object(e)===e},$=function(e){return"string"==typeof e},O=function(e){return"[object Function]"==y.call(e)},D=[],j={},I={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};f=function(e){function t(e){var t,n,i,r=e.split("!"),o=D.length,s=r.pop(),a=r.length,l={url:s,origUrl:s,prefixes:r};for(n=0;a>n;n++)i=r[n].split("="),t=I[i.shift()],t&&(l=t(l,i));for(n=0;o>n;n++)l=D[n](l);return l}function i(e){var t=e.split("?")[0];return t.substr(t.lastIndexOf(".")+1)}function r(e,r,o,s,a){{var l=t(e),u=l.autoCallback;i(l.url)}if(!l.bypass)return r&&(r=O(r)?r:r[e]||r[s]||r[e.split("/").pop().split("?")[0]]),l.instead?l.instead(e,r,o,s,a):(j[l.url]?l.noexec=!0:j[l.url]=1,o.load(l.url,l.forceCSS||!l.forceJS&&"css"==i(l.url)?"c":n,l.noexec,l.attrs,l.timeout),(O(r)||O(u))&&o.load(function(){h(),r&&r(l.origUrl,a,s),u&&u(l.origUrl,a,s),j[l.url]=2}),void 0)}function o(e,t){function n(e,n){if(e){if($(e))n||(u=function(){var e=[].slice.call(arguments);c.apply(this,e),d()}),r(e,u,t,0,s);else if(P(e)){i=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}();for(o in e)e.hasOwnProperty(o)&&(n||--i||(O(u)?u=function(){var e=[].slice.call(arguments);c.apply(this,e),d()}:u[o]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),d()}}(c[o])),r(e[o],u,t,o,s))}}else!n&&d()}var i,o,s=!!e.test,a=s?e.yep:e.nope,l=e.load||e.both,u=e.callback||_,c=u,d=e.complete||_;n(a,!!l),l&&n(l)}var s,a,l=this.yepnope.loader;if($(e))r(e,0,l,0);else if(N(e))for(s=0;s<e.length;s++)a=e[s],$(a)?r(a,0,l,0):N(a)?f(a):P(a)&&o(a,l);else P(e)&&o(e,l)},f.addPrefix=function(e,t){I[e]=t},f.addFilter=function(e){D.push(e)},f.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",p=function(){t.removeEventListener("DOMContentLoaded",p,0),t.readyState="complete"},0)),e.yepnope=h(),e.yepnope.executeStack=u,e.yepnope.injectJs=a,e.yepnope.injectCss=l,e.yepnope.setDocElement=i,e.yepnope.getDocElement=o,e.yepnope.getDoc=r}(this,document),function(e){e.addPrefix("css",function(e){return e.forceCSS=!0,e})}(this.yepnope),function(){yepnope.injectCss=function(e,t,n,i,r,o){function s(){if(!u)try{for(var t=yepnope.getDoc().styleSheets,n=0,i=t.length;i>n;n++)if(t[n].ownerNode.id==p&&(a=String(t[n].href).replace(/^https?:/,""),a==e||t[n].cssRules.length))return h();throw new Error}catch(r){setTimeout(s,20)}}var a,l,u,c,d=yepnope.getDoc().createElement("link"),h=function(){u||(u=1,d.removeAttribute("id"),setTimeout(t,0))},p="yn"+ +new Date;t=o?yepnope.executeStack:t||function(){},i=i||yepnope.errorTimeout,d.href=e,d.rel="stylesheet",d.type="text/css",d.id=p;for(c in n)d.setAttribute(c,n[c]);if(!r){var f,g=yepnope.getDoc().getElementsByTagName("link");for(c=0;c<g.length;c++)if(f=g[c],/theme_bundle[^.]*\.css/.test(f.getAttribute("src"))){l=f;break}l&&l.getAttribute("src")&&l.nextSibling?l.parentNode.insertBefore(d,l.nextSibling):yepnope.getDoc().getElementsByTagName("head")[0].appendChild(d),d.onload=h,s()}}}(this,this.document),window.Modernizr=function(e,t,n){function i(e){b.cssText=e}function r(e,t){return i(C.join(e+";")+(t||""))}function o(e,t){return typeof e===t}function s(e,t){return!!~(""+e).indexOf(t)}function a(e,t){for(var i in e){var r=e[i];if(!s(r,"-")&&b[r]!==n)return"pfx"==t?r:!0}return!1}function l(e,t,i){for(var r in e){var s=t[e[r]];if(s!==n)return i===!1?e[r]:o(s,"function")?s.bind(i||t):s}return!1}function u(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+E.join(i+" ")+i).split(" ");return o(t,"string")||o(t,"undefined")?a(r,t):(r=(e+" "+T.join(i+" ")+i).split(" "),l(r,t,n))}function c(){f.input=function(n){for(var i=0,r=n.length;r>i;i++)P[n[i]]=!!(n[i]in w);return P.list&&(P.list=!(!t.createElement("datalist")||!e.HTMLDataListElement)),P}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),f.inputtypes=function(e){for(var i,r,o,s=0,a=e.length;a>s;s++)w.setAttribute("type",r=e[s]),i="text"!==w.type,i&&(w.value=_,w.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(r)&&w.style.WebkitAppearance!==n?(m.appendChild(w),o=t.defaultView,i=o.getComputedStyle&&"textfield"!==o.getComputedStyle(w,null).WebkitAppearance&&0!==w.offsetHeight,m.removeChild(w)):/^(search|tel)$/.test(r)||(i=/^(url|email)$/.test(r)?w.checkValidity&&w.checkValidity()===!1:w.value!=_)),N[e[s]]=!!i;return N}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var d,h,p="2.7.0",f={},g=!0,m=t.documentElement,v="modernizr",y=t.createElement(v),b=y.style,w=t.createElement("input"),_=":)",x={}.toString,C=" -webkit- -moz- -o- -ms- ".split(" "),k="Webkit Moz O ms",E=k.split(" "),T=k.toLowerCase().split(" "),S={svg:"http://www.w3.org/2000/svg"},A={},N={},P={},$=[],O=$.slice,D=function(e,n,i,r){var o,s,a,l,u=t.createElement("div"),c=t.body,d=c||t.createElement("body");if(parseInt(i,10))for(;i--;)a=t.createElement("div"),a.id=r?r[i]:v+(i+1),u.appendChild(a);return o=["&#173;",'<style id="s',v,'">',e,"</style>"].join(""),u.id=v,(c?u:d).innerHTML+=o,d.appendChild(u),c||(d.style.background="",d.style.overflow="hidden",l=m.style.overflow,m.style.overflow="hidden",m.appendChild(d)),s=n(u,e),c?u.parentNode.removeChild(u):(d.parentNode.removeChild(d),m.style.overflow=l),!!s},j=function(t){var n=e.matchMedia||e.msMatchMedia;if(n)return n(t).matches;var i;return D("@media "+t+" { #"+v+" { position: absolute; } }",function(t){i="absolute"==(e.getComputedStyle?getComputedStyle(t,null):t.currentStyle).position}),i},I=function(){function e(e,r){r=r||t.createElement(i[e]||"div"),e="on"+e;var s=e in r;return s||(r.setAttribute||(r=t.createElement("div")),r.setAttribute&&r.removeAttribute&&(r.setAttribute(e,""),s=o(r[e],"function"),o(r[e],"undefined")||(r[e]=n),r.removeAttribute(e))),r=null,s}var i={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return e}(),M={}.hasOwnProperty;h=o(M,"undefined")||o(M.call,"undefined")?function(e,t){return t in e&&o(e.constructor.prototype[t],"undefined")}:function(e,t){return M.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=O.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=t.prototype;var o=new r,s=t.apply(o,n.concat(O.call(arguments)));return Object(s)===s?s:o}return t.apply(e,n.concat(O.call(arguments)))};return i}),A.flexbox=function(){return u("flexWrap")},A.flexboxlegacy=function(){return u("boxDirection")},A.canvas=function(){var e=t.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},A.canvastext=function(){return!(!f.canvas||!o(t.createElement("canvas").getContext("2d").fillText,"function"))},A.webgl=function(){return!!e.WebGLRenderingContext},A.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:D(["@media (",C.join("touch-enabled),("),v,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n},A.geolocation=function(){return"geolocation"in navigator},A.postmessage=function(){return!!e.postMessage},A.websqldatabase=function(){return!!e.openDatabase},A.indexedDB=function(){return!!u("indexedDB",e)},A.hashchange=function(){return I("hashchange",e)&&(t.documentMode===n||t.documentMode>7)},A.history=function(){return!(!e.history||!history.pushState)},A.draganddrop=function(){var e=t.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},A.websockets=function(){return"WebSocket"in e||"MozWebSocket"in e},A.rgba=function(){return i("background-color:rgba(150,255,150,.5)"),s(b.backgroundColor,"rgba")},A.hsla=function(){return i("background-color:hsla(120,40%,100%,.5)"),s(b.backgroundColor,"rgba")||s(b.backgroundColor,"hsla")},A.multiplebgs=function(){return i("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(b.background)},A.backgroundsize=function(){return u("backgroundSize")},A.borderimage=function(){return u("borderImage")},A.borderradius=function(){return u("borderRadius")},A.boxshadow=function(){return u("boxShadow")},A.textshadow=function(){return""===t.createElement("div").style.textShadow},A.opacity=function(){return r("opacity:.55"),/^0.55$/.test(b.opacity)},A.cssanimations=function(){return u("animationName")},A.csscolumns=function(){return u("columnCount")},A.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return i((e+"-webkit- ".split(" ").join(t+e)+C.join(n+e)).slice(0,-e.length)),s(b.backgroundImage,"gradient")},A.cssreflections=function(){return u("boxReflect")},A.csstransforms=function(){return!!u("transform")},A.csstransforms3d=function(){var e=!!u("perspective");return e&&"webkitPerspective"in m.style&&D("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t){e=9===t.offsetLeft&&3===t.offsetHeight}),e},A.csstransitions=function(){return u("transition")},A.fontface=function(){var e;return D('@font-face {font-family:"font";src:url("https://")}',function(n,i){var r=t.getElementById("smodernizr"),o=r.sheet||r.styleSheet,s=o?o.cssRules&&o.cssRules[0]?o.cssRules[0].cssText:o.cssText||"":"";e=/src/i.test(s)&&0===s.indexOf(i.split(" ")[0])}),e},A.generatedcontent=function(){var e;return D(["#",v,"{font:0/0 a}#",v,':after{content:"',_,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},A.video=function(){var e=t.createElement("video"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(i){}return n},A.audio=function(){var e=t.createElement("audio"),n=!1;try{(n=!!e.canPlayType)&&(n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(i){}return n},A.localstorage=function(){try{return localStorage.setItem(v,v),localStorage.removeItem(v),!0}catch(e){return!1}},A.sessionstorage=function(){try{return sessionStorage.setItem(v,v),sessionStorage.removeItem(v),!0}catch(e){return!1}},A.webworkers=function(){return!!e.Worker},A.applicationcache=function(){return!!e.applicationCache},A.svg=function(){return!!t.createElementNS&&!!t.createElementNS(S.svg,"svg").createSVGRect},A.inlinesvg=function(){var e=t.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==S.svg},A.smil=function(){return!!t.createElementNS&&/SVGAnimate/.test(x.call(t.createElementNS(S.svg,"animate")))},A.svgclippaths=function(){return!!t.createElementNS&&/SVGClipPath/.test(x.call(t.createElementNS(S.svg,"clipPath")))};for(var R in A)h(A,R)&&(d=R.toLowerCase(),f[d]=A[R](),$.push((f[d]?"":"no-")+d));return f.input||c(),f.addTest=function(e,t){if("object"==typeof e)for(var i in e)h(e,i)&&f.addTest(i,e[i]);else{if(e=e.toLowerCase(),f[e]!==n)return f;t="function"==typeof t?t():t,"undefined"!=typeof g&&g&&(m.className+=" "+(t?"":"no-")+e),f[e]=t
}return f},i(""),y=w=null,function(e,t){function n(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var e=y.elements;return"string"==typeof e?e.split(" "):e}function r(e){var t=v[e[g]];return t||(t={},m++,e[g]=m,v[m]=t),t}function o(e,n,i){if(n||(n=t),c)return n.createElement(e);i||(i=r(n));var o;return o=i.cache[e]?i.cache[e].cloneNode():f.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e),!o.canHaveChildren||p.test(e)||o.tagUrn?o:i.frag.appendChild(o)}function s(e,n){if(e||(e=t),c)return e.createDocumentFragment();n=n||r(e);for(var o=n.frag.cloneNode(),s=0,a=i(),l=a.length;l>s;s++)o.createElement(a[s]);return o}function a(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return y.shivMethods?o(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(y,t.frag)}function l(e){e||(e=t);var i=r(e);return!y.shivCSS||u||i.hasCSS||(i.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),c||a(e,i),e}var u,c,d="3.7.0",h=e.html5||{},p=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,f=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,g="_html5shiv",m=0,v={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",u="hidden"in e,c=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return"undefined"==typeof e.cloneNode||"undefined"==typeof e.createDocumentFragment||"undefined"==typeof e.createElement}()}catch(n){u=!0,c=!0}}();var y={elements:h.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:d,shivCSS:h.shivCSS!==!1,supportsUnknownElements:c,shivMethods:h.shivMethods!==!1,type:"default",shivDocument:l,createElement:o,createDocumentFragment:s};e.html5=y,l(t)}(this,t),f._version=p,f._prefixes=C,f._domPrefixes=T,f._cssomPrefixes=E,f.mq=j,f.hasEvent=I,f.testProp=function(e){return a([e])},f.testAllProps=u,f.testStyles=D,m.className=m.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(g?" js "+$.join(" "):""),f}(this,this.document),Modernizr.addTest("cssvhunit",function(){var e;return Modernizr.testStyles("#modernizr { height: 50vh; }",function(t){var n=parseInt(window.innerHeight/2,10),i=parseInt((window.getComputedStyle?getComputedStyle(t,null):t.currentStyle).height,10);e=i==n}),e}),function(){Modernizr.addTest("ipad",function(){return!!navigator.userAgent.match(/iPad/i)}),Modernizr.addTest("iphone",function(){return!!navigator.userAgent.match(/iPhone/i)}),Modernizr.addTest("ipod",function(){return!!navigator.userAgent.match(/iPod/i)}),Modernizr.addTest("ios",function(){return Modernizr.ipad||Modernizr.ipod||Modernizr.iphone}),Modernizr.addTest("android",function(){return!!navigator.userAgent.match(/Android/i)}),Modernizr.addTest("highres",function(){var e,t,n,i,r;for(r="2.99/2",i="1.499",n=["only screen and (-o-min-device-pixel-ratio:"+r+")","only screen and (min--moz-device-pixel-ratio:"+r+")","only screen and (-webkit-min-device-pixel-ratio:"+i+")","only screen and (min-device-pixel-ratio:"+i+")"],t=!1,e=n.length-1;e>=0;){if(t=Modernizr.mq(n[e]))return t;e--}return t})}.call(this),/*

jQuery Browser Plugin
	* Version 2.3
	* 2008-09-17 19:27:05
	* URL: http://jquery.thewikies.com/browser
	* Description: jQuery Browser Plugin extends browser detection capabilities and can assign browser selectors to CSS classes.
	* Author: Nate Cavanaugh, Minhchau Dang, & Jonathan Neal
	* Copyright: Copyright (c) 2008 Jonathan Neal under dual MIT/GPL license.
	* JSLint: This javascript file passes JSLint verification.
*/
function(e){e.browserTest=function(t,n){var i="unknown",r="X",o=function(e,t){for(var n=0;n<t.length;n+=1)e=e.replace(t[n][0],t[n][1]);return e},s=function(t,n,s,a){var l={name:o((n.exec(t)||[i,i])[1],s)};return l[l.name]=!0,l.version=(a.exec(t)||[r,r,r,r])[3],l.name.match(/safari/)&&l.version>400&&(l.version="2.0"),"presto"===l.name&&(l.version=e.browser.version>9.27?"futhark":"linear_b"),l.versionNumber=parseFloat(l.version,10)||0,l.versionX=l.version!==r?(l.version+"").substr(0,1):r,l.className=l.name+l.versionX,l};t=(t.match(/Opera|Navigator|Minefield|KHTML|Chrome/)?o(t,[[/(Firefox|MSIE|KHTML,\slike\sGecko|Konqueror)/,""],["Chrome Safari","Chrome"],["KHTML","Konqueror"],["Minefield","Firefox"],["Navigator","Netscape"]]):t).toLowerCase(),e.browser=e.extend(n?{}:e.browser,s(t,/(camino|chrome|firefox|netscape|konqueror|lynx|msie|opera|safari)/,[],/(camino|chrome|firefox|netscape|netscape6|opera|version|konqueror|lynx|msie|safari)(\/|\s)([a-z0-9\.\+]*?)(\;|dev|rel|\s|$)/)),e.layout=s(t,/(gecko|konqueror|msie|opera|webkit)/,[["konqueror","khtml"],["msie","trident"],["opera","presto"]],/(applewebkit|rv|konqueror|msie)(\:|\/|\s)([a-z0-9\.]*?)(\;|\)|\s)/),e.os={name:(/(win|mac|linux|sunos|solaris|iphone)/.exec(navigator.platform.toLowerCase())||[i])[0].replace("sunos","solaris")},n||e("html").addClass([e.os.name,e.browser.name,e.browser.className,e.layout.name,e.layout.className].join(" "))},e.browserTest(navigator.userAgent)}(jQuery),function(){var e;e=jQuery,e.fn.extend({fullBG:function(t){var n,i,r,o,s,a=this;return o={position:"c",fadeInSpeed:800,container:"#populr-pop-wrapper-inner"},o=e.extend(o,t),i=function(){return/iP(hone|od|ad)/.test(navigator.platform)},n=function(){var e;return i()?(e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]):void 0},s=function(){var e;return Modernizr.mq("all and (max-width: 480px)")||(null!=(e=n())?e[0]:void 0)<=5},r=function(){var t,n,i,r,s,a,l,u,c,d,h,p,f;switch(i=e(this),r=i.closest(".fullbg-container"),t=r.parent(),"#populr-pop-wrapper-inner"===o.container?(n=r[0].ownerDocument,h=n.defaultView||n.parentWindow,r.height(Math.min(t.outerHeight(),e(h).height()))):r.height(e(t).outerHeight()),u=i.width(),l=i.height(),f=t.width(),p=r.outerHeight(),d=f/u,a=p/l,c=a*u,s=d*l,s>p?i.css({width:Math.ceil(f)+"px",height:Math.ceil(s)+"px"}):i.css({width:Math.ceil(c)+"px",height:Math.ceil(p)+"px"}),o.position){case"nw":i.css({top:0,right:"auto",bottom:"auto",left:0});break;case"ne":i.css({top:0,right:0,bottom:"auto",left:"auto"});break;case"se":i.css({top:"auto",left:"auto",bottom:0,right:0});break;case"sw":i.css({top:"auto",left:0,bottom:0,right:"auto"});break;case"c":i.css({top:-(i.height()-p)/2,right:"auto",bottom:"auto",left:-(i.width()-f)/2});break;default:i.css({top:0,right:"auto",bottom:"auto",left:0})}},e(window).off("resize fullbg:resize"),s()||e(window).on("resize fullbg",function(){return r.call(a)}),this.each(function(){var t,i,s,a,l,u,c;if(i=e(this),a=i.closest("html").find(o.container),"static"===a.css("position")&&a.css("position","relative"),"#populr-pop-wrapper-inner"===o.container?t="fixed":(t="absolute",a.children().each(function(){return"static"===e(this).css("position")?e(this).css("position","relative"):void 0})),(null!=(c=n())?c[0]:void 0)<=5){switch(s="center",l="top",o.position){case"nw":case"sw":s="left";break;case"ne":case"se":s="right"}return a.css({backgroundImage:"url("+i.attr("src")+")",backgroundPosition:""+s+" "+l,backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"}),i.remove()}return u=e('<div class="fullbg-container" style="width: 100%; height: 100%; overflow: hidden; position: '+t+'; top: 0; left: 0;"></div>'),a.prepend(u),Modernizr.mq("all and (max-width: 480px)")?(u.css({backgroundColor:"transparent",backgroundImage:"url("+i.attr("src")+")",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}),i.remove()):(u.append(i.css({position:"absolute",top:0,left:0}).hide()),i.imagesLoaded(function(){var t;return t=this.elements[0],r.call(t),e(t).fadeIn(o.fadeInSpeed).css("display","block")}))}),this}})}.call(this),function(){function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype;i.getListeners=function(e){var t,n,i=this._getEvents();if("object"==typeof e){t={};for(n in i)i.hasOwnProperty(n)&&e.test(n)&&(t[n]=i[n])}else t=i[e]||(i[e]=[]);return t},i.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},i.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},i.addListener=function(e,n){var i,r=this.getListenersAsObject(e),o="object"==typeof n;for(i in r)r.hasOwnProperty(i)&&-1===t(r[i],n)&&r[i].push(o?n:{listener:n,once:!1});return this},i.on=n("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=n("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,n){var i,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&(i=t(o[r],n),-1!==i&&o[r].splice(i,1));return this},i.off=n("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,n){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(i=n.length;i--;)o.call(this,t,n[i]);else for(i in t)t.hasOwnProperty(i)&&(r=t[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(e){var t,n=typeof e,i=this._getEvents();if("string"===n)delete i[e];else if("object"===n)for(t in i)i.hasOwnProperty(t)&&e.test(t)&&delete i[t];else delete this._events;return this},i.removeAllListeners=n("removeEvent"),i.emitEvent=function(e,t){var n,i,r,o,s=this.getListenersAsObject(e);for(r in s)if(s.hasOwnProperty(r))for(i=s[r].length;i--;)n=s[r][i],n.once===!0&&this.removeListener(e,n.listener),o=n.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},i.trigger=n("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},i._getEvents=function(){return this._events||(this._events={})},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){var t=document.documentElement,n=function(){};t.addEventListener?n=function(e,t,n){e.addEventListener(t,n,!1)}:t.attachEvent&&(n=function(t,n,i){t[n+i]=i.handleEvent?function(){var t=e.event;t.target=t.target||t.srcElement,i.handleEvent.call(i,t)}:function(){var n=e.event;n.target=n.target||n.srcElement,i.call(t,n)},t.attachEvent("on"+n,t[n+i])});var i=function(){};t.removeEventListener?i=function(e,t,n){e.removeEventListener(t,n,!1)}:t.detachEvent&&(i=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(i){e[t+n]=void 0}});var r={bind:n,unbind:i};"function"==typeof define&&define.amd?define("eventie/eventie",r):e.eventie=r}(this),function(e){function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e){return"[object Array]"===l.call(e)}function i(e){var t=[];if(n(e))t=e;else if("number"==typeof e.length)for(var i=0,r=e.length;r>i;i++)t.push(e[i]);else t.push(e);return t}function r(e,n){function r(e,n,s){if(!(this instanceof r))return new r(e,n);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=i(e),this.options=t({},this.options),"function"==typeof n?s=n:t(this.options,n),s&&this.on("always",s),this.getImages(),o&&(this.jqDeferred=new o.Deferred);var a=this;setTimeout(function(){a.check()})}function l(e){this.img=e}r.prototype=new e,r.prototype.options={},r.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var n=this.elements[e];"IMG"===n.nodeName&&this.addImage(n);for(var i=n.querySelectorAll("img"),r=0,o=i.length;o>r;r++){var s=i[r];this.addImage(s)}}},r.prototype.addImage=function(e){var t=new l(e);this.images.push(t)},r.prototype.check=function(){function e(e,r){return t.options.debug&&a&&s.log("confirm",e,r),t.progress(e),n++,n===i&&t.complete(),!0}var t=this,n=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return this.complete(),void 0;for(var r=0;i>r;r++){var o=this.images[r];o.on("confirm",e),o.check()}},r.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify(t,e)})},r.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},o&&(o.fn.imagesLoaded=function(e,t){var n=new r(this,e,t);return n.jqDeferred.promise(o(this))});var u={};return l.prototype=new e,l.prototype.check=function(){var e=u[this.img.src];if(e)return this.useCached(e),void 0;if(u[this.img.src]=this,this.img.complete&&void 0!==this.img.naturalWidth)return this.confirm(0!==this.img.naturalWidth,"naturalWidth"),void 0;var t=this.proxyImage=new Image;n.bind(t,"load",this),n.bind(t,"error",this),t.src=this.img.src},l.prototype.useCached=function(e){if(e.isConfirmed)this.confirm(e.isLoaded,"cached was confirmed");else{var t=this;e.on("confirm",function(e){return t.confirm(e.isLoaded,"cache emitted confirmed"),!0})}},l.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},l.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindProxyEvents()},l.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindProxyEvents()},l.prototype.unbindProxyEvents=function(){n.unbind(this.proxyImage,"load",this),n.unbind(this.proxyImage,"error",this)},r}var o=e.jQuery,s=e.console,a="undefined"!=typeof s,l=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],r):e.imagesLoaded=r(e.EventEmitter,e.eventie)}(window),stitchRequire.define({Point:function(e){(function(){e.Point=function(){function e(e){null==e&&(e={}),this.x=e.x||0,this.y=e.y||0}return e.prototype.compare=function(t,n){return t.y===n.y?e.prototype.compareNumbers(t.x,n.x):e.prototype.compareNumbers(t.y,n.y)},e.prototype.compareNumbers=function(e,t){return e-t},e}()}).call(this)}}),stitchRequire.define({Box:function(e){(function(){e.Box=function(){function e(e){null==e&&(e={}),null!=e.x&&(this.x=e.x),null!=e.y&&(this.y=e.y),this.width=e.width||0,this.height=e.height||0,this.stored_object=e.stored_object}return e.prototype.area=function(){return this.width*this.height},e.prototype.left=function(){return this.x},e.prototype.top=function(){return this.y},e.prototype.right=function(){return this.x+this.width},e.prototype.bottom=function(){return this.y+this.height},e.prototype.intersects=function(e){var t,n,i,r;return t=Math.max(this.left(),e.left()),n=Math.max(this.top(),e.top()),r=Math.min(this.right(),e.right()),i=Math.min(this.bottom(),e.bottom()),r-1>t&&i>n},e.prototype.clone=function(){return new e({x:this.x,y:this.y,width:this.width,height:this.height,stored_object:this.stored_object})},e}()}).call(this)}}),stitchRequire.define({BoxLayout:function(e){(function(){var t,n;t=stitchRequire("Box").Box,n=stitchRequire("Point").Point,e.BoxLayout=function(){function e(e,t){null==t&&(t={}),this.container=e,this.column_gutter=t.column_gutter||0,this.row_gutter=t.row_gutter||0,this.boxes=[],this.boxes_that_didnt_fit=[]}return e.prototype.height=function(){return this.container.height},e.prototype.place_box=function(e,t){var i,r,o,s,a,l,u,c,d;for(null==t&&(t={}),this.allow_fall_up=t.allow_fall_up,r=e.clone(),r.width+=this.column_gutter,r.height+=this.row_gutter,s=[],a=r.x||0,l=0,this.box_fits(r,a,l)&&s.push(new n({x:a,y:l})),d=this.boxes,u=0,c=d.length;c>u;u++)i=d[u],a=null!=r.x?r.x:i.left(),l=0===this.container.height?0:i.bottom(),this.box_fits(r,a,l)&&s.push(new n({x:a,y:l})),a=null!=r.x?r.x:i.right(),l=i.top(),this.box_fits(r,a,l)&&s.push(new n({x:a,y:l}));if(0===s.length){if(null!=r.x&&r.x+r.width-this.column_gutter>this.container.width)return r=e.clone(),r.x=null,this.boxes_that_didnt_fit.push(r),void 0;a=r.x||0,l=this.container.height+this.row_gutter,s.push(new n({x:a,y:l}))}return s=s.sort(n.prototype.compare),o=s[0],r.x=Math.round(o.x),r.y=Math.round(o.y),this.boxes.push(r),this.update_container_height()},e.prototype.place_boxes_that_didnt_fit=function(){var e,t,n,i,r;for(i=this.boxes_that_didnt_fit,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(this.place_box(e));return r},e.prototype.box_fits=function(e,t,n){var i,r;return e=e.clone(),e.x=t,e.y=n,e.right()-this.column_gutter>this.container.width?!1:(r=e.height,this.allow_fall_up||(e.height=1e6),i=_(this.boxes).detect(function(t){return t.intersects(e)}),e.height=r,!i)},e.prototype.update_container_height=function(){var e;return e=_(this.boxes).map(function(e){return e.bottom()}),this.container.height=_(e).max()-this.row_gutter},e}()}).call(this)}}),stitchRequire.define({Packer:function(e){(function(){var t,n;t=stitchRequire("Box").Box,n=stitchRequire("BoxLayout").BoxLayout,e.Packer=function(){function e(){}return e.prototype.pack=function(t,n,i,r){var o;return 0===n.find("img").length?e.prototype._pack(t,n,i,r):(e.prototype._pack(t,n,i,r),o=n.imagesLoaded(),o.progress(function(){return setTimeout(function(){return e.prototype._pack(t,n,i,r)})}),o.always(function(){return setTimeout(function(){return e.prototype._pack(t,n,i,r)})}))},e.prototype._pack=function(e,i,r,o){var s,a,l,u,c,d,h,p,f,g;for(a=new t({width:i.width()}),c=new n(a,{column_gutter:o.gutterWidth,row_gutter:o.gutterWidth}),u=i.find(r).toArray(),d=0,p=u.length;p>d;d++)l=u[d],l=e(l),l.css("position","absolute"),s=new t({x:l.data("x"),width:l.outerWidth(),height:l.outerHeight(),stored_object:l}),c.place_box(s);for(c.place_boxes_that_didnt_fit(),g=c.boxes,h=0,f=g.length;f>h;h++)s=g[h],l=s.stored_object,l.css({left:""+s.x+"px",top:""+s.y+"px"});return i.height(c.height())},e}()}).call(this)}}),stitchRequire.define({TemplateAsset:function(e){(function(){e.TemplateAsset=function(){function e(){}return e.prototype.jsonToTemplateAsset=function(e,t){var n;if(null==t&&(t=!0),n=e,n.title_visible===!0||void 0===n.title_visible||null===n.title_visible||"Text"===n.type&&n.body_visible===!1?(n.title_raw=n.title,n.title=t?'<h2 class="tooltip-live asset-title" data-placement="left" title="click to edit" data-wysiwygeditor="true" data-field-binding="title">'+n.title+"</h2>":'<h2 class="asset-title">'+n.title+"</h2>"):(n.title="",n.title_raw=""),"Text"!==n.type){switch(n.type){case"ImageGroup":t&&_.isEmpty(n.contents)&&(n.contents=[{asset_id:"dummy",id:0,type:"Image",sortOrder:0,original_url:"//d78gdoipzblqe.cloudfront.net/0/0/http://images.populr.me/dummy.png",thumbnail_url:"//d78gdoipzblqe.cloudfront.net/0/0/http://images.populr.me/dummy.png",tiny_url:"//d78gdoipzblqe.cloudfront.net/0/0/http://images.populr.me/dummy.png",width:9999,height:9999,main_extension:"png",source_file_size:999999,source_file_name:"dummy.png",source_content_type:"image/png",source_updated_at:"2012-09-26T19:31:37+00:00",created_at:"2012-09-26T19:31:37+00:00",palette:{average:"989898",colors:["999999","777777"],percentages:[.97,.03]}}]),n.images=n.contents;break;case"DocumentGroup":n.documents=n.contents;break;case"EmbedGroup":n.embeds=n.contents,t&&this.replaceEmbedHtmlWithPlaceholder(n.embeds)}n.description_visible===!0||void 0===n.description_visible||null===n.description_visible?(n.description_raw=n.description,n.description=t?'<div class="description" data-field-binding="description" data-wysiwygeditor="true">'+(n.description||"")+"</div>":'<div class="description">'+(n.description||"")+"</div>"):(n.description="",n.description_raw="")}else n.body_visible===!0||void 0===n.body_visible||null===n.body_visible?(n.body_raw=n.body,n.body=t?'<div class="body" data-field-binding="body" data-wysiwygeditor="true">'+n.body+"</div>":'<div class="body">'+n.body+"</div>"):(n.body="",n.body_raw="");return n},e.prototype.isEmbedOkForEditorDisplay=function(e){var t,n,i,r,o,s,a,l,u;for(t=["brainshark.com"],i=0,r=t.length;r>i;i++)if(n=t[i],(null!=(o=e.source_html||e.url)?o.indexOf(n):void 0)>=0)return!1;return"UrlEmbed"===e._type||/^<img[^>]+>$/.test(e.html)||(null!=(s=e.html)?s.indexOf("</iframe>"):void 0)>=0&&-1===(null!=(a=e.html)?a.indexOf("</script>"):void 0)||(null!=(l=e.source_html)?l.indexOf("</iframe>"):void 0)>=0&&-1===(null!=(u=e.source_html)?u.indexOf("</script>"):void 0)},e.prototype.replaceEmbedHtmlWithPlaceholder=function(e){var t,n,i,r,o,s;for(s=[],r=0,o=e.length;o>r;r++)t=e[r],this.isEmbedOkForEditorDisplay(t)||(i="",n=t.source_html,n.indexOf("</video>")>=0?i="video":n.indexOf("</iframe>")>=0&&(n.indexOf("maps.google.com")>=0||n.indexOf("www.bing.com/maps/embed")>=0||n.indexOf("www.mapquest.com/embed")>=0)?i="map":n.indexOf("</script>")>=0&&n.indexOf("chart.js")>=0?i="chart":n.indexOf("</iframe>")>=0&&(n.indexOf("docs.google.com/document")>=0||n.indexOf("skydrive.live.com/embed")>=0)?i="doc":n.indexOf("</script>")>=0&&n.indexOf("linkedin.com")>=0?i="linkedin":n.indexOf("</script>")>=0&&n.indexOf("twitter.com")>=0?i="twitter":n.indexOf("</script>")>=0&&n.indexOf("facebook.com")>=0?i="facebook":n.indexOf("</script>")>=0&&n.indexOf("disqus.com")>=0?i="disqus":n.indexOf("</script>")>=0?i="script":n.indexOf("</form>")>=0&&(i="form"),s.push(t.html='<div class="embed-placeholder"><div class="icon '+i+'"></div><div class="notice">Embedded content will appear correctly in your published pop.<a class="click-to-preview" target="_blank" href="/pop_preview/'+window.Populr.currentPop.id+'/head">Click to preview</a></div></div>'));return s},e}()}).call(this)}}),stitchRequire.define({EmbedHtmlConformer:function(e){(function(){e.EmbedHtmlConformer=function(){function e(){}return e.nonPercentWidthAndHeight=function(e,t){return-1===e.indexOf("%")&&-1===t.indexOf("%")},e.matchToInteger=function(e){return e?parseInt(e.match(/[0-9]*/)[0],10):0},e.heightToWidthRatio=function(e,t){return e>0?t/e:.75},e.htmlIsOnlyAScriptElement=function(e){return/^<script[\s\S]*<\/script>$/.test(e)},e.htmlIsOnlyAnIFrameElement=function(e){return/^<iframe[\s\S]*<\/iframe>$/.test(e)},e.requestedHeightFromHtml=function(e,t){var n,i,r,o,s,a,l,u;return l=null,i=null,u=e.match(/<(?:embed|object|iframe|video)[^>]*[^A-Za-z-]width[=: "']*([0-9.pxem%]*)/i),r=e.match(/<(?:embed|object|iframe|video)[^>]*[^A-Za-z-]height[=: "']*([0-9.pxem%]*)/i),u&&r?(l=u[1],i=r[1]):(u=e.match(/\{?["']width["' ]*:["' ]*([0-9%empx ]*)./i),r=e.match(/\{?["']height["' ]*:["' ]*([0-9%empx ]*)./i),u&&r&&(l=u[1],i=r[1])),l&&i&&(this.nonPercentWidthAndHeight(l,i)?(a=this.matchToInteger(l),n=this.matchToInteger(i),o=this.heightToWidthRatio(a,n),s=t*o):s=this.matchToInteger(i)),Math.round(s)},e.conformEmbedHeight=function(e,t){var n,i;return i=e.width(),n=this.requestedHeightFromHtml(t,i),n&&e.height(n).addClass("height-conformed"),[i,n]},e.embedRequiresUrlTransformation=function(e){return/embed_resources\/[a-zA-Z0-9]+\/iframe\//.test(e)},e.transformEmbedUrls=function(e,t,n){return t&&n&&(e=e.replace(/embed_resources\/([a-zA-Z0-9]+)\/iframe\/\d+\/\d+/,"embed_resources/$1/iframe/"+t+"/"+n)),e},e}()}).call(this)}}),function(){var e;"theme"===window.PopulrThemeMode&&(e=["Abril+Fatface","Alfa+Slab+One","Cabin","Calligraffitti","Cantarell","Coming+Soon","Crimson+Text","Dancing+Script","Fanwood+Text:400,400italic","Flamenco","Glass+Antiqua","Gravitas+One","Josefin+Slab:400,700,400italic,700italic","Lato:300,700,300italic,700italic","Lobster","Lobster+Two:400,400italic,700,700italic","Nixie+One","Passion+One:400,700","PT+Sans","Quattrocento","Raleway:100","Roboto:300,700,300italic,700italic","Tangerine:400,700","UnifrakturMaguntia","Unkempt:400,700","Vollkorn"],WebFont.load({google:{families:e}}))}.call(this),function(){$(document).on("pop-initialized",function(){return _.extend($.fancybox.defaults,{autoCenter:!0,beforeLoad:function(){var e;return e=$(this.element).closest(".populr-image-slider").children(".slideshow").data("cycle.API"),e?e.pause():void 0},afterClose:function(){var e;return e=$(this.element).closest(".populr-image-slider").children(".slideshow").data("cycle.API"),e?e.resume():void 0},closeClick:!0}),$(".fancybox").fancybox()})}.call(this),/*!
 * fancyBox - jQuery Plugin
 * version: 2.1.4 (Thu, 10 Jan 2013)
 * @requires jQuery v1.6 or later
 *
 * Examples at http://fancyapps.com/fancybox/
 * License: www.fancyapps.com/fancybox/#license
 *
 * Copyright 2012 Janis Skarnelis - janis@fancyapps.com
 *
 */
function(e,t,n,i){"use strict";var r=n(e),o=n(t),s=n.fancybox=function(){s.open.apply(this,arguments)},a=navigator.userAgent.match(/msie/),l=null,u=t.createTouch!==i,c=function(e){return e&&e.hasOwnProperty&&e instanceof n},d=function(e){return e&&"string"===n.type(e)},h=function(e){return d(e)&&e.indexOf("%")>0},p=function(e){return e&&!(e.style.overflow&&"hidden"===e.style.overflow)&&(e.clientWidth&&e.scrollWidth>e.clientWidth||e.clientHeight&&e.scrollHeight>e.clientHeight)},f=function(e,t){var n=parseInt(e,10)||0;return t&&h(e)&&(n=s.getViewport()[t]/100*n),Math.ceil(n)},g=function(e,t){return f(e,t)+"px"};n.extend(s,{version:"2.1.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!u,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(a?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeChange:n.noop,beforeClose:n.noop,afterClose:n.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){return e&&(n.isPlainObject(t)||(t={}),!1!==s.close(!0))?(n.isArray(e)||(e=c(e)?n(e).get():[e]),n.each(e,function(r,o){var a,l,u,h,p,f,g,m={};"object"===n.type(o)&&(o.nodeType&&(o=n(o)),c(o)?(m={href:o.data("fancybox-href")||o.attr("href"),title:o.data("fancybox-title")||o.attr("title"),isDom:!0,element:o},n.metadata&&n.extend(!0,m,o.metadata())):m=o),a=t.href||m.href||(d(o)?o:null),l=t.title!==i?t.title:m.title||"",u=t.content||m.content,h=u?"html":t.type||m.type,!h&&m.isDom&&(h=o.data("fancybox-type"),h||(p=o.prop("class").match(/fancybox\.(\w+)/),h=p?p[1]:null)),d(a)&&(h||(s.isImage(a)?h="image":s.isSWF(a)?h="swf":"#"===a.charAt(0)?h="inline":d(o)&&(h="html",u=o)),"ajax"===h&&(f=a.split(/\s+/,2),a=f.shift(),g=f.shift())),u||("inline"===h?a?u=n(d(a)?a.replace(/.*(?=#[^\s]+$)/,""):a):m.isDom&&(u=o):"html"===h?u=a:h||a||!m.isDom||(h="inline",u=o)),n.extend(m,{href:a,type:h,content:u,title:l,selector:g}),e[r]=m}),s.opts=n.extend(!0,{},s.defaults,t),t.keys!==i&&(s.opts.keys=t.keys?n.extend({},s.defaults.keys,t.keys):!1),s.group=e,s._start(s.opts.index)):void 0},cancel:function(){var e=s.coming;e&&!1!==s.trigger("onCancel")&&(s.hideLoading(),s.ajaxLoad&&s.ajaxLoad.abort(),s.ajaxLoad=null,s.imgPreload&&(s.imgPreload.onload=s.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),s.coming=null,s.current||s._afterZoomOut(e))},close:function(e){s.cancel(),!1!==s.trigger("beforeClose")&&(s.unbindEvents(),s.isActive&&(s.isOpen&&e!==!0?(s.isOpen=s.isOpened=!1,s.isClosing=!0,n(".fancybox-item, .fancybox-nav").remove(),s.wrap.stop(!0,!0).removeClass("fancybox-opened"),s.transitions[s.current.closeMethod]()):(n(".fancybox-wrap").stop(!0).trigger("onReset").remove(),s._afterZoomOut())))},play:function(e){var t=function(){clearTimeout(s.player.timer)},i=function(){t(),s.current&&s.player.isActive&&(s.player.timer=setTimeout(s.next,s.current.playSpeed))},r=function(){t(),n("body").unbind(".player"),s.player.isActive=!1,s.trigger("onPlayEnd")},o=function(){s.current&&(s.current.loop||s.current.index<s.group.length-1)&&(s.player.isActive=!0,n("body").bind({"afterShow.player onUpdate.player":i,"onCancel.player beforeClose.player":r,"beforeLoad.player":t}),i(),s.trigger("onPlayStart"))};e===!0||!s.player.isActive&&e!==!1?o():r()},next:function(e){var t=s.current;t&&(d(e)||(e=t.direction.next),s.jumpto(t.index+1,e,"next"))},prev:function(e){var t=s.current;t&&(d(e)||(e=t.direction.prev),s.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,n){var r=s.current;r&&(e=f(e),s.direction=t||r.direction[e>=r.index?"next":"prev"],s.router=n||"jumpto",r.loop&&(0>e&&(e=r.group.length+e%r.group.length),e%=r.group.length),r.group[e]!==i&&(s.cancel(),s._start(e)))},reposition:function(e,t){var i,r=s.current,o=r?r.wrap:null;o&&(i=s._getPosition(t),e&&"scroll"===e.type?(delete i.position,o.stop(!0,!0).animate(i,200)):(o.css(i),r.pos=n.extend({},r.dim,i)))},update:function(e){var t=e&&e.type,n=!t||"orientationchange"===t;n&&(clearTimeout(l),l=null),s.isOpen&&!l&&(l=setTimeout(function(){var i=s.current;i&&!s.isClosing&&(s.wrap.removeClass("fancybox-tmp"),(n||"load"===t||"resize"===t&&i.autoResize)&&s._setDimension(),"scroll"===t&&i.canShrink||s.reposition(e),s.trigger("onUpdate"),l=null)},n&&!u?0:300))},toggle:function(e){s.isOpen&&(s.current.fitToView="boolean"===n.type(e)?e:!s.current.fitToView,u&&(s.wrap.removeAttr("style").addClass("fancybox-tmp"),s.trigger("onUpdate")),s.update())},hideLoading:function(){o.unbind(".loading"),n("#fancybox-loading").remove()},showLoading:function(){var e,t;s.hideLoading(),e=n('<div id="fancybox-loading"><div></div></div>').click(s.cancel).appendTo("body"),o.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),s.cancel())}),s.defaults.fixed||(t=s.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t=s.current&&s.current.locked||!1,n={x:r.scrollLeft(),y:r.scrollTop()};return t?(n.w=t[0].clientWidth,n.h=t[0].clientHeight):(n.w=u&&e.innerWidth?e.innerWidth:r.width(),n.h=u&&e.innerHeight?e.innerHeight:r.height()),n},unbindEvents:function(){s.wrap&&c(s.wrap)&&s.wrap.unbind(".fb"),o.unbind(".fb"),r.unbind(".fb")},bindEvents:function(){var e,t=s.current;t&&(r.bind("orientationchange.fb"+(u?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),s.update),e=t.keys,e&&o.bind("keydown.fb",function(r){var o=r.which||r.keyCode,a=r.target||r.srcElement;return 27===o&&s.coming?!1:(r.ctrlKey||r.altKey||r.shiftKey||r.metaKey||a&&(a.type||n(a).is("[contenteditable]"))||n.each(e,function(e,a){return t.group.length>1&&a[o]!==i?(s[e](a[o]),r.preventDefault(),!1):n.inArray(o,a)>-1?(s[e](),r.preventDefault(),!1):void 0}),void 0)}),n.fn.mousewheel&&t.mouseWheel&&s.wrap.bind("mousewheel.fb",function(e,i,r,o){for(var a=e.target||null,l=n(a),u=!1;l.length&&!(u||l.is(".fancybox-skin")||l.is(".fancybox-wrap"));)u=p(l[0]),l=n(l).parent();0===i||u||s.group.length>1&&!t.canShrink&&(o>0||r>0?s.prev(o>0?"down":"left"):(0>o||0>r)&&s.next(0>o?"up":"right"),e.preventDefault())}))},trigger:function(e,t){var i,r=t||s.coming||s.current;if(r){if(n.isFunction(r[e])&&(i=r[e].apply(r,Array.prototype.slice.call(arguments,1))),i===!1)return!1;r.helpers&&n.each(r.helpers,function(t,i){i&&s.helpers[t]&&n.isFunction(s.helpers[t][e])&&(i=n.extend(!0,{},s.helpers[t].defaults,i),s.helpers[t][e](i,r))}),n.event.trigger(e+".fb")}},isImage:function(e){return d(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(e){return d(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,i,r,o,a,l={};if(e=f(e),t=s.group[e]||null,!t)return!1;if(l=n.extend(!0,{},s.opts,t),o=l.margin,a=l.padding,"number"===n.type(o)&&(l.margin=[o,o,o,o]),"number"===n.type(a)&&(l.padding=[a,a,a,a]),l.modal&&n.extend(!0,l,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),l.autoSize&&(l.autoWidth=l.autoHeight=!0),"auto"===l.width&&(l.autoWidth=!0),"auto"===l.height&&(l.autoHeight=!0),l.group=s.group,l.index=e,s.coming=l,!1===s.trigger("beforeLoad"))return s.coming=null,void 0;if(r=l.type,i=l.href,!r)return s.coming=null,s.current&&s.router&&"jumpto"!==s.router?(s.current.index=e,s[s.router](s.direction)):!1;if(s.isActive=!0,("image"===r||"swf"===r)&&(l.autoHeight=l.autoWidth=!1,l.scrolling="visible"),"image"===r&&(l.aspectRatio=!0),"iframe"===r&&u&&(l.scrolling="scroll"),l.wrap=n(l.tpl.wrap).addClass("fancybox-"+(u?"mobile":"desktop")+" fancybox-type-"+r+" fancybox-tmp "+l.wrapCSS).appendTo(l.parent||"body"),n.extend(l,{skin:n(".fancybox-skin",l.wrap),outer:n(".fancybox-outer",l.wrap),inner:n(".fancybox-inner",l.wrap)}),n.each(["Top","Right","Bottom","Left"],function(e,t){l.skin.css("padding"+t,g(l.padding[e]))}),s.trigger("onReady"),"inline"===r||"html"===r){if(!l.content||!l.content.length)return s._error("content")}else if(!i)return s._error("href");"image"===r?s._loadImage():"ajax"===r?s._loadAjax():"iframe"===r?s._loadIframe():s._afterLoad()},_error:function(e){n.extend(s.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:s.coming.tpl.error}),s._afterLoad()},_loadImage:function(){var e=s.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,s.coming.width=this.width,s.coming.height=this.height,s._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,s._error("image")},e.src=s.coming.href,e.complete!==!0&&s.showLoading()},_loadAjax:function(){var e=s.coming;s.showLoading(),s.ajaxLoad=n.ajax(n.extend({},e.ajax,{url:e.href,error:function(e,t){s.coming&&"abort"!==t?s._error("ajax",e):s.hideLoading()},success:function(t,n){"success"===n&&(e.content=t,s._afterLoad())}}))},_loadIframe:function(){var e=s.coming,t=n(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",u?"auto":e.iframe.scrolling).attr("src",e.href);n(e.wrap).bind("onReset",function(){try{n(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}}),e.iframe.preload&&(s.showLoading(),t.one("load",function(){n(this).data("ready",1),u||n(this).bind("load.fb",s.update),n(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),s._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||s._afterLoad()},_preloadImages:function(){var e,t,n=s.group,i=s.current,r=n.length,o=i.preload?Math.min(i.preload,r-1):0;for(t=1;o>=t;t+=1)e=n[(i.index+t)%r],"image"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,t,i,r,o,a,l=s.coming,u=s.current,d="fancybox-placeholder";if(s.hideLoading(),l&&s.isActive!==!1){if(!1===s.trigger("afterLoad",l,u))return l.wrap.stop(!0).trigger("onReset").remove(),s.coming=null,void 0;switch(u&&(s.trigger("beforeChange",u),u.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),s.unbindEvents(),e=l,t=l.content,i=l.type,r=l.scrolling,n.extend(s,{wrap:e.wrap,skin:e.skin,outer:e.outer,inner:e.inner,current:e,previous:u}),o=e.href,i){case"inline":case"ajax":case"html":e.selector?t=n("<div>").html(t).find(e.selector):c(t)&&(t.data(d)||t.data(d,n('<div class="'+d+'"></div>').insertAfter(t).hide()),t=t.show().detach(),e.wrap.bind("onReset",function(){n(this).find(t).length&&t.hide().replaceAll(t.data(d)).data(d,!1)}));break;case"image":t=e.tpl.image.replace("{href}",o);break;case"swf":t='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+o+'"></param>',a="",n.each(e.swf,function(e,n){t+='<param name="'+e+'" value="'+n+'"></param>',a+=" "+e+'="'+n+'"'}),t+='<embed src="'+o+'" type="application/x-shockwave-flash" width="100%" height="100%"'+a+"></embed></object>"}c(t)&&t.parent().is(e.inner)||e.inner.append(t),s.trigger("beforeShow"),e.inner.css("overflow","yes"===r?"scroll":"no"===r?"hidden":r),s._setDimension(),s.reposition(),s.isOpen=!1,s.coming=null,s.bindEvents(),s.isOpened?u.prevMethod&&s.transitions[u.prevMethod]():n(".fancybox-wrap").not(e.wrap).stop(!0).trigger("onReset").remove(),s.transitions[s.isOpened?e.nextMethod:e.openMethod](),s._preloadImages()}},_setDimension:function(){var e,t,i,r,o,a,l,u,c,d,p,m,v,y,b,w=s.getViewport(),_=0,x=!1,C=!1,k=s.wrap,E=s.skin,T=s.inner,S=s.current,A=S.width,N=S.height,P=S.minWidth,$=S.minHeight,O=S.maxWidth,D=S.maxHeight,j=S.scrolling,I=S.scrollOutside?S.scrollbarWidth:0,M=S.margin,R=f(M[1]+M[3]),L=f(M[0]+M[2]);if(k.add(E).add(T).width("auto").height("auto").removeClass("fancybox-tmp"),e=f(E.outerWidth(!0)-E.width()),t=f(E.outerHeight(!0)-E.height()),i=R+e,r=L+t,o=h(A)?(w.w-i)*f(A)/100:A,a=h(N)?(w.h-r)*f(N)/100:N,"iframe"===S.type){if(y=S.content,S.autoHeight&&1===y.data("ready"))try{y[0].contentWindow.document.location&&(T.width(o).height(9999),b=y.contents().find("body"),I&&b.css("overflow-x","hidden"),a=b.height())}catch(B){}}else(S.autoWidth||S.autoHeight)&&(T.addClass("fancybox-tmp"),S.autoWidth||T.width(o),S.autoHeight||T.height(a),S.autoWidth&&(o=T.width()),S.autoHeight&&(a=T.height()),T.removeClass("fancybox-tmp"));if(A=f(o),N=f(a),c=o/a,P=f(h(P)?f(P,"w")-i:P),O=f(h(O)?f(O,"w")-i:O),$=f(h($)?f($,"h")-r:$),D=f(h(D)?f(D,"h")-r:D),l=O,u=D,S.fitToView&&(O=Math.min(w.w-i,O),D=Math.min(w.h-r,D)),m=w.w-R,v=w.h-L,S.aspectRatio?(A>O&&(A=O,N=f(A/c)),N>D&&(N=D,A=f(N*c)),P>A&&(A=P,N=f(A/c)),$>N&&(N=$,A=f(N*c))):(A=Math.max(P,Math.min(A,O)),S.autoHeight&&"iframe"!==S.type&&(T.width(A),N=T.height()),N=Math.max($,Math.min(N,D))),S.fitToView)if(T.width(A).height(N),k.width(A+e),d=k.width(),p=k.height(),S.aspectRatio)for(;(d>m||p>v)&&A>P&&N>$&&!(_++>19);)N=Math.max($,Math.min(D,N-10)),A=f(N*c),P>A&&(A=P,N=f(A/c)),A>O&&(A=O,N=f(A/c)),T.width(A).height(N),k.width(A+e),d=k.width(),p=k.height();else A=Math.max(P,Math.min(A,A-(d-m))),N=Math.max($,Math.min(N,N-(p-v)));I&&"auto"===j&&a>N&&m>A+e+I&&(A+=I),T.width(A).height(N),k.width(A+e),d=k.width(),p=k.height(),x=(d>m||p>v)&&A>P&&N>$,C=S.aspectRatio?l>A&&u>N&&o>A&&a>N:(l>A||u>N)&&(o>A||a>N),n.extend(S,{dim:{width:g(d),height:g(p)},origWidth:o,origHeight:a,canShrink:x,canExpand:C,wPadding:e,hPadding:t,wrapSpace:p-E.outerHeight(!0),skinSpace:E.height()-N}),!y&&S.autoHeight&&N>$&&D>N&&!C&&T.height("auto")},_getPosition:function(e){var t=s.current,n=s.getViewport(),i=t.margin,r=s.wrap.width()+i[1]+i[3],o=s.wrap.height()+i[0]+i[2],a={position:"absolute",top:i[0],left:i[3]};return t.autoCenter&&t.fixed&&!e&&o<=n.h&&r<=n.w?a.position="fixed":t.locked||(a.top+=n.y,a.left+=n.x),a.top=g(Math.max(a.top,a.top+(n.h-o)*t.topRatio)),a.left=g(Math.max(a.left,a.left+(n.w-r)*t.leftRatio)),a},_afterZoomIn:function(){var e=s.current;e&&(s.isOpen=s.isOpened=!0,s.wrap.css("overflow","visible").addClass("fancybox-opened"),s.update(),(e.closeClick||e.nextClick&&s.group.length>1)&&s.inner.css("cursor","pointer").bind("click.fb",function(t){n(t.target).is("a")||n(t.target).parent().is("a")||(t.preventDefault(),s[e.closeClick?"close":"next"]())}),e.closeBtn&&n(e.tpl.closeBtn).appendTo(s.skin).bind("click.fb",function(e){e.preventDefault(),s.close()}),e.arrows&&s.group.length>1&&((e.loop||e.index>0)&&n(e.tpl.prev).appendTo(s.outer).bind("click.fb",s.prev),(e.loop||e.index<s.group.length-1)&&n(e.tpl.next).appendTo(s.outer).bind("click.fb",s.next)),s.trigger("afterShow"),e.loop||e.index!==e.group.length-1?s.opts.autoPlay&&!s.player.isActive&&(s.opts.autoPlay=!1,s.play()):s.play(!1))},_afterZoomOut:function(e){e=e||s.current,n(".fancybox-wrap").trigger("onReset").remove(),n.extend(s,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),s.trigger("afterClose",e)}}),s.transitions={getOrigPosition:function(){var e=s.current,t=e.element,n=e.orig,i={},r=50,o=50,a=e.hPadding,l=e.wPadding,u=s.getViewport();return!n&&e.isDom&&t.is(":visible")&&(n=t.find("img:first"),n.length||(n=t)),c(n)?(i=n.offset(),n.is("img")&&(r=n.outerWidth(),o=n.outerHeight())):(i.top=u.y+(u.h-o)*e.topRatio,i.left=u.x+(u.w-r)*e.leftRatio),("fixed"===s.wrap.css("position")||e.locked)&&(i.top-=u.y,i.left-=u.x),i={top:g(i.top-a*e.topRatio),left:g(i.left-l*e.leftRatio),width:g(r+l),height:g(o+a)}},step:function(e,t){var n,i,r,o=t.prop,a=s.current,l=a.wrapSpace,u=a.skinSpace;("width"===o||"height"===o)&&(n=t.end===t.start?1:(e-t.start)/(t.end-t.start),s.isClosing&&(n=1-n),i="width"===o?a.wPadding:a.hPadding,r=e-i,s.skin[o](f("width"===o?r:r-l*n)),s.inner[o](f("width"===o?r:r-l*n-u*n)))},zoomIn:function(){var e=s.current,t=e.pos,i=e.openEffect,r="elastic"===i,o=n.extend({opacity:1},t);delete o.position,r?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===i&&(t.opacity=.1),s.wrap.css(t).animate(o,{duration:"none"===i?0:e.openSpeed,easing:e.openEasing,step:r?this.step:null,complete:s._afterZoomIn})},zoomOut:function(){var e=s.current,t=e.closeEffect,n="elastic"===t,i={opacity:.1};n&&(i=this.getOrigPosition(),e.closeOpacity&&(i.opacity=.1)),s.wrap.animate(i,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:n?this.step:null,complete:s._afterZoomOut})},changeIn:function(){var e,t=s.current,n=t.nextEffect,i=t.pos,r={opacity:1},o=s.direction,a=200;i.opacity=.1,"elastic"===n&&(e="down"===o||"up"===o?"top":"left","down"===o||"right"===o?(i[e]=g(f(i[e])-a),r[e]="+="+a+"px"):(i[e]=g(f(i[e])+a),r[e]="-="+a+"px")),"none"===n?s._afterZoomIn():s.wrap.css(i).animate(r,{duration:t.nextSpeed,easing:t.nextEasing,complete:s._afterZoomIn})},changeOut:function(){var e=s.previous,t=e.prevEffect,i={opacity:.1},r=s.direction,o=200;"elastic"===t&&(i["down"===r||"up"===r?"top":"left"]=("up"===r||"left"===r?"-":"+")+"="+o+"px"),e.wrap.animate(i,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){n(this).trigger("onReset").remove()}})}},s.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!u,fixed:!0},overlay:null,fixed:!1,create:function(e){e=n.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=n('<div class="fancybox-overlay"></div>').appendTo("body"),this.fixed=!1,e.fixed&&s.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=n.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(r.bind("resize.overlay",n.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",function(e){n(e.target).hasClass("fancybox-overlay")&&(s.isActive?s.close():t.close())}),this.overlay.css(e.css).show()},close:function(){n(".fancybox-overlay").remove(),r.unbind("resize.overlay"),this.overlay=null,this.margin!==!1&&(n("body").css("margin-right",this.margin),this.margin=!1),this.el&&this.el.removeClass("fancybox-lock")},update:function(){var e,n="100%";this.overlay.width(n).height("100%"),a?(e=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),o.width()>e&&(n=o.width())):o.width()>r.width()&&(n=o.width()),this.overlay.width(n).height(o.height())},onReady:function(e,i){n(".fancybox-overlay").stop(!0,!0),this.overlay||(this.margin=o.height()>r.height()||"scroll"===n("body").css("overflow-y")?n("body").css("margin-right"):!1,this.el=t.all&&!t.querySelector?n("html"):n("body"),this.create(e)),e.locked&&this.fixed&&(i.locked=this.overlay.append(i.wrap),i.fixed=!1),e.showEarly===!0&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){t.locked&&(this.el.addClass("fancybox-lock"),this.margin!==!1&&n("body").css("margin-right",f(this.margin)+t.scrollbarWidth)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!s.isActive&&this.overlay.fadeOut(e.speedOut,n.proxy(this.close,this))}},s.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t,i,r=s.current,o=r.title,l=e.type;if(n.isFunction(o)&&(o=o.call(r.element,r)),d(o)&&""!==n.trim(o)){switch(t=n('<div class="fancybox-title fancybox-title-'+l+'-wrap">'+o+"</div>"),l){case"inside":i=s.skin;break;case"outside":i=s.wrap;break;case"over":i=s.inner;break;default:i=s.skin,t.appendTo("body"),a&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),s.current.margin[2]+=Math.abs(f(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](i)}}},n.fn.fancybox=function(e){var t,i=n(this),r=this.selector||"",a=function(o){var a,l,u=n(this).blur(),c=t;o.ctrlKey||o.altKey||o.shiftKey||o.metaKey||u.is(".fancybox-wrap")||(a=e.groupAttr||"data-fancybox-group",l=u.attr(a),l||(a="rel",l=u.get(0)[a]),l&&""!==l&&"nofollow"!==l&&(u=r.length?n(r):i,u=u.filter("["+a+'="'+l+'"]'),c=u.index(this)),e.index=c,s.open(u,e)!==!1&&o.preventDefault())};return e=e||{},t=e.index||0,r&&e.live!==!1?o.undelegate(r,"click.fb-start").delegate(r+":not('.fancybox-item, .fancybox-nav')","click.fb-start",a):i.unbind("click.fb-start").bind("click.fb-start",a),this.filter("[data-fancybox-start=1]").trigger("click"),this},o.ready(function(){n.scrollbarWidth===i&&(n.scrollbarWidth=function(){var e=n('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),i=t.innerWidth()-t.height(99).innerWidth();return e.remove(),i}),n.support.fixedPosition===i&&(n.support.fixedPosition=function(){var e=n('<div style="position:fixed;top:20px;"></div>').appendTo("body"),t=20===e[0].offsetTop||15===e[0].offsetTop;return e.remove(),t}()),n.extend(s.defaults,{scrollbarWidth:n.scrollbarWidth(),fixed:n.support.fixedPosition,parent:n("body")})})}(window,document,jQuery),function(){Modernizr.ios&&!function(e){function t(t,n,i){function r(){a&&(a.apply(e,arguments),l||(delete n[o],a=null))}var o,a=i[0],l=t===s;return i[0]=r,o=t.apply(e,i),n[o]={args:i,created:Date.now(),cb:a,id:o},o}function n(t,n,i,r){function o(){a.cb&&(a.cb.apply(e,arguments),l||(delete i[r],a.cb=null))}var a=i[r];if(a){var l=t===s;if(n(a.id),!l){var u=a.args[1],c=Date.now()-a.created;0>c&&(c=0),u-=c,0>u&&(u=0),a.args[1]=u}a.args[0]=o,a.created=Date.now(),a.id=t.apply(e,a.args)}}var i={},r={},o=e.setTimeout,s=e.setInterval,a=e.clearTimeout,l=e.clearInterval;if(!e.addEventListener)return!1;e.setTimeout=function(){return t(o,i,arguments)},e.setInterval=function(){return t(s,r,arguments)},e.clearTimeout=function(e){var t=i[e];t&&(delete i[e],a(t.id))},e.clearInterval=function(e){var t=r[e];t&&(delete r[e],l(t.id))};for(var u=e;u.location!=u.parent.location;)u=u.parent;u.addEventListener("scroll",function(){var e;for(e in i)n(o,a,i,e);for(e in r)n(s,l,r,e)})}(window),$(".asset").live("initialize",function(){var e;return e=$(this).find(".populr-image-slider .slideshow"),0!==e.length&&e.data("enabled")?(Modernizr.touch&&e.addClass("swipe-enabled").attr("data-cycle-swipe","true"),e.removeClass("disabled"),e.addClass("enabled"),e.data("pager-enabled")&&e.prepend('<div class="cycle-pager"></div>'),e.data("prevnext-enabled")&&e.prepend('<div class="cycle-prev prevnext"><div>prev</div></div><div class="cycle-next prevnext"><div>next</div></div>'),e.cycle(),window.Populr.ThemeEngine.updateImageSize?e.on("cycle-after.populr-image-slider",function(e,t,n,i){return window.Populr.ThemeEngine.updateImageSize(i)}):void 0):void 0}),$(".asset").live("destroy",function(){var e;return e=$(this).find(".populr-image-slider .slideshow"),0!==e.length&&e.data("enabled")?(e.cycle("destroy"),window.Populr.ThemeEngine.updateImageSize&&e.off("cycle-after.populr-image-slider"),Modernizr.touch&&e.removeClass("swipe-enabled").attr("data-cycle-swipe","false"),e.removeClass("enabled"),e.addClass("disabled"),e.find(".prevnext, .cycle-pager").remove(),e.children().attr("style","")):void 0}),$(".ie7 .populr-image-slider .slideshow").live("mouseover",function(){return $(this).addClass("hover")}),$(".ie7 .populr-image-slider .slideshow").live("mouseleave",function(){return $(this).removeClass("hover")})}.call(this),function(e){"use strict";function t(e){return(e||"").toLowerCase()}var n="20130307";e.fn.cycle=function(n){var i;return 0!==this.length||e.isReady?this.each(function(){var i,r,o,s,a=e(this),l=e.fn.cycle.log;if(!a.data("cycle.opts")){(a.data("cycle-log")===!1||n&&n.log===!1||r&&r.log===!1)&&(l=e.noop),l("--c2 init--"),i=a.data();for(var u in i)i.hasOwnProperty(u)&&/^cycle[A-Z]+/.test(u)&&(s=i[u],o=u.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,t),l(o+":",s,"("+typeof s+")"),i[o]=s);r=e.extend({},e.fn.cycle.defaults,i,n||{}),r.timeoutId=0,r.paused=r.paused||!1,r.container=a,r._maxZ=r.maxZ,r.API=e.extend({_container:a},e.fn.cycle.API),r.API.log=l,r.API.trigger=function(e,t){return r.container.trigger(e,t),r.API},a.data("cycle.opts",r),a.data("cycle.API",r.API),r.API.trigger("cycle-bootstrap",[r,r.API]),r.API.addInitialSlides(),r.API.preInitSlideshow(),r.slides.length&&r.API.initSlideshow()}}):(i={s:this.selector,c:this.context},e.fn.cycle.log("requeuing slideshow (dom not ready)"),e(function(){e(i.s,i.c).cycle(n)}),this)},e.fn.cycle.API={opts:function(){return this._container.data("cycle.opts")},addInitialSlides:function(){var t=this.opts(),n=t.slides;t.slideCount=0,t.slides=e(),n=n.jquery?n:t.container.find(n),t.random&&n.sort(function(){return Math.random()-.5}),t.API.add(n)},preInitSlideshow:function(){var t=this.opts();t.API.trigger("cycle-pre-initialize",[t]);var n=e.fn.cycle.transitions[t.fx];n&&e.isFunction(n.preInit)&&n.preInit(t),t._preInitialized=!0},postInitSlideshow:function(){var t=this.opts();t.API.trigger("cycle-post-initialize",[t]);var n=e.fn.cycle.transitions[t.fx];n&&e.isFunction(n.postInit)&&n.postInit(t)},initSlideshow:function(){var t,n=this.opts(),i=n.container;n.API.calcFirstSlide(),"static"==n.container.css("position")&&n.container.css("position","relative"),e(n.slides[n.currSlide]).css("opacity",1).show(),n.API.stackSlides(n.slides[n.currSlide],n.slides[n.nextSlide],!n.reverse),n.pauseOnHover&&(n.pauseOnHover!==!0&&(i=e(n.pauseOnHover)),i.hover(function(){n.hoverPaused=!0,n.paused||n.API.trigger("cycle-paused",[n])},function(){n.hoverPaused=!1,n.paused||n.API.trigger("cycle-resumed",[n])})),n.timeout&&(t=n.API.getSlideOpts(n.nextSlide),n.API.queueTransition(t)),n._initialized=!0,n.API.updateView(!0),n.container.on("cycle-paused cycle-resumed",function(e){n.container["cycle-paused"===e.type?"addClass":"removeClass"]("cycle-paused")}),n.API.trigger("cycle-initialized",[n]),n.API.postInitSlideshow()},add:function(t,n){var i,r=this.opts(),o=r.slideCount,s=!1;"string"==e.type(t)&&(t=e.trim(t)),e(t).each(function(){var t,i=e(this);n?r.container.prepend(i):r.container.append(i),r.slideCount++,t=r.API.buildSlideOpts(i),r.slides=n?e(i).add(r.slides):r.slides.add(i),r.API.initSlide(t,i,--r._maxZ),i.data("cycle.opts",t),r.API.trigger("cycle-slide-added",[r,t,i])}),r.API.updateView(!0),s=r._preInitialized&&2>o&&r.slideCount>=1,s&&(r._initialized?r.timeout&&(i=r.slides.length,r.nextSlide=r.reverse?i-1:1,r.timeoutId||r.API.queueTransition(r)):r.API.initSlideshow())},calcFirstSlide:function(){var e,t=this.opts();e=parseInt(t.startingSlide||0,10),(e>=t.slides.length||0>e)&&(e=0),t.currSlide=e,t.reverse?(t.nextSlide=e-1,t.nextSlide<0&&(t.nextSlide=t.slides.length-1)):(t.nextSlide=e+1,t.nextSlide==t.slides.length&&(t.nextSlide=0))},calcNextSlide:function(){var e,t=this.opts();t.reverse?(e=t.nextSlide-1<0,t.nextSlide=e?t.slideCount-1:t.nextSlide-1,t.currSlide=e?0:t.nextSlide+1):(e=t.nextSlide+1==t.slides.length,t.nextSlide=e?0:t.nextSlide+1,t.currSlide=e?t.slides.length-1:t.nextSlide-1)},calcTx:function(t,n){var i,r=t;return n&&r.manualFx&&(i=e.fn.cycle.transitions[r.manualFx]),i||(i=e.fn.cycle.transitions[r.fx]),i||(i=e.fn.cycle.transitions.fade,r.API.log('Transition "'+r.fx+'" not found.  Using fade.')),i},prepareTx:function(e,t){var n,i,r,o,s,a=this.opts();if(void 0!==a){if(a.slideCount<2)return a.timeoutId=0,void 0;!e||a.busy&&!a.manualTrump||(a.API.stopTransition(),a.busy=!1,clearTimeout(a.timeoutId),a.timeoutId=0),a.busy||(0!==a.timeoutId||e)&&(i=a.slides[a.currSlide],r=a.slides[a.nextSlide],o=a.API.getSlideOpts(a.nextSlide),s=a.API.calcTx(o,e),a._tx=s,e&&void 0!==o.manualSpeed&&(o.speed=o.manualSpeed),a.nextSlide!=a.currSlide&&(e||!a.paused&&!a.hoverPaused&&a.timeout)?(a.API.trigger("cycle-before",[o,i,r,t]),s.before&&s.before(o,i,r,t),n=function(){a.busy=!1,a.container.data("cycle.opts")&&(s.after&&s.after(o,i,r,t),a.API.trigger("cycle-after",[o,i,r,t]),a.API.queueTransition(o),a.API.updateView(!0))},a.busy=!0,s.transition?s.transition(o,i,r,t,n):a.API.doTransition(o,i,r,t,n),a.API.calcNextSlide(),a.API.updateView()):a.API.queueTransition(o))}},doTransition:function(t,n,i,r,o){var s=t,a=e(n),l=e(i),u=function(){l.animate(s.animIn||{opacity:1},s.speed,s.easeIn||s.easing,o)};l.css(s.cssBefore||{}),a.animate(s.animOut||{},s.speed,s.easeOut||s.easing,function(){a.css(s.cssAfter||{}),s.sync||u()}),s.sync&&u()},queueTransition:function(e){var t=this.opts();return 0===t.nextSlide&&0===--t.loop?(t.API.log("terminating; loop=0"),t.timeout=0,e.timeout?setTimeout(function(){t.API.trigger("cycle-finished",[t])},e.timeout):t.API.trigger("cycle-finished",[t]),t.nextSlide=t.currSlide,void 0):(e.timeout&&(t.timeoutId=setTimeout(function(){t.API.prepareTx(!1,!t.reverse)},e.timeout)),void 0)},stopTransition:function(){var e=this.opts();e.slides.filter(":animated").length&&(e.slides.stop(!1,!0),e.API.trigger("cycle-transition-stopped",[e])),e._tx&&e._tx.stopTransition&&e._tx.stopTransition(e)},advanceSlide:function(e){var t=this.opts();return clearTimeout(t.timeoutId),t.timeoutId=0,t.nextSlide=t.currSlide+e,t.nextSlide<0?t.nextSlide=t.slides.length-1:t.nextSlide>=t.slides.length&&(t.nextSlide=0),t.API.prepareTx(!0,e>=0),!1},buildSlideOpts:function(n){var i,r,o=this.opts(),s=n.data()||{};for(var a in s)s.hasOwnProperty(a)&&/^cycle[A-Z]+/.test(a)&&(i=s[a],r=a.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,t),o.API.log("["+(o.slideCount-1)+"]",r+":",i,"("+typeof i+")"),s[r]=i);s=e.extend({},e.fn.cycle.defaults,o,s),s.slideNum=o.slideCount;try{delete s.API,delete s.slideCount,delete s.currSlide,delete s.nextSlide,delete s.slides}catch(l){}return s},getSlideOpts:function(t){var n=this.opts();void 0===t&&(t=n.currSlide);var i=n.slides[t],r=e(i).data("cycle.opts");return e.extend({},n,r)},initSlide:function(t,n,i){var r=this.opts();n.css(t.slideCss||{}),i>0&&n.css("zIndex",i),isNaN(t.speed)&&(t.speed=e.fx.speeds[t.speed]||e.fx.speeds._default),t.sync||(t.speed=t.speed/2),n.addClass(r.slideClass)},updateView:function(e){var t=this.opts();if(t._initialized){var n=t.API.getSlideOpts(),i=t.slides[t.currSlide];!e&&(t.API.trigger("cycle-update-view-before",[t,n,i]),t.updateView<0)||(t.slideActiveClass&&t.slides.removeClass(t.slideActiveClass).eq(t.currSlide).addClass(t.slideActiveClass),e&&t.hideNonActive&&t.slides.filter(":not(."+t.slideActiveClass+")").hide(),t.API.trigger("cycle-update-view",[t,n,i,e]),t.API.trigger("cycle-update-view-after",[t,n,i]))}},getComponent:function(t){var n=this.opts(),i=n[t];return"string"==typeof i?/^\s*\>/.test(i)?n.container.find(i):e(i):i.jquery?i:e(i)},stackSlides:function(t,n,i){var r=this.opts();t||(t=r.slides[r.currSlide],n=r.slides[r.nextSlide],i=!r.reverse),e(t).css("zIndex",r.maxZ);var o,s=r.maxZ-2,a=r.slideCount;if(i){for(o=r.currSlide+1;a>o;o++)e(r.slides[o]).css("zIndex",s--);for(o=0;o<r.currSlide;o++)e(r.slides[o]).css("zIndex",s--)}else{for(o=r.currSlide-1;o>=0;o--)e(r.slides[o]).css("zIndex",s--);for(o=a-1;o>r.currSlide;o--)e(r.slides[o]).css("zIndex",s--)}e(n).css("zIndex",r.maxZ-1)},getSlideIndex:function(e){return this.opts().slides.index(e)}},e.fn.cycle.log=function(){window.console&&console.log&&console.log("[cycle2] "+Array.prototype.join.call(arguments," "))},e.fn.cycle.version=function(){return"Cycle2: "+n},e.fn.cycle.transitions={custom:{},none:{before:function(e,t,n,i){e.API.stackSlides(n,t,i),e.cssBefore={opacity:1,display:"block"}}},fade:{before:function(t,n,i,r){var o=t.API.getSlideOpts(t.nextSlide).slideCss||{};t.API.stackSlides(n,i,r),t.cssBefore=e.extend(o,{opacity:0,display:"block"}),t.animIn={opacity:1},t.animOut={opacity:0}
}},fadeout:{before:function(t,n,i,r){var o=t.API.getSlideOpts(t.nextSlide).slideCss||{};t.API.stackSlides(n,i,r),t.cssBefore=e.extend(o,{opacity:1,display:"block"}),t.animOut={opacity:0}}},scrollHorz:{before:function(e,t,n,i){e.API.stackSlides(t,n,i);var r=e.container.css("overflow","hidden").width();e.cssBefore={left:i?r:-r,top:0,opacity:1,display:"block"},e.cssAfter={zIndex:e._maxZ-2,left:0},e.animIn={left:0},e.animOut={left:i?-r:r}}}},e.fn.cycle.defaults={allowWrap:!0,autoSelector:".cycle-slideshow[data-cycle-auto-init!=false]",delay:0,easing:null,fx:"fade",hideNonActive:!0,loop:0,manualFx:void 0,manualSpeed:void 0,manualTrump:!0,maxZ:100,pauseOnHover:!1,reverse:!1,slideActiveClass:"cycle-slide-active",slideClass:"cycle-slide",slideCss:{position:"absolute",top:0,left:0},slides:"> img",speed:500,startingSlide:0,sync:!0,timeout:4e3,updateView:-1},e(document).ready(function(){e(e.fn.cycle.defaults.autoSelector).cycle()})}(jQuery),/*! Cycle2 autoheight plugin; Copyright (c) M.Alsup, 2012; version: 20130309 */
function(e){"use strict";function t(r,o){function s(){o._autoHeightRatio?o.container.height(o.container.width()/l):(clearTimeout(u),u=setTimeout(function(){t(r,o)},50))}var a,l,u,c=o.autoHeight;n(r,o),e(window).on("resize orientationchange",s),o._autoHeightOnResize=s,"calc"===c||"number"==e.type(c)&&c>=0?("calc"===c?c=i(o):c>=o.slides.length&&(c=0),a=e(o.slides[c]).clone(),a.removeAttr("id name rel").find("[id],[name],[rel]").removeAttr("id name rel"),a.css({position:"static",visibility:"hidden",display:"block"}).prependTo(o.container).removeClass().addClass("cycle-sentinel cycle-slide"),a.find("*").css("visibility","hidden"),o._sentinel=a):"string"==e.type(c)&&/\d+\:\d+/.test(c)&&(l=c.match(/(\d+)\:(\d+)/),l=l[1]/l[2],o._autoHeightRatio=l,setTimeout(function(){e(window).triggerHandler("resize")},15))}function n(t,n){n._sentinel&&(n._sentinel.remove(),n._sentinel=null),n._autoHeightOnResize&&(e(window).off("resize orientationchange",n._autoHeightOnResize),n._autoHeightOnResize=null)}function i(t){var n=0,i=-1;return t.slides.each(function(t){var r=e(this).height();r>i&&(i=r,n=t)}),n}e.extend(e.fn.cycle.defaults,{autoHeight:0}),e(document).on("cycle-initialized cycle-slide-added cycle-slide-removed",t),e(document).on("cycle-destroyed",n)}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{caption:"> .cycle-caption",captionTemplate:"{{slideNum}} / {{slideCount}}",overlay:"> .cycle-overlay",overlayTemplate:"<div>{{title}}</div><div>{{desc}}</div>",captionModule:"caption"}),e(document).on("cycle-update-view",function(t,n,i,r){if("caption"===n.captionModule){e.each(["caption","overlay"],function(){var e=this,t=i[e+"Template"],o=n.API.getComponent(e);o.length&&t?(o.html(n.API.tmpl(t,i,n,r)),o.show()):o.hide()})}}),e(document).on("cycle-destroyed",function(t,n){var i;e.each(["caption","overlay"],function(){var e=this,t=n[e+"Template"];n[e]&&t&&(i=n.API.getComponent("caption"),i.empty())})})}(jQuery),function(e){"use strict";var t=e.fn.cycle;e.fn.cycle=function(n){var i,r,o,s=e.makeArray(arguments);return"number"==e.type(n)?this.cycle("goto",n):"string"==e.type(n)?this.each(function(){var a;return i=n,o=e(this).data("cycle.opts"),void 0===o?(t.log('slideshow must be initialized before sending commands; "'+i+'" ignored'),void 0):(i="goto"==i?"jump":i,r=o.API[i],e.isFunction(r)?(a=e.makeArray(s),a.shift(),r.apply(o.API,a)):(t.log("unknown command: ",i),void 0))}):t.apply(this,arguments)},e.extend(e.fn.cycle,t),e.extend(t.API,{next:function(){var e=this.opts();if(!e.busy||e.manualTrump){var t=e.reverse?-1:1;e.allowWrap===!1&&e.currSlide+t>=e.slideCount||(e.API.advanceSlide(t),e.API.trigger("cycle-next",[e]).log("cycle-next"))}},prev:function(){var e=this.opts();if(!e.busy||e.manualTrump){var t=e.reverse?1:-1;e.allowWrap===!1&&e.currSlide+t<0||(e.API.advanceSlide(t),e.API.trigger("cycle-prev",[e]).log("cycle-prev"))}},destroy:function(){var e=this.opts();clearTimeout(e.timeoutId),e.timeoutId=0,e.API.stop(),e.API.trigger("cycle-destroyed",[e]).log("cycle-destroyed"),e.container.removeData("cycle.opts"),e.retainStylesOnDestroy||(e.container.removeAttr("style"),e.slides.removeAttr("style"),e.slides.removeClass("cycle-slide-active"))},jump:function(e){var t,n=this.opts();if(!n.busy||n.manualTrump){var i=parseInt(e,10);if(isNaN(i)||0>i||i>=n.slides.length)return n.API.log("goto: invalid slide index: "+i),void 0;if(i==n.currSlide)return n.API.log("goto: skipping, already on slide",i),void 0;n.nextSlide=i,clearTimeout(n.timeoutId),n.timeoutId=0,n.API.log("goto: ",i," (zero-index)"),t=n.currSlide<n.nextSlide,n.API.prepareTx(!0,t)}},stop:function(){var t=this.opts(),n=t.container;clearTimeout(t.timeoutId),t.timeoutId=0,t.API.stopTransition(),t.pauseOnHover&&(t.pauseOnHover!==!0&&(n=e(t.pauseOnHover)),n.off("mouseenter mouseleave")),t.API.trigger("cycle-stopped",[t]).log("cycle-stopped")},pause:function(){var e=this.opts();e.paused=!0,e.API.trigger("cycle-paused",[e]).log("cycle-paused")},resume:function(){var e=this.opts();e.paused=!1,e.API.trigger("cycle-resumed",[e]).log("cycle-resumed")},reinit:function(){var e=this.opts();e.API.destroy(),e.container.cycle()},remove:function(t){for(var n,i,r=this.opts(),o=[],s=1,a=0;a<r.slides.length;a++)n=r.slides[a],a==t?i=n:(o.push(n),e(n).data("cycle.opts").slideNum=s,s++);i&&(r.slides=e(o),r.slideCount--,e(i).remove(),t==r.currSlide&&r.API.advanceSlide(1),r.API.trigger("cycle-slide-removed",[r,t,i]).log("cycle-slide-removed"),r.API.updateView())}}),e(document).on("click.cycle","[data-cycle-cmd]",function(t){t.preventDefault();var n=e(this),i=n.data("cycle-cmd"),r=n.data("cycle-context")||".cycle-slideshow";e(r).cycle(i,n.data("cycle-arg"))})}(jQuery),function(e){"use strict";function t(t,n){var i;return t._hashFence?(t._hashFence=!1,void 0):(i=window.location.hash.substring(1),t.slides.each(function(r){return e(this).data("cycle-hash")==i?(n===!0?t.startingSlide=r:(t.nextSlide=r,t.API.prepareTx(!0,!1)),!1):void 0}),void 0)}e(document).on("cycle-pre-initialize",function(n,i){t(i,!0),i._onHashChange=function(){t(i,!1)},e(window).on("hashchange",i._onHashChange)}),e(document).on("cycle-update-view",function(e,t,n){n.hash&&(t._hashFence=!0,window.location.hash=n.hash)}),e(document).on("cycle-destroyed",function(t,n){n._onHashChange&&e(window).off("hashchange",n._onHashChange)})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{loader:!1}),e(document).on("cycle-bootstrap",function(t,n){function i(t,i){function o(t){var o;"wait"==n.loader?(a.push(t),0===u&&(a.sort(s),r.apply(n.API,[a,i]),n.container.removeClass("cycle-loading"))):(o=e(n.slides[n.currSlide]),r.apply(n.API,[t,i]),o.show(),n.container.removeClass("cycle-loading"))}function s(e,t){return e.data("index")-t.data("index")}var a=[];if("string"==e.type(t))t=e.trim(t);else if("array"===e.type(t))for(var l=0;l<t.length;l++)t[l]=e(t[l])[0];t=e(t);var u=t.length;u&&(t.hide().appendTo("body").each(function(t){function s(){0===--l&&(--u,o(c))}var l=0,c=e(this),d=c.is("img")?c:c.find("img");return c.data("index",t),d=d.filter(":not(.cycle-loader-ignore)").filter(':not([src=""])'),d.length?(l=d.length,d.each(function(){this.complete?s():e(this).load(function(){s()}).error(function(){0===--l&&(n.API.log("slide skipped; img not loaded:",this.src),0===--u&&"wait"==n.loader&&r.apply(n.API,[a,i]))})}),void 0):(--u,a.push(c),void 0)}),u&&n.container.addClass("cycle-loading"))}var r;n.loader&&(r=n.API.add,n.API.add=i)})}(jQuery),function(e){"use strict";function t(t,n,i){var r,o=t.API.getComponent("pager");o.each(function(){var o=e(this);if(n.pagerTemplate){var s=t.API.tmpl(n.pagerTemplate,n,t,i[0]);r=e(s).appendTo(o)}else r=o.children().eq(t.slideCount-1);r.on(t.pagerEvent,function(e){e.preventDefault(),t.API.page(o,e.currentTarget)})})}function n(e,t){var n=this.opts();if(!n.busy||n.manualTrump){var i=e.children().index(t),r=i,o=n.currSlide<r;n.currSlide!=r&&(n.nextSlide=r,n.API.prepareTx(!0,o),n.API.trigger("cycle-pager-activated",[n,e,t]))}}e.extend(e.fn.cycle.defaults,{pager:"> .cycle-pager",pagerActiveClass:"cycle-pager-active",pagerEvent:"click.cycle",pagerTemplate:"<span>&bull;</span>"}),e(document).on("cycle-bootstrap",function(e,n,i){i.buildPagerLink=t}),e(document).on("cycle-slide-added",function(e,t,i,r){t.pager&&(t.API.buildPagerLink(t,i,r),t.API.page=n)}),e(document).on("cycle-slide-removed",function(t,n,i){if(n.pager){var r=n.API.getComponent("pager");r.each(function(){var t=e(this);e(t.children()[i]).remove()})}}),e(document).on("cycle-update-view",function(t,n){var i;n.pager&&(i=n.API.getComponent("pager"),i.each(function(){e(this).children().removeClass(n.pagerActiveClass).eq(n.currSlide).addClass(n.pagerActiveClass)}))}),e(document).on("cycle-destroyed",function(e,t){var n;t.pager&&t.pagerTemplate&&(n=t.API.getComponent("pager"),n.empty())})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{next:"> .cycle-next",nextEvent:"click.cycle",disabledClass:"disabled",prev:"> .cycle-prev",prevEvent:"click.cycle",swipe:!1}),e(document).on("cycle-initialized",function(e,t){if(t.API.getComponent("next").on(t.nextEvent,function(e){e.preventDefault(),t.API.next()}),t.API.getComponent("prev").on(t.prevEvent,function(e){e.preventDefault(),t.API.prev()}),t.swipe){var n=t.swipeVert?"swipeUp.cycle":"swipeLeft.cycle swipeleft.cycle",i=t.swipeVert?"swipeDown.cycle":"swipeRight.cycle swiperight.cycle";t.container.on(n,function(){t.API.next()}),t.container.on(i,function(){t.API.prev()})}}),e(document).on("cycle-update-view",function(e,t){if(!t.allowWrap){var n=t.disabledClass,i=t.API.getComponent("next"),r=t.API.getComponent("prev"),o=t._prevBoundry||0,s=t._nextBoundry||t.slideCount-1;t.currSlide==s?i.addClass(n).prop("disabled",!0):i.removeClass(n).prop("disabled",!1),t.currSlide===o?r.addClass(n).prop("disabled",!0):r.removeClass(n).prop("disabled",!1)}}),e(document).on("cycle-destroyed",function(e,t){t.API.getComponent("prev").off(t.nextEvent),t.API.getComponent("next").off(t.prevEvent),t.container.off("swipeleft.cycle swiperight.cycle swipeLeft.cycle swipeRight.cycle swipeUp.cycle swipeDown.cycle")})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{progressive:!1}),e(document).on("cycle-pre-initialize",function(t,n){if(n.progressive){var i,r,o=n.API,s=o.next,a=o.prev,l=o.prepareTx,u=e.type(n.progressive);if("array"==u)i=n.progressive;else if(e.isFunction(n.progressive))i=n.progressive(n);else if("string"==u){if(r=e(n.progressive),i=e.trim(r.html()),!i)return;if(/^(\[)/.test(i))try{i=e.parseJSON(i)}catch(c){return o.log("error parsing progressive slides",c),void 0}else i=i.split(new RegExp(r.data("cycle-split")||"\n")),i[i.length-0]||i.pop()}l&&(o.prepareTx=function(e,t){var r,o;return e||0===i.length?(l.apply(n.API,[e,t]),void 0):(t&&n.currSlide==n.slideCount-1?(o=i[0],i=i.slice(1),n.container.one("cycle-slide-added",function(e,t){setTimeout(function(){t.API.advanceSlide(1)},50)}),n.API.add(o)):t||0!==n.currSlide?l.apply(n.API,[e,t]):(r=i.length-1,o=i[r],i=i.slice(0,r),n.container.one("cycle-slide-added",function(e,t){setTimeout(function(){t.currSlide=1,t.API.advanceSlide(-1)},50)}),n.API.add(o,!0)),void 0)}),s&&(o.next=function(){var e=this.opts();if(i.length&&e.currSlide==e.slideCount-1){var t=i[0];i=i.slice(1),e.container.one("cycle-slide-added",function(e,t){s.apply(t.API),t.container.removeClass("cycle-loading")}),e.container.addClass("cycle-loading"),e.API.add(t)}else s.apply(e.API)}),a&&(o.prev=function(){var e=this.opts();if(i.length&&0===e.currSlide){var t=i.length-1,n=i[t];i=i.slice(0,t),e.container.one("cycle-slide-added",function(e,t){t.currSlide=1,t.API.advanceSlide(-1),t.container.removeClass("cycle-loading")}),e.container.addClass("cycle-loading"),e.API.add(n,!0)}else a.apply(e.API)})}})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{tmplRegex:"{{((.)?.*?)}}"}),e.extend(e.fn.cycle.API,{tmpl:function(t,n){var i=new RegExp(n.tmplRegex||e.fn.cycle.defaults.tmplRegex,"g"),r=e.makeArray(arguments);return r.shift(),t.replace(i,function(t,n){var i,o,s,a,l=n.split(".");for(i=0;i<r.length;i++)if(s=r[i]){if(l.length>1)for(a=s,o=0;o<l.length;o++)s=a,a=a[l[o]]||n;else a=s[n];if(e.isFunction(a))return a.apply(s,r);if(void 0!==a&&null!==a&&a!=n)return a}return n})}})}(jQuery),/*! Plugin for Cycle2; Copyright (c) 2012 M. Alsup; ver: 20121120 */
function(e){"use strict";e.event.special.swipe=e.event.special.swipe||{scrollSupressionThreshold:10,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var t=e(this);t.bind("touchstart",function(n){function i(t){if(s){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t;r={time:(new Date).getTime(),coords:[n.pageX,n.pageY]},Math.abs(s.coords[0]-r.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault()}}var r,o=n.originalEvent.touches?n.originalEvent.touches[0]:n,s={time:(new Date).getTime(),coords:[o.pageX,o.pageY],origin:e(n.target)};t.bind("touchmove",i).one("touchend",function(){t.unbind("touchmove",i),s&&r&&r.time-s.time<e.event.special.swipe.durationThreshold&&Math.abs(s.coords[0]-r.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(s.coords[1]-r.coords[1])<e.event.special.swipe.verticalDistanceThreshold&&s.origin.trigger("swipe").trigger(s.coords[0]>r.coords[0]?"swipeleft":"swiperight"),s=r=void 0})})}},e.event.special.swipeleft=e.event.special.swipeleft||{setup:function(){e(this).bind("swipe",e.noop)}},e.event.special.swiperight=e.event.special.swiperight||e.event.special.swipeleft}(jQuery),function(){var e,t,n,i;i=[{duration:300,repeat:10},{duration:1e3,repeat:3},{duration:4e3,repeat:-1}],n=-1,t=1,e=function(){var r;if($("#custom-content").show(),$("#custom-content").toggle($("#custom-content").has(":visible").length>0),-1===t){if(r=i[n],!r)return;return setTimeout(e,r.duration)}if(t--,0===t){if(n++,r=i[n],!r)return;t=r.repeat}else if(r=i[n],!r)return;return setTimeout(e,r.duration)},e()}.call(this),function(){var e;e=stitchRequire("EmbedHtmlConformer").EmbedHtmlConformer,window.Populr.ThemeEngine.updateEmbedSize=function(){return $(".embedded-object").each(function(){var e;return e=$(this),window.Populr.ThemeEngine._resizeEmbed(e)})},window.Populr.ThemeEngine._resizeEmbed=function(t){var n,i,r,o;return n=t.html(),o=e.conformEmbedHeight(t,n),r=o[0],i=o[1],e.embedRequiresUrlTransformation(n)?(t.children().remove(),t.append(e.transformEmbedUrls(n,r,i))):void 0}}.call(this),function(){var e;window.Populr.ThemeEngine.updateImageSize=function(t){var n;return null==t&&(t=null),t=t||"#pop",n=$(t).find("img[src^='"+window.Populr.ThemeEngine.imageTransformer+"/']"),n.each(function(){var t,n,i,r,o,s,a,l,u,c,d,h;return i=$(this),i.is(":visible")&&(t=new RegExp("^"+window.Populr.ThemeEngine.imageTransformer+"/(\\d+)/(\\d+)/"),h=t.exec(i.attr("src")),r=h[0],d=h[1],n=h[2],i.data("populr-original-dimensions")?u=i.data("populr-original-dimensions"):(u={width:parseFloat(d),height:parseFloat(n)},i.data("populr-original-dimensions",u)),o=1+1/3,s=1/o,!(i.hasClass("populr-mobile-noresize")||null==i.attr("width")&&0===u.width)&&(i.attr("width")||i.attr("width",u.width),c=i.width()||u.width,l=e(c,u.width,u.height)))?l.width>=d*o||l.width<=d*s?(a=i.attr("src").replace(t,""+window.Populr.ThemeEngine.imageTransformer+"/"+l.width+"/"+l.height+"/"),i.attr("src",a)):void 0:void 0})},e=function(e,t,n){var i;return Modernizr.highres&&(e*=2),0===parseInt(t,10)?!1:(i=n/t,{width:e,height:Math.round(e*i)})}}.call(this),function(){var e;Modernizr.ios&&(e=function(){return window.location.hash?void 0:(document.height<window.outerHeight&&(document.body.style.height=window.outerHeight+50+"px"),setTimeout(function(){return window.scrollTo(0,1)},50))},window.addEventListener("load",function(){return window.pageYOffset?void 0:e()}),window.addEventListener("orientationchange",e))}.call(this),function(){var e,t,n,i,r,o;i=stitchRequire("models/Pop").Pop,r=stitchRequire("collections/PopAssetCollection").PopAssetCollection,t=stitchRequire("views/region/ColumnizerRegionView").ColumnizerRegionView,n=stitchRequire("views/region/PackerRegionView").PackerRegionView,o=function(e){return e.prototype.renderAddButtons=function(){},e.prototype.repositionAddButtons=function(){},e.prototype.assetViewJQuery=function(e){return $(e.el).data("asset",e.attributes).data("model-ref",e)}},o(t),o(n),e=stitchRequire("models/BaseAsset").BaseAsset,null==window.Populr.domain&&(window.Populr.domain="//populr.me"),null==window.PopulrThemeMode&&(window.PopulrThemeMode="theme"),"theme"===window.PopulrThemeMode&&window.Populr.ThemeEngine.registry.styles.push("//djtagfocfldiq.cloudfront.net/assets/theme_bundle-c719b6d2632c8ef5677314587c22f326.css"),window.Populr.EventMessenger=_.extend({},Backbone.Events),"theme"===window.PopulrThemeMode&&($(window).resize(_.throttle(function(){return window.Populr.ThemeEngine.updateEmbedSize(),window.Populr.ThemeEngine.updateImageSize(),window.Populr.ThemeEngine.repack()},500)),null!=window.addEventListener&&window.addEventListener("orientationchange",function(){return window.Populr.ThemeEngine.updateEmbedSize(),window.Populr.ThemeEngine.updateImageSize(),window.Populr.ThemeEngine.repack()})),window.Populr.ThemeEngine.repack=function(){var e;return e=stitchRequire("Packer").Packer,$(".packer-region").each(function(){var t;return t=parseInt($(this).data("gutter_width"),10),isNaN(t)&&(t=20),e.prototype.pack($,$(this),".asset-container",{gutterWidth:t})})},async.series([function(e){var t,n,i,r;for(r=window.Populr.ThemeEngine.registry.setups,n=0,i=r.length;i>n;n++)t=r[n],t.call(this);return e()},function(e){var t,n,i,r,o,s;if("publish"===window.PopulrThemeMode)return e();for(t=e,r=_.uniq(Populr.ThemeEngine.registry.scripts),n=o=0,s=r.length;s>o;n=++o)i=r[n],0!==i.indexOf("http")&&0!==i.indexOf("//")&&(0===i.indexOf("/")&&(i=i.substring(1)),r[n]=""+window.Populr.domain+"/"+i);0===r.length?(console.log("loaded 0 theme scripts"),t()):yepnope({load:r,complete:function(){return console.log("loaded "+r.length+" theme scripts"),t()}})},function(e){var t,n,i,r,o,s;if("publish"===window.PopulrThemeMode)return e();for(t=e,r=_.uniq(Populr.ThemeEngine.registry.styles),n=o=0,s=r.length;s>o;n=++o)i=r[n],0!==i.indexOf("http")&&0!==i.indexOf("//")&&(0===i.indexOf(window.Populr.domain)?r[n]=i:(0===i.indexOf("/")&&(i=i.substring(1)),r[n]=""+window.Populr.domain+"/"+i));0===r.length?(console.log("loaded 0 theme styles"),t()):yepnope({load:_.map(r,function(e){return"css!"+e}),complete:function(){return console.log("loaded "+r.length+" theme styles"),t()}})}],function(o){var s;if(o)throw new Error(o);if(!($(".less-error-message").length>0&&"theme"===window.PopulrThemeMode))return"theme"===window.PopulrThemeMode&&(window.Populr.dummyPop=new Populr.DummyPop),$(document).data("readyDeferred",$.Deferred()).ready(function(){return $(document).data("readyDeferred").resolve()}),$.when(null!=(s=window.Populr.dummyPop)?s.ready:void 0,$(document).data("readyDeferred")).then(function(){var o,s,a,l,u,c,d,h,p,f,g,m,v,y,b,w,x,C,k,E,T,S,A,N,P,O,D,j,I,M,R,L,B,H;console.log("initializing theme..."),"theme"===window.PopulrThemeMode?(p=window.Populr.dummyPop.pop,Populr.ThemeEngine.themeMetaData={base_path:"/"}):(p=window.PopulrInitialPopState,Populr.ThemeEngine.themeMetaData={base_path:window.PopulrThemePath});try{for(x=$("#theme").html(),/{{\s*?imageslider/.test(x)||(Populr.ThemeEngine.registry.scripts=_.without(Populr.ThemeEngine.registry.scripts,"//populr.me/themes/default/image-slider/jquery.cycle2.min.js","/themes/default/image-slider/jquery.cycle2.min.js","//populr.me/themes/default/image-slider/jquery.cycle2.swipe.min.js","/themes/default/image-slider/jquery.cycle2.swipe.min.js","//djtagfocfldiq.cloudfront.net/assets/theme_helpers/image_slider/init.js")),f=/{{(\#|{|\s*)pop_links/,f.test(x)||(x+="{{pop_links}}"),m=/{{(\#|{|\s*)sharing/,m.test(x)||(x+="{{sharing}}"),c=/{{(\#|{|\s*)logo|inline_logo_title/,c.test(x)||(x="{{logo}}"+x),C=Handlebars.compile(x),window.Populr.ThemeEngine._calculatingPopStructure=!0,C({title:"",pop:{},links:[],sharing:!1}),window.Populr.ThemeEngine._calculatingPopStructure=void 0,g=new i(p),g.bootstrapped=!0,Populr.currentPop=g,y={},g.set({contents:new r},{silent:!0}),M=p.contents,E=0,N=M.length;N>E;E++)o=M[E],d=new e(o),d.transformAttributes=!0,null==y[d.get("region")]&&(y[d.get("region")]=[]),y[d.get("region")].push(d),g.get("contents").add(d,{silent:!0});for(k=g.toTemplateAsset(!1),w=C({title:p.show_title?'<h1 id="pop-title">'+p.title+"</h1>":null,pop:k,links:g.getUnifiedLinks(),logo:g.getUnifiedLogo(),sharing:g.get("show_sharing")}),$("body").addClass(g.get("palette")),g.getUnifiedLogo()&&$("body").addClass("has-logo"),g.get("show_title")&&$("body").addClass("has-title"),_.isEmpty(g.getUnifiedLinks())||$("body").addClass("has-links"),g.get("show_sharing")&&$("body").addClass("has-sharing"),$("body").html('<div id="pop" class="themed">\n  <div id="main-content" class="clearfix">\n    '+w+"\n  </div>\n</div>"),"theme"===window.PopulrThemeMode&&window.Populr.dummyPop.setBackground(),R=window.Populr.ThemeEngine.regions,l=T=0,P=R.length;P>T;l=++T)v=R[l],b=_.reduce(v.options,function(e,t,n){var i;return i=n.replace(/(\_[a-z])/g,function(e){return e.toUpperCase().replace("_","")}),e[i]=parseFloat(t).toString()===t?parseFloat(t):t,e},{}),h=_.defaults(b,{el:$(".region[data-region-id="+l+"]"),region:window.Populr.ThemeEngine.regions[l]}),"columnizer"===v.type?(v.view=new t(h),v.view.dragging=!0,v.view.assets=[]):"packer"===v.type&&(v.view=new n(h),v.view.dragging=!0,v.view.wrapAsset=_.wrap(v.view.wrapAsset,function(e,t){var n;return o=t.data("model-ref"),n=e(t),n.attr("style","position: absolute; left: "+o.get("x")+"px; top: "+o.get("y")+"px;"),n.attr("data-x",o.get("x")),n.attr("data-y",o.get("y")),n}),v.view.reflow=_.wrap(v.view.reflow,function(){this.$el.height(this.minRegionHeight())}),v.view.assets=[]);for(g.get("contents").each(function(e,t){var n,i,r,o,s,a;if(i=k.contents[t],o=i.type.toLowerCase(),n=null!=(s=window.Populr.ThemeEngine.regions[i.layout.region])?null!=(a=s.templates[o])?a[i.layout.size]:void 0:void 0,!n)throw new Error("Asset template undefined for region: "+i.layout.region+", type: "+o+", size: "+i.layout.size+" model:\n\n"+JSON.stringify(i));return r=n.call(this,i),e.el='<div class="asset asset-type-'+o+" asset-size-"+i.layout.size+'" data-region-id="'+i.layout.region+'">\n  <div class="asset-inner">'+r+"</div>\n</div>",window.Populr.ThemeEngine.regions[i.layout.region].view.assets.push(e)}),L=window.Populr.ThemeEngine.regions,S=0,O=L.length;O>S;S++)v=L[S],v.view.render();if("publish"!==window.PopulrThemeMode)try{_.isEmpty(_.string.trim(g.get("custom_code")))||$("#main-content").after('<div id="custom-content">'+g.get("custom_code")+"</div>")}catch(F){a=F,console.error("Custom code error:",a.message)}}catch(F){if(a=F,"theme"===window.PopulrThemeMode)return document.body.innerHTML="<h1>Error</h1><p>"+a.toString()+"</p>",void 0;if("publish"===window.PopulrThemeMode)throw a}if("publish"!==window.PopulrThemeMode){for(B=window.Populr.ThemeEngine.registry.initializers,A=0,D=B.length;D>A;A++)u=B[A],$(u.selector).on(u.event,u.callback);for(H=window.Populr.ThemeEngine.registry.destroyers,I=0,j=H.length;j>I;I++)s=H[I],$(s.selector).on(s.event,s.callback)}return $(document).trigger("pop-initialized"),"theme"===window.PopulrThemeMode&&(window.Populr.ThemeEngine.updateEmbedSize(),window.Populr.ThemeEngine.updateImageSize(),$(".embedded-object iframe").load(function(){var e;return e=$(this).closest(".embedded-object"),e.data("populr-iframe-loaded",!0),window.Populr.ThemeEngine.updateEmbedSize(e)})),"publish"!==window.PopulrThemeMode&&_.defer(function(){return $(".asset").each(function(){return $(this).trigger("initialize",$(this).data("asset"))})}),"publish"!==window.PopulrThemeMode?$("a").attr("target","_blank"):void 0})})}.call(this);